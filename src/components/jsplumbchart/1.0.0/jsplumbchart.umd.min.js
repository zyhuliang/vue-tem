(function(t,n){"object"===typeof exports&&"object"===typeof module?module.exports=n(require("vue")):"function"===typeof define&&define.amd?define([],n):"object"===typeof exports?exports["jsplumbchart"]=n(require("vue")):t["jsplumbchart"]=n(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s="fd77")}({"0192":function(t,n,e){var r=e("f240"),i=Math.max,o=Math.min;t.exports=function(t,n){var e=r(t);return e<0?i(e+n,0):o(e,n)}},"01d7":function(t,n,e){"use strict";var r=e("7dc7"),i=e("c223"),o=e("aec8");t.exports=function(t,n,e){var s=r(n);s in t?i.f(t,s,o(0,e)):t[s]=e}},"021b":function(t,n,e){"use strict";var r=e("407d").forEach,i=e("fb11"),o=e("6885"),s=i("forEach"),a=o("forEach");t.exports=s&&a?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"02d0":function(t,n,e){var r=e("f28d"),i=e("8c47"),o=e("6be9").indexOf,s=e("4888");t.exports=function(t,n){var e,a=i(t),u=0,l=[];for(e in a)!r(s,e)&&r(a,e)&&l.push(e);while(n.length>u)r(a,e=n[u++])&&(~o(l,e)||l.push(e));return l}},"032e":function(t,n,e){var r=e("d5dc"),i=e("d68d"),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},"0618":function(t,n,e){"use strict";var r=e("ac83");t.exports=function(){var t=r(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.dotAll&&(n+="s"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},"0b29":function(t,n,e){var r=e("a9f2");t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 0:return function(){return t.call(n)};case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}}},1072:function(t,n){n.f=Object.getOwnPropertySymbols},"12d9":function(t,n,e){var r=e("f30e"),i=/#|\.prototype\./,o=function(t,n){var e=a[s(t)];return e==l||e!=u&&("function"==typeof n?r(n):!!n)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},1544:function(t,n,e){var r=e("8c47"),i=e("65af").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(n){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):i(r(t))}},"16e5":function(t,n,e){var r=e("02d0"),i=e("6807");t.exports=Object.keys||function(t){return r(t,i)}},"1a8c":function(t,n,e){"use strict";var r=e("91fe"),i=e("407d").map,o=e("b1a1"),s=e("6885"),a=o("map"),u=s("map");r({target:"Array",proto:!0,forced:!a||!u},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"1fa1":function(t,n){function e(t){var n=Object.create(null);return{on:function(e,r,i){if("function"!==typeof r)throw new Error("callback is expected to be a function");var o=n[e];return o||(o=n[e]=[]),o.push({callback:r,ctx:i}),t},off:function(e,r){var i="undefined"===typeof e;if(i)return n=Object.create(null),t;if(n[e]){var o="function"!==typeof r;if(o)delete n[e];else for(var s=n[e],a=0;a<s.length;++a)s[a].callback===r&&s.splice(a,1)}return t},fire:function(e){var r,i=n[e];if(!i)return t;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var o=0;o<i.length;++o){var s=i[o];s.callback.apply(s.ctx,r)}return t}}}function r(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var n=["on","fire","off"],e=0;e<n.length;++e)if(t.hasOwnProperty(n[e]))throw new Error("Subject cannot be eventified, since it already has property '"+n[e]+"'")}t.exports=function(t){r(t);var n=e(t);return t.on=n.on,t.off=n.off,t.fire=n.fire,t}},"200e":function(t,n,e){var r=e("d5dc"),i=e("2ba5");t.exports=function(t,n){try{i(r,t,n)}catch(e){r[t]=n}return n}},"21d4":function(t,n,e){"use strict";var r=e("0618"),i=e("dcb6"),o=RegExp.prototype.exec,s=String.prototype.replace,a=o,u=function(){var t=/a/,n=/b*/g;return o.call(t,"a"),o.call(n,"a"),0!==t.lastIndex||0!==n.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,c=void 0!==/()??/.exec("")[1],h=u||c||l;h&&(a=function(t){var n,e,i,a,h=this,f=l&&h.sticky,p=r.call(h),d=h.source,v=0,g=t;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(t).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==t[h.lastIndex-1])&&(d="(?: "+d+")",g=" "+g,v++),e=new RegExp("^(?:"+d+")",p)),c&&(e=new RegExp("^"+d+"$(?!\\s)",p)),u&&(n=h.lastIndex),i=o.call(f?e:h,g),f?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:u&&i&&(h.lastIndex=h.global?i.index+i[0].length:n),c&&i&&i.length>1&&s.call(i[0],e,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i}),t.exports=a},"2a2f":function(t,n,e){var r=e("d5dc");t.exports=r},"2ba5":function(t,n,e){var r=e("7a23"),i=e("c223"),o=e("aec8");t.exports=r?function(t,n,e){return i.f(t,n,o(1,e))}:function(t,n,e){return t[n]=e,t}},3109:function(t,n,e){var r=e("d5dc"),i=e("527d"),o=r.WeakMap;t.exports="function"===typeof o&&/native code/.test(i(o))},3132:function(t,n,e){var r=e("d68d"),i=e("a8c9"),o=e("57c4"),s=o("species");t.exports=function(t,n){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)?r(e)&&(e=e[s],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===n?0:n)}},3193:function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"31c3":function(t,n,e){},3303:function(t,n,e){var r=e("f240"),i=e("3193"),o=function(t){return function(n,e){var o,s,a=String(i(n)),u=r(e),l=a.length;return u<0||u>=l?t?"":void 0:(o=a.charCodeAt(u),o<55296||o>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},"354c":function(t,n,e){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);n.f=o?function(t){var n=i(this,t);return!!n&&n.enumerable}:r},"391c":function(t,n,e){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,s="4.17.15",a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="__lodash_hash_undefined__",h=500,f="__lodash_placeholder__",p=1,d=2,v=4,g=1,m=2,y=1,b=2,_=4,x=8,P=16,w=32,C=64,E=128,j=256,S=512,D=30,I="...",A=800,k=16,O=1,T=2,M=3,L=1/0,F=9007199254740991,R=17976931348623157e292,N=NaN,B=4294967295,U=B-1,G=B>>>1,z=[["ary",E],["bind",y],["bindKey",b],["curry",x],["curryRight",P],["flip",S],["partial",w],["partialRight",C],["rearg",j]],W="[object Arguments]",H="[object Array]",Y="[object AsyncFunction]",X="[object Boolean]",q="[object Date]",V="[object DOMException]",$="[object Error]",Z="[object Function]",K="[object GeneratorFunction]",J="[object Map]",Q="[object Number]",tt="[object Null]",nt="[object Object]",et="[object Promise]",rt="[object Proxy]",it="[object RegExp]",ot="[object Set]",st="[object String]",at="[object Symbol]",ut="[object Undefined]",lt="[object WeakMap]",ct="[object WeakSet]",ht="[object ArrayBuffer]",ft="[object DataView]",pt="[object Float32Array]",dt="[object Float64Array]",vt="[object Int8Array]",gt="[object Int16Array]",mt="[object Int32Array]",yt="[object Uint8Array]",bt="[object Uint8ClampedArray]",_t="[object Uint16Array]",xt="[object Uint32Array]",Pt=/\b__p \+= '';/g,wt=/\b(__p \+=) '' \+/g,Ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Et=/&(?:amp|lt|gt|quot|#39);/g,jt=/[&<>"']/g,St=RegExp(Et.source),Dt=RegExp(jt.source),It=/<%-([\s\S]+?)%>/g,At=/<%([\s\S]+?)%>/g,kt=/<%=([\s\S]+?)%>/g,Ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tt=/^\w*$/,Mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lt=/[\\^$.*+?()[\]{}|]/g,Ft=RegExp(Lt.source),Rt=/^\s+|\s+$/g,Nt=/^\s+/,Bt=/\s+$/,Ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Gt=/\{\n\/\* \[wrapped with (.+)\] \*/,zt=/,? & /,Wt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ht=/\\(\\)?/g,Yt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xt=/\w*$/,qt=/^[-+]0x[0-9a-f]+$/i,Vt=/^0b[01]+$/i,$t=/^\[object .+?Constructor\]$/,Zt=/^0o[0-7]+$/i,Kt=/^(?:0|[1-9]\d*)$/,Jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qt=/($^)/,tn=/['\n\r\u2028\u2029\\]/g,nn="\\ud800-\\udfff",en="\\u0300-\\u036f",rn="\\ufe20-\\ufe2f",on="\\u20d0-\\u20ff",sn=en+rn+on,an="\\u2700-\\u27bf",un="a-z\\xdf-\\xf6\\xf8-\\xff",ln="\\xac\\xb1\\xd7\\xf7",cn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hn="\\u2000-\\u206f",fn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pn="A-Z\\xc0-\\xd6\\xd8-\\xde",dn="\\ufe0e\\ufe0f",vn=ln+cn+hn+fn,gn="['’]",mn="["+nn+"]",yn="["+vn+"]",bn="["+sn+"]",_n="\\d+",xn="["+an+"]",Pn="["+un+"]",wn="[^"+nn+vn+_n+an+un+pn+"]",Cn="\\ud83c[\\udffb-\\udfff]",En="(?:"+bn+"|"+Cn+")",jn="[^"+nn+"]",Sn="(?:\\ud83c[\\udde6-\\uddff]){2}",Dn="[\\ud800-\\udbff][\\udc00-\\udfff]",In="["+pn+"]",An="\\u200d",kn="(?:"+Pn+"|"+wn+")",On="(?:"+In+"|"+wn+")",Tn="(?:"+gn+"(?:d|ll|m|re|s|t|ve))?",Mn="(?:"+gn+"(?:D|LL|M|RE|S|T|VE))?",Ln=En+"?",Fn="["+dn+"]?",Rn="(?:"+An+"(?:"+[jn,Sn,Dn].join("|")+")"+Fn+Ln+")*",Nn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Un=Fn+Ln+Rn,Gn="(?:"+[xn,Sn,Dn].join("|")+")"+Un,zn="(?:"+[jn+bn+"?",bn,Sn,Dn,mn].join("|")+")",Wn=RegExp(gn,"g"),Hn=RegExp(bn,"g"),Yn=RegExp(Cn+"(?="+Cn+")|"+zn+Un,"g"),Xn=RegExp([In+"?"+Pn+"+"+Tn+"(?="+[yn,In,"$"].join("|")+")",On+"+"+Mn+"(?="+[yn,In+kn,"$"].join("|")+")",In+"?"+kn+"+"+Tn,In+"+"+Mn,Bn,Nn,_n,Gn].join("|"),"g"),qn=RegExp("["+An+nn+sn+dn+"]"),Vn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$n=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zn=-1,Kn={};Kn[pt]=Kn[dt]=Kn[vt]=Kn[gt]=Kn[mt]=Kn[yt]=Kn[bt]=Kn[_t]=Kn[xt]=!0,Kn[W]=Kn[H]=Kn[ht]=Kn[X]=Kn[ft]=Kn[q]=Kn[$]=Kn[Z]=Kn[J]=Kn[Q]=Kn[nt]=Kn[it]=Kn[ot]=Kn[st]=Kn[lt]=!1;var Jn={};Jn[W]=Jn[H]=Jn[ht]=Jn[ft]=Jn[X]=Jn[q]=Jn[pt]=Jn[dt]=Jn[vt]=Jn[gt]=Jn[mt]=Jn[J]=Jn[Q]=Jn[nt]=Jn[it]=Jn[ot]=Jn[st]=Jn[at]=Jn[yt]=Jn[bt]=Jn[_t]=Jn[xt]=!0,Jn[$]=Jn[Z]=Jn[lt]=!1;var Qn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},te={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ne={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ee={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},re=parseFloat,ie=parseInt,oe="object"==typeof t&&t&&t.Object===Object&&t,se="object"==typeof self&&self&&self.Object===Object&&self,ae=oe||se||Function("return this")(),ue=n&&!n.nodeType&&n,le=ue&&"object"==typeof r&&r&&!r.nodeType&&r,ce=le&&le.exports===ue,he=ce&&oe.process,fe=function(){try{var t=le&&le.require&&le.require("util").types;return t||he&&he.binding&&he.binding("util")}catch(n){}}(),pe=fe&&fe.isArrayBuffer,de=fe&&fe.isDate,ve=fe&&fe.isMap,ge=fe&&fe.isRegExp,me=fe&&fe.isSet,ye=fe&&fe.isTypedArray;function be(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function _e(t,n,e,r){var i=-1,o=null==t?0:t.length;while(++i<o){var s=t[i];n(r,s,e(s),t)}return r}function xe(t,n){var e=-1,r=null==t?0:t.length;while(++e<r)if(!1===n(t[e],e,t))break;return t}function Pe(t,n){var e=null==t?0:t.length;while(e--)if(!1===n(t[e],e,t))break;return t}function we(t,n){var e=-1,r=null==t?0:t.length;while(++e<r)if(!n(t[e],e,t))return!1;return!0}function Ce(t,n){var e=-1,r=null==t?0:t.length,i=0,o=[];while(++e<r){var s=t[e];n(s,e,t)&&(o[i++]=s)}return o}function Ee(t,n){var e=null==t?0:t.length;return!!e&&Re(t,n,0)>-1}function je(t,n,e){var r=-1,i=null==t?0:t.length;while(++r<i)if(e(n,t[r]))return!0;return!1}function Se(t,n){var e=-1,r=null==t?0:t.length,i=Array(r);while(++e<r)i[e]=n(t[e],e,t);return i}function De(t,n){var e=-1,r=n.length,i=t.length;while(++e<r)t[i+e]=n[e];return t}function Ie(t,n,e,r){var i=-1,o=null==t?0:t.length;r&&o&&(e=t[++i]);while(++i<o)e=n(e,t[i],i,t);return e}function Ae(t,n,e,r){var i=null==t?0:t.length;r&&i&&(e=t[--i]);while(i--)e=n(e,t[i],i,t);return e}function ke(t,n){var e=-1,r=null==t?0:t.length;while(++e<r)if(n(t[e],e,t))return!0;return!1}var Oe=Ge("length");function Te(t){return t.split("")}function Me(t){return t.match(Wt)||[]}function Le(t,n,e){var r;return e(t,(function(t,e,i){if(n(t,e,i))return r=e,!1})),r}function Fe(t,n,e,r){var i=t.length,o=e+(r?1:-1);while(r?o--:++o<i)if(n(t[o],o,t))return o;return-1}function Re(t,n,e){return n===n?fr(t,n,e):Fe(t,Be,e)}function Ne(t,n,e,r){var i=e-1,o=t.length;while(++i<o)if(r(t[i],n))return i;return-1}function Be(t){return t!==t}function Ue(t,n){var e=null==t?0:t.length;return e?Ye(t,n)/e:N}function Ge(t){return function(n){return null==n?o:n[t]}}function ze(t){return function(n){return null==t?o:t[n]}}function We(t,n,e,r,i){return i(t,(function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)})),e}function He(t,n){var e=t.length;t.sort(n);while(e--)t[e]=t[e].value;return t}function Ye(t,n){var e,r=-1,i=t.length;while(++r<i){var s=n(t[r]);s!==o&&(e=e===o?s:e+s)}return e}function Xe(t,n){var e=-1,r=Array(t);while(++e<t)r[e]=n(e);return r}function qe(t,n){return Se(n,(function(n){return[n,t[n]]}))}function Ve(t){return function(n){return t(n)}}function $e(t,n){return Se(n,(function(n){return t[n]}))}function Ze(t,n){return t.has(n)}function Ke(t,n){var e=-1,r=t.length;while(++e<r&&Re(n,t[e],0)>-1);return e}function Je(t,n){var e=t.length;while(e--&&Re(n,t[e],0)>-1);return e}function Qe(t,n){var e=t.length,r=0;while(e--)t[e]===n&&++r;return r}var tr=ze(Qn),nr=ze(te);function er(t){return"\\"+ee[t]}function rr(t,n){return null==t?o:t[n]}function ir(t){return qn.test(t)}function or(t){return Vn.test(t)}function sr(t){var n,e=[];while(!(n=t.next()).done)e.push(n.value);return e}function ar(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e}function ur(t,n){return function(e){return t(n(e))}}function lr(t,n){var e=-1,r=t.length,i=0,o=[];while(++e<r){var s=t[e];s!==n&&s!==f||(t[e]=f,o[i++]=e)}return o}function cr(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e}function hr(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=[t,t]})),e}function fr(t,n,e){var r=e-1,i=t.length;while(++r<i)if(t[r]===n)return r;return-1}function pr(t,n,e){var r=e+1;while(r--)if(t[r]===n)return r;return r}function dr(t){return ir(t)?mr(t):Oe(t)}function vr(t){return ir(t)?yr(t):Te(t)}var gr=ze(ne);function mr(t){var n=Yn.lastIndex=0;while(Yn.test(t))++n;return n}function yr(t){return t.match(Yn)||[]}function br(t){return t.match(Xn)||[]}var _r=function t(n){n=null==n?ae:xr.defaults(ae.Object(),n,xr.pick(ae,$n));var e=n.Array,r=n.Date,i=n.Error,Wt=n.Function,nn=n.Math,en=n.Object,rn=n.RegExp,on=n.String,sn=n.TypeError,an=e.prototype,un=Wt.prototype,ln=en.prototype,cn=n["__core-js_shared__"],hn=un.toString,fn=ln.hasOwnProperty,pn=0,dn=function(){var t=/[^.]+$/.exec(cn&&cn.keys&&cn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),vn=ln.toString,gn=hn.call(en),mn=ae._,yn=rn("^"+hn.call(fn).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bn=ce?n.Buffer:o,_n=n.Symbol,xn=n.Uint8Array,Pn=bn?bn.allocUnsafe:o,wn=ur(en.getPrototypeOf,en),Cn=en.create,En=ln.propertyIsEnumerable,jn=an.splice,Sn=_n?_n.isConcatSpreadable:o,Dn=_n?_n.iterator:o,In=_n?_n.toStringTag:o,An=function(){try{var t=Ys(en,"defineProperty");return t({},"",{}),t}catch(n){}}(),kn=n.clearTimeout!==ae.clearTimeout&&n.clearTimeout,On=r&&r.now!==ae.Date.now&&r.now,Tn=n.setTimeout!==ae.setTimeout&&n.setTimeout,Mn=nn.ceil,Ln=nn.floor,Fn=en.getOwnPropertySymbols,Rn=bn?bn.isBuffer:o,Nn=n.isFinite,Bn=an.join,Un=ur(en.keys,en),Gn=nn.max,zn=nn.min,Yn=r.now,Xn=n.parseInt,qn=nn.random,Vn=an.reverse,Qn=Ys(n,"DataView"),te=Ys(n,"Map"),ne=Ys(n,"Promise"),ee=Ys(n,"Set"),oe=Ys(n,"WeakMap"),se=Ys(en,"create"),ue=oe&&new oe,le={},he=Aa(Qn),fe=Aa(te),Oe=Aa(ne),Te=Aa(ee),ze=Aa(oe),fr=_n?_n.prototype:o,mr=fr?fr.valueOf:o,yr=fr?fr.toString:o;function _r(t){if(wc(t)&&!sc(t)&&!(t instanceof Er)){if(t instanceof Cr)return t;if(fn.call(t,"__wrapped__"))return Oa(t)}return new Cr(t)}var Pr=function(){function t(){}return function(n){if(!Pc(n))return{};if(Cn)return Cn(n);t.prototype=n;var e=new t;return t.prototype=o,e}}();function wr(){}function Cr(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=o}function Er(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function jr(){var t=new Er(this.__wrapped__);return t.__actions__=es(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=es(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=es(this.__views__),t}function Sr(){if(this.__filtered__){var t=new Er(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Dr(){var t=this.__wrapped__.value(),n=this.__dir__,e=sc(t),r=n<0,i=e?t.length:0,o=Zs(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,h=c.length,f=0,p=zn(u,this.__takeCount__);if(!e||!r&&i==u&&p==u)return Ro(t,this.__actions__);var d=[];t:while(u--&&f<p){l+=n;var v=-1,g=t[l];while(++v<h){var m=c[v],y=m.iteratee,b=m.type,_=y(g);if(b==T)g=_;else if(!_){if(b==O)continue t;break t}}d[f++]=g}return d}function Ir(t){var n=-1,e=null==t?0:t.length;this.clear();while(++n<e){var r=t[n];this.set(r[0],r[1])}}function Ar(){this.__data__=se?se(null):{},this.size=0}function kr(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}function Or(t){var n=this.__data__;if(se){var e=n[t];return e===c?o:e}return fn.call(n,t)?n[t]:o}function Tr(t){var n=this.__data__;return se?n[t]!==o:fn.call(n,t)}function Mr(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=se&&n===o?c:n,this}function Lr(t){var n=-1,e=null==t?0:t.length;this.clear();while(++n<e){var r=t[n];this.set(r[0],r[1])}}function Fr(){this.__data__=[],this.size=0}function Rr(t){var n=this.__data__,e=ui(n,t);if(e<0)return!1;var r=n.length-1;return e==r?n.pop():jn.call(n,e,1),--this.size,!0}function Nr(t){var n=this.__data__,e=ui(n,t);return e<0?o:n[e][1]}function Br(t){return ui(this.__data__,t)>-1}function Ur(t,n){var e=this.__data__,r=ui(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this}function Gr(t){var n=-1,e=null==t?0:t.length;this.clear();while(++n<e){var r=t[n];this.set(r[0],r[1])}}function zr(){this.size=0,this.__data__={hash:new Ir,map:new(te||Lr),string:new Ir}}function Wr(t){var n=Ws(this,t)["delete"](t);return this.size-=n?1:0,n}function Hr(t){return Ws(this,t).get(t)}function Yr(t){return Ws(this,t).has(t)}function Xr(t,n){var e=Ws(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this}function qr(t){var n=-1,e=null==t?0:t.length;this.__data__=new Gr;while(++n<e)this.add(t[n])}function Vr(t){return this.__data__.set(t,c),this}function $r(t){return this.__data__.has(t)}function Zr(t){var n=this.__data__=new Lr(t);this.size=n.size}function Kr(){this.__data__=new Lr,this.size=0}function Jr(t){var n=this.__data__,e=n["delete"](t);return this.size=n.size,e}function Qr(t){return this.__data__.get(t)}function ti(t){return this.__data__.has(t)}function ni(t,n){var e=this.__data__;if(e instanceof Lr){var r=e.__data__;if(!te||r.length<a-1)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new Gr(r)}return e.set(t,n),this.size=e.size,this}function ei(t,n){var e=sc(t),r=!e&&oc(t),i=!e&&!r&&hc(t),o=!e&&!r&&!i&&Nc(t),s=e||r||i||o,a=s?Xe(t.length,on):[],u=a.length;for(var l in t)!n&&!fn.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ia(l,u))||a.push(l);return a}function ri(t){var n=t.length;return n?t[go(0,n-1)]:o}function ii(t,n){return Sa(es(t),di(n,0,t.length))}function oi(t){return Sa(es(t))}function si(t,n,e){(e===o||ec(t[n],e))&&(e!==o||n in t)||fi(t,n,e)}function ai(t,n,e){var r=t[n];fn.call(t,n)&&ec(r,e)&&(e!==o||n in t)||fi(t,n,e)}function ui(t,n){var e=t.length;while(e--)if(ec(t[e][0],n))return e;return-1}function li(t,n,e,r){return _i(t,(function(t,i,o){n(r,t,e(t),o)})),r}function ci(t,n){return t&&rs(n,_h(n),t)}function hi(t,n){return t&&rs(n,xh(n),t)}function fi(t,n,e){"__proto__"==n&&An?An(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function pi(t,n){var r=-1,i=n.length,s=e(i),a=null==t;while(++r<i)s[r]=a?o:dh(t,n[r]);return s}function di(t,n,e){return t===t&&(e!==o&&(t=t<=e?t:e),n!==o&&(t=t>=n?t:n)),t}function vi(t,n,e,r,i,s){var a,u=n&p,l=n&d,c=n&v;if(e&&(a=i?e(t,r,i,s):e(t)),a!==o)return a;if(!Pc(t))return t;var h=sc(t);if(h){if(a=Qs(t),!u)return es(t,a)}else{var f=$s(t),g=f==Z||f==K;if(hc(t))return Xo(t,u);if(f==nt||f==W||g&&!i){if(a=l||g?{}:ta(t),!u)return l?os(t,hi(a,t)):is(t,ci(a,t))}else{if(!Jn[f])return i?t:{};a=na(t,f,u)}}s||(s=new Zr);var m=s.get(t);if(m)return m;s.set(t,a),Lc(t)?t.forEach((function(r){a.add(vi(r,n,e,r,t,s))})):Cc(t)&&t.forEach((function(r,i){a.set(i,vi(r,n,e,i,t,s))}));var y=c?l?Ns:Rs:l?xh:_h,b=h?o:y(t);return xe(b||t,(function(r,i){b&&(i=r,r=t[i]),ai(a,i,vi(r,n,e,i,t,s))})),a}function gi(t){var n=_h(t);return function(e){return mi(e,t,n)}}function mi(t,n,e){var r=e.length;if(null==t)return!r;t=en(t);while(r--){var i=e[r],s=n[i],a=t[i];if(a===o&&!(i in t)||!s(a))return!1}return!0}function yi(t,n,e){if("function"!=typeof t)throw new sn(l);return wa((function(){t.apply(o,e)}),n)}function bi(t,n,e,r){var i=-1,o=Ee,s=!0,u=t.length,l=[],c=n.length;if(!u)return l;e&&(n=Se(n,Ve(e))),r?(o=je,s=!1):n.length>=a&&(o=Ze,s=!1,n=new qr(n));t:while(++i<u){var h=t[i],f=null==e?h:e(h);if(h=r||0!==h?h:0,s&&f===f){var p=c;while(p--)if(n[p]===f)continue t;l.push(h)}else o(n,f,r)||l.push(h)}return l}_r.templateSettings={escape:It,evaluate:At,interpolate:kt,variable:"",imports:{_:_r}},_r.prototype=wr.prototype,_r.prototype.constructor=_r,Cr.prototype=Pr(wr.prototype),Cr.prototype.constructor=Cr,Er.prototype=Pr(wr.prototype),Er.prototype.constructor=Er,Ir.prototype.clear=Ar,Ir.prototype["delete"]=kr,Ir.prototype.get=Or,Ir.prototype.has=Tr,Ir.prototype.set=Mr,Lr.prototype.clear=Fr,Lr.prototype["delete"]=Rr,Lr.prototype.get=Nr,Lr.prototype.has=Br,Lr.prototype.set=Ur,Gr.prototype.clear=zr,Gr.prototype["delete"]=Wr,Gr.prototype.get=Hr,Gr.prototype.has=Yr,Gr.prototype.set=Xr,qr.prototype.add=qr.prototype.push=Vr,qr.prototype.has=$r,Zr.prototype.clear=Kr,Zr.prototype["delete"]=Jr,Zr.prototype.get=Qr,Zr.prototype.has=ti,Zr.prototype.set=ni;var _i=us(Ii),xi=us(Ai,!0);function Pi(t,n){var e=!0;return _i(t,(function(t,r,i){return e=!!n(t,r,i),e})),e}function wi(t,n,e){var r=-1,i=t.length;while(++r<i){var s=t[r],a=n(s);if(null!=a&&(u===o?a===a&&!Rc(a):e(a,u)))var u=a,l=s}return l}function Ci(t,n,e,r){var i=t.length;e=Xc(e),e<0&&(e=-e>i?0:i+e),r=r===o||r>i?i:Xc(r),r<0&&(r+=i),r=e>r?0:qc(r);while(e<r)t[e++]=n;return t}function Ei(t,n){var e=[];return _i(t,(function(t,r,i){n(t,r,i)&&e.push(t)})),e}function ji(t,n,e,r,i){var o=-1,s=t.length;e||(e=ra),i||(i=[]);while(++o<s){var a=t[o];n>0&&e(a)?n>1?ji(a,n-1,e,r,i):De(i,a):r||(i[i.length]=a)}return i}var Si=ls(),Di=ls(!0);function Ii(t,n){return t&&Si(t,n,_h)}function Ai(t,n){return t&&Di(t,n,_h)}function ki(t,n){return Ce(n,(function(n){return bc(t[n])}))}function Oi(t,n){n=zo(n,t);var e=0,r=n.length;while(null!=t&&e<r)t=t[Ia(n[e++])];return e&&e==r?t:o}function Ti(t,n,e){var r=n(t);return sc(t)?r:De(r,e(t))}function Mi(t){return null==t?t===o?ut:tt:In&&In in en(t)?Xs(t):ma(t)}function Li(t,n){return t>n}function Fi(t,n){return null!=t&&fn.call(t,n)}function Ri(t,n){return null!=t&&n in en(t)}function Ni(t,n,e){return t>=zn(n,e)&&t<Gn(n,e)}function Bi(t,n,r){var i=r?je:Ee,s=t[0].length,a=t.length,u=a,l=e(a),c=1/0,h=[];while(u--){var f=t[u];u&&n&&(f=Se(f,Ve(n))),c=zn(f.length,c),l[u]=!r&&(n||s>=120&&f.length>=120)?new qr(u&&f):o}f=t[0];var p=-1,d=l[0];t:while(++p<s&&h.length<c){var v=f[p],g=n?n(v):v;if(v=r||0!==v?v:0,!(d?Ze(d,g):i(h,g,r))){u=a;while(--u){var m=l[u];if(!(m?Ze(m,g):i(t[u],g,r)))continue t}d&&d.push(g),h.push(v)}}return h}function Ui(t,n,e,r){return Ii(t,(function(t,i,o){n(r,e(t),i,o)})),r}function Gi(t,n,e){n=zo(n,t),t=ba(t,n);var r=null==t?t:t[Ia(ru(n))];return null==r?o:be(r,t,e)}function zi(t){return wc(t)&&Mi(t)==W}function Wi(t){return wc(t)&&Mi(t)==ht}function Hi(t){return wc(t)&&Mi(t)==q}function Yi(t,n,e,r,i){return t===n||(null==t||null==n||!wc(t)&&!wc(n)?t!==t&&n!==n:Xi(t,n,e,r,Yi,i))}function Xi(t,n,e,r,i,o){var s=sc(t),a=sc(n),u=s?H:$s(t),l=a?H:$s(n);u=u==W?nt:u,l=l==W?nt:l;var c=u==nt,h=l==nt,f=u==l;if(f&&hc(t)){if(!hc(n))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new Zr),s||Nc(t)?Ts(t,n,e,r,i,o):Ms(t,n,u,e,r,i,o);if(!(e&g)){var p=c&&fn.call(t,"__wrapped__"),d=h&&fn.call(n,"__wrapped__");if(p||d){var v=p?t.value():t,m=d?n.value():n;return o||(o=new Zr),i(v,m,e,r,o)}}return!!f&&(o||(o=new Zr),Ls(t,n,e,r,i,o))}function qi(t){return wc(t)&&$s(t)==J}function Vi(t,n,e,r){var i=e.length,s=i,a=!r;if(null==t)return!s;t=en(t);while(i--){var u=e[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}while(++i<s){u=e[i];var l=u[0],c=t[l],h=u[1];if(a&&u[2]){if(c===o&&!(l in t))return!1}else{var f=new Zr;if(r)var p=r(c,h,l,t,n,f);if(!(p===o?Yi(h,c,g|m,r,f):p))return!1}}return!0}function $i(t){if(!Pc(t)||la(t))return!1;var n=bc(t)?yn:$t;return n.test(Aa(t))}function Zi(t){return wc(t)&&Mi(t)==it}function Ki(t){return wc(t)&&$s(t)==ot}function Ji(t){return wc(t)&&xc(t.length)&&!!Kn[Mi(t)]}function Qi(t){return"function"==typeof t?t:null==t?If:"object"==typeof t?sc(t)?oo(t[0],t[1]):io(t):zf(t)}function to(t){if(!ha(t))return Un(t);var n=[];for(var e in en(t))fn.call(t,e)&&"constructor"!=e&&n.push(e);return n}function no(t){if(!Pc(t))return ga(t);var n=ha(t),e=[];for(var r in t)("constructor"!=r||!n&&fn.call(t,r))&&e.push(r);return e}function eo(t,n){return t<n}function ro(t,n){var r=-1,i=uc(t)?e(t.length):[];return _i(t,(function(t,e,o){i[++r]=n(t,e,o)})),i}function io(t){var n=Hs(t);return 1==n.length&&n[0][2]?pa(n[0][0],n[0][1]):function(e){return e===t||Vi(e,t,n)}}function oo(t,n){return sa(t)&&fa(n)?pa(Ia(t),n):function(e){var r=dh(e,t);return r===o&&r===n?gh(e,t):Yi(n,r,g|m)}}function so(t,n,e,r,i){t!==n&&Si(n,(function(s,a){if(i||(i=new Zr),Pc(s))ao(t,n,a,e,so,r,i);else{var u=r?r(xa(t,a),s,a+"",t,n,i):o;u===o&&(u=s),si(t,a,u)}}),xh)}function ao(t,n,e,r,i,s,a){var u=xa(t,e),l=xa(n,e),c=a.get(l);if(c)si(t,e,c);else{var h=s?s(u,l,e+"",t,n,a):o,f=h===o;if(f){var p=sc(l),d=!p&&hc(l),v=!p&&!d&&Nc(l);h=l,p||d||v?sc(u)?h=u:lc(u)?h=es(u):d?(f=!1,h=Xo(l,!0)):v?(f=!1,h=Ko(l,!0)):h=[]:Oc(l)||oc(l)?(h=u,oc(u)?h=$c(u):Pc(u)&&!bc(u)||(h=ta(l))):f=!1}f&&(a.set(l,h),i(h,l,r,s,a),a["delete"](l)),si(t,e,h)}}function uo(t,n){var e=t.length;if(e)return n+=n<0?e:0,ia(n,e)?t[n]:o}function lo(t,n,e){var r=-1;n=Se(n.length?n:[If],Ve(zs()));var i=ro(t,(function(t,e,i){var o=Se(n,(function(n){return n(t)}));return{criteria:o,index:++r,value:t}}));return He(i,(function(t,n){return Qo(t,n,e)}))}function co(t,n){return ho(t,n,(function(n,e){return gh(t,e)}))}function ho(t,n,e){var r=-1,i=n.length,o={};while(++r<i){var s=n[r],a=Oi(t,s);e(a,s)&&Po(o,zo(s,t),a)}return o}function fo(t){return function(n){return Oi(n,t)}}function po(t,n,e,r){var i=r?Ne:Re,o=-1,s=n.length,a=t;t===n&&(n=es(n)),e&&(a=Se(t,Ve(e)));while(++o<s){var u=0,l=n[o],c=e?e(l):l;while((u=i(a,c,u,r))>-1)a!==t&&jn.call(a,u,1),jn.call(t,u,1)}return t}function vo(t,n){var e=t?n.length:0,r=e-1;while(e--){var i=n[e];if(e==r||i!==o){var o=i;ia(i)?jn.call(t,i,1):Mo(t,i)}}return t}function go(t,n){return t+Ln(qn()*(n-t+1))}function mo(t,n,r,i){var o=-1,s=Gn(Mn((n-t)/(r||1)),0),a=e(s);while(s--)a[i?s:++o]=t,t+=r;return a}function yo(t,n){var e="";if(!t||n<1||n>F)return e;do{n%2&&(e+=t),n=Ln(n/2),n&&(t+=t)}while(n);return e}function bo(t,n){return Ca(ya(t,n,If),t+"")}function _o(t){return ri(Bh(t))}function xo(t,n){var e=Bh(t);return Sa(e,di(n,0,e.length))}function Po(t,n,e,r){if(!Pc(t))return t;n=zo(n,t);var i=-1,s=n.length,a=s-1,u=t;while(null!=u&&++i<s){var l=Ia(n[i]),c=e;if(i!=a){var h=u[l];c=r?r(h,l,u):o,c===o&&(c=Pc(h)?h:ia(n[i+1])?[]:{})}ai(u,l,c),u=u[l]}return t}var wo=ue?function(t,n){return ue.set(t,n),t}:If,Co=An?function(t,n){return An(t,"toString",{configurable:!0,enumerable:!1,value:Ef(n),writable:!0})}:If;function Eo(t){return Sa(Bh(t))}function jo(t,n,r){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;var s=e(o);while(++i<o)s[i]=t[i+n];return s}function So(t,n){var e;return _i(t,(function(t,r,i){return e=n(t,r,i),!e})),!!e}function Do(t,n,e){var r=0,i=null==t?r:t.length;if("number"==typeof n&&n===n&&i<=G){while(r<i){var o=r+i>>>1,s=t[o];null!==s&&!Rc(s)&&(e?s<=n:s<n)?r=o+1:i=o}return i}return Io(t,n,If,e)}function Io(t,n,e,r){n=e(n);var i=0,s=null==t?0:t.length,a=n!==n,u=null===n,l=Rc(n),c=n===o;while(i<s){var h=Ln((i+s)/2),f=e(t[h]),p=f!==o,d=null===f,v=f===f,g=Rc(f);if(a)var m=r||v;else m=c?v&&(r||p):u?v&&p&&(r||!d):l?v&&p&&!d&&(r||!g):!d&&!g&&(r?f<=n:f<n);m?i=h+1:s=h}return zn(s,U)}function Ao(t,n){var e=-1,r=t.length,i=0,o=[];while(++e<r){var s=t[e],a=n?n(s):s;if(!e||!ec(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function ko(t){return"number"==typeof t?t:Rc(t)?N:+t}function Oo(t){if("string"==typeof t)return t;if(sc(t))return Se(t,Oo)+"";if(Rc(t))return yr?yr.call(t):"";var n=t+"";return"0"==n&&1/t==-L?"-0":n}function To(t,n,e){var r=-1,i=Ee,o=t.length,s=!0,u=[],l=u;if(e)s=!1,i=je;else if(o>=a){var c=n?null:Ss(t);if(c)return cr(c);s=!1,i=Ze,l=new qr}else l=n?[]:u;t:while(++r<o){var h=t[r],f=n?n(h):h;if(h=e||0!==h?h:0,s&&f===f){var p=l.length;while(p--)if(l[p]===f)continue t;n&&l.push(f),u.push(h)}else i(l,f,e)||(l!==u&&l.push(f),u.push(h))}return u}function Mo(t,n){return n=zo(n,t),t=ba(t,n),null==t||delete t[Ia(ru(n))]}function Lo(t,n,e,r){return Po(t,n,e(Oi(t,n)),r)}function Fo(t,n,e,r){var i=t.length,o=r?i:-1;while((r?o--:++o<i)&&n(t[o],o,t));return e?jo(t,r?0:o,r?o+1:i):jo(t,r?o+1:0,r?i:o)}function Ro(t,n){var e=t;return e instanceof Er&&(e=e.value()),Ie(n,(function(t,n){return n.func.apply(n.thisArg,De([t],n.args))}),e)}function No(t,n,r){var i=t.length;if(i<2)return i?To(t[0]):[];var o=-1,s=e(i);while(++o<i){var a=t[o],u=-1;while(++u<i)u!=o&&(s[o]=bi(s[o]||a,t[u],n,r))}return To(ji(s,1),n,r)}function Bo(t,n,e){var r=-1,i=t.length,s=n.length,a={};while(++r<i){var u=r<s?n[r]:o;e(a,t[r],u)}return a}function Uo(t){return lc(t)?t:[]}function Go(t){return"function"==typeof t?t:If}function zo(t,n){return sc(t)?t:sa(t,n)?[t]:Da(Kc(t))}var Wo=bo;function Ho(t,n,e){var r=t.length;return e=e===o?r:e,!n&&e>=r?t:jo(t,n,e)}var Yo=kn||function(t){return ae.clearTimeout(t)};function Xo(t,n){if(n)return t.slice();var e=t.length,r=Pn?Pn(e):new t.constructor(e);return t.copy(r),r}function qo(t){var n=new t.constructor(t.byteLength);return new xn(n).set(new xn(t)),n}function Vo(t,n){var e=n?qo(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}function $o(t){var n=new t.constructor(t.source,Xt.exec(t));return n.lastIndex=t.lastIndex,n}function Zo(t){return mr?en(mr.call(t)):{}}function Ko(t,n){var e=n?qo(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function Jo(t,n){if(t!==n){var e=t!==o,r=null===t,i=t===t,s=Rc(t),a=n!==o,u=null===n,l=n===n,c=Rc(n);if(!u&&!c&&!s&&t>n||s&&a&&l&&!u&&!c||r&&a&&l||!e&&l||!i)return 1;if(!r&&!s&&!c&&t<n||c&&e&&i&&!r&&!s||u&&e&&i||!a&&i||!l)return-1}return 0}function Qo(t,n,e){var r=-1,i=t.criteria,o=n.criteria,s=i.length,a=e.length;while(++r<s){var u=Jo(i[r],o[r]);if(u){if(r>=a)return u;var l=e[r];return u*("desc"==l?-1:1)}}return t.index-n.index}function ts(t,n,r,i){var o=-1,s=t.length,a=r.length,u=-1,l=n.length,c=Gn(s-a,0),h=e(l+c),f=!i;while(++u<l)h[u]=n[u];while(++o<a)(f||o<s)&&(h[r[o]]=t[o]);while(c--)h[u++]=t[o++];return h}function ns(t,n,r,i){var o=-1,s=t.length,a=-1,u=r.length,l=-1,c=n.length,h=Gn(s-u,0),f=e(h+c),p=!i;while(++o<h)f[o]=t[o];var d=o;while(++l<c)f[d+l]=n[l];while(++a<u)(p||o<s)&&(f[d+r[a]]=t[o++]);return f}function es(t,n){var r=-1,i=t.length;n||(n=e(i));while(++r<i)n[r]=t[r];return n}function rs(t,n,e,r){var i=!e;e||(e={});var s=-1,a=n.length;while(++s<a){var u=n[s],l=r?r(e[u],t[u],u,e,t):o;l===o&&(l=t[u]),i?fi(e,u,l):ai(e,u,l)}return e}function is(t,n){return rs(t,qs(t),n)}function os(t,n){return rs(t,Vs(t),n)}function ss(t,n){return function(e,r){var i=sc(e)?_e:li,o=n?n():{};return i(e,t,zs(r,2),o)}}function as(t){return bo((function(n,e){var r=-1,i=e.length,s=i>1?e[i-1]:o,a=i>2?e[2]:o;s=t.length>3&&"function"==typeof s?(i--,s):o,a&&oa(e[0],e[1],a)&&(s=i<3?o:s,i=1),n=en(n);while(++r<i){var u=e[r];u&&t(n,u,r,s)}return n}))}function us(t,n){return function(e,r){if(null==e)return e;if(!uc(e))return t(e,r);var i=e.length,o=n?i:-1,s=en(e);while(n?o--:++o<i)if(!1===r(s[o],o,s))break;return e}}function ls(t){return function(n,e,r){var i=-1,o=en(n),s=r(n),a=s.length;while(a--){var u=s[t?a:++i];if(!1===e(o[u],u,o))break}return n}}function cs(t,n,e){var r=n&y,i=ps(t);function o(){var n=this&&this!==ae&&this instanceof o?i:t;return n.apply(r?e:this,arguments)}return o}function hs(t){return function(n){n=Kc(n);var e=ir(n)?vr(n):o,r=e?e[0]:n.charAt(0),i=e?Ho(e,1).join(""):n.slice(1);return r[t]()+i}}function fs(t){return function(n){return Ie(_f(Xh(n).replace(Wn,"")),t,"")}}function ps(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Pr(t.prototype),r=t.apply(e,n);return Pc(r)?r:e}}function ds(t,n,r){var i=ps(t);function s(){var a=arguments.length,u=e(a),l=a,c=Gs(s);while(l--)u[l]=arguments[l];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:lr(u,c);if(a-=h.length,a<r)return Es(t,n,ms,s.placeholder,o,u,h,o,o,r-a);var f=this&&this!==ae&&this instanceof s?i:t;return be(f,this,u)}return s}function vs(t){return function(n,e,r){var i=en(n);if(!uc(n)){var s=zs(e,3);n=_h(n),e=function(t){return s(i[t],t,i)}}var a=t(n,e,r);return a>-1?i[s?n[a]:a]:o}}function gs(t){return Fs((function(n){var e=n.length,r=e,i=Cr.prototype.thru;t&&n.reverse();while(r--){var s=n[r];if("function"!=typeof s)throw new sn(l);if(i&&!a&&"wrapper"==Us(s))var a=new Cr([],!0)}r=a?r:e;while(++r<e){s=n[r];var u=Us(s),c="wrapper"==u?Bs(s):o;a=c&&ua(c[0])&&c[1]==(E|x|w|j)&&!c[4].length&&1==c[9]?a[Us(c[0])].apply(a,c[3]):1==s.length&&ua(s)?a[u]():a.thru(s)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&sc(r))return a.plant(r).value();var i=0,o=e?n[i].apply(this,t):r;while(++i<e)o=n[i].call(this,o);return o}}))}function ms(t,n,r,i,s,a,u,l,c,h){var f=n&E,p=n&y,d=n&b,v=n&(x|P),g=n&S,m=d?o:ps(t);function _(){var o=arguments.length,y=e(o),b=o;while(b--)y[b]=arguments[b];if(v)var x=Gs(_),P=Qe(y,x);if(i&&(y=ts(y,i,s,v)),a&&(y=ns(y,a,u,v)),o-=P,v&&o<h){var w=lr(y,x);return Es(t,n,ms,_.placeholder,r,y,w,l,c,h-o)}var C=p?r:this,E=d?C[t]:t;return o=y.length,l?y=_a(y,l):g&&o>1&&y.reverse(),f&&c<o&&(y.length=c),this&&this!==ae&&this instanceof _&&(E=m||ps(E)),E.apply(C,y)}return _}function ys(t,n){return function(e,r){return Ui(e,t,n(r),{})}}function bs(t,n){return function(e,r){var i;if(e===o&&r===o)return n;if(e!==o&&(i=e),r!==o){if(i===o)return r;"string"==typeof e||"string"==typeof r?(e=Oo(e),r=Oo(r)):(e=ko(e),r=ko(r)),i=t(e,r)}return i}}function _s(t){return Fs((function(n){return n=Se(n,Ve(zs())),bo((function(e){var r=this;return t(n,(function(t){return be(t,r,e)}))}))}))}function xs(t,n){n=n===o?" ":Oo(n);var e=n.length;if(e<2)return e?yo(n,t):n;var r=yo(n,Mn(t/dr(n)));return ir(n)?Ho(vr(r),0,t).join(""):r.slice(0,t)}function Ps(t,n,r,i){var o=n&y,s=ps(t);function a(){var n=-1,u=arguments.length,l=-1,c=i.length,h=e(c+u),f=this&&this!==ae&&this instanceof a?s:t;while(++l<c)h[l]=i[l];while(u--)h[l++]=arguments[++n];return be(f,o?r:this,h)}return a}function ws(t){return function(n,e,r){return r&&"number"!=typeof r&&oa(n,e,r)&&(e=r=o),n=Yc(n),e===o?(e=n,n=0):e=Yc(e),r=r===o?n<e?1:-1:Yc(r),mo(n,e,r,t)}}function Cs(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=Vc(n),e=Vc(e)),t(n,e)}}function Es(t,n,e,r,i,s,a,u,l,c){var h=n&x,f=h?a:o,p=h?o:a,d=h?s:o,v=h?o:s;n|=h?w:C,n&=~(h?C:w),n&_||(n&=~(y|b));var g=[t,n,i,d,f,v,p,u,l,c],m=e.apply(o,g);return ua(t)&&Pa(m,g),m.placeholder=r,Ea(m,t,n)}function js(t){var n=nn[t];return function(t,e){if(t=Vc(t),e=null==e?0:zn(Xc(e),292),e&&Nn(t)){var r=(Kc(t)+"e").split("e"),i=n(r[0]+"e"+(+r[1]+e));return r=(Kc(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-e))}return n(t)}}var Ss=ee&&1/cr(new ee([,-0]))[1]==L?function(t){return new ee(t)}:Rf;function Ds(t){return function(n){var e=$s(n);return e==J?ar(n):e==ot?hr(n):qe(n,t(n))}}function Is(t,n,e,r,i,s,a,u){var c=n&b;if(!c&&"function"!=typeof t)throw new sn(l);var h=r?r.length:0;if(h||(n&=~(w|C),r=i=o),a=a===o?a:Gn(Xc(a),0),u=u===o?u:Xc(u),h-=i?i.length:0,n&C){var f=r,p=i;r=i=o}var d=c?o:Bs(t),v=[t,n,e,r,i,f,p,s,a,u];if(d&&va(v,d),t=v[0],n=v[1],e=v[2],r=v[3],i=v[4],u=v[9]=v[9]===o?c?0:t.length:Gn(v[9]-h,0),!u&&n&(x|P)&&(n&=~(x|P)),n&&n!=y)g=n==x||n==P?ds(t,n,u):n!=w&&n!=(y|w)||i.length?ms.apply(o,v):Ps(t,n,e,r);else var g=cs(t,n,e);var m=d?wo:Pa;return Ea(m(g,v),t,n)}function As(t,n,e,r){return t===o||ec(t,ln[e])&&!fn.call(r,e)?n:t}function ks(t,n,e,r,i,s){return Pc(t)&&Pc(n)&&(s.set(n,t),so(t,n,o,ks,s),s["delete"](n)),t}function Os(t){return Oc(t)?o:t}function Ts(t,n,e,r,i,s){var a=e&g,u=t.length,l=n.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(t);if(c&&s.get(n))return c==n;var h=-1,f=!0,p=e&m?new qr:o;s.set(t,n),s.set(n,t);while(++h<u){var d=t[h],v=n[h];if(r)var y=a?r(v,d,h,n,t,s):r(d,v,h,t,n,s);if(y!==o){if(y)continue;f=!1;break}if(p){if(!ke(n,(function(t,n){if(!Ze(p,n)&&(d===t||i(d,t,e,r,s)))return p.push(n)}))){f=!1;break}}else if(d!==v&&!i(d,v,e,r,s)){f=!1;break}}return s["delete"](t),s["delete"](n),f}function Ms(t,n,e,r,i,o,s){switch(e){case ft:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case ht:return!(t.byteLength!=n.byteLength||!o(new xn(t),new xn(n)));case X:case q:case Q:return ec(+t,+n);case $:return t.name==n.name&&t.message==n.message;case it:case st:return t==n+"";case J:var a=ar;case ot:var u=r&g;if(a||(a=cr),t.size!=n.size&&!u)return!1;var l=s.get(t);if(l)return l==n;r|=m,s.set(t,n);var c=Ts(a(t),a(n),r,i,o,s);return s["delete"](t),c;case at:if(mr)return mr.call(t)==mr.call(n)}return!1}function Ls(t,n,e,r,i,s){var a=e&g,u=Rs(t),l=u.length,c=Rs(n),h=c.length;if(l!=h&&!a)return!1;var f=l;while(f--){var p=u[f];if(!(a?p in n:fn.call(n,p)))return!1}var d=s.get(t);if(d&&s.get(n))return d==n;var v=!0;s.set(t,n),s.set(n,t);var m=a;while(++f<l){p=u[f];var y=t[p],b=n[p];if(r)var _=a?r(b,y,p,n,t,s):r(y,b,p,t,n,s);if(!(_===o?y===b||i(y,b,e,r,s):_)){v=!1;break}m||(m="constructor"==p)}if(v&&!m){var x=t.constructor,P=n.constructor;x!=P&&"constructor"in t&&"constructor"in n&&!("function"==typeof x&&x instanceof x&&"function"==typeof P&&P instanceof P)&&(v=!1)}return s["delete"](t),s["delete"](n),v}function Fs(t){return Ca(ya(t,o,Xa),t+"")}function Rs(t){return Ti(t,_h,qs)}function Ns(t){return Ti(t,xh,Vs)}var Bs=ue?function(t){return ue.get(t)}:Rf;function Us(t){var n=t.name+"",e=le[n],r=fn.call(le,n)?e.length:0;while(r--){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function Gs(t){var n=fn.call(_r,"placeholder")?_r:t;return n.placeholder}function zs(){var t=_r.iteratee||Af;return t=t===Af?Qi:t,arguments.length?t(arguments[0],arguments[1]):t}function Ws(t,n){var e=t.__data__;return aa(n)?e["string"==typeof n?"string":"hash"]:e.map}function Hs(t){var n=_h(t),e=n.length;while(e--){var r=n[e],i=t[r];n[e]=[r,i,fa(i)]}return n}function Ys(t,n){var e=rr(t,n);return $i(e)?e:o}function Xs(t){var n=fn.call(t,In),e=t[In];try{t[In]=o;var r=!0}catch(s){}var i=vn.call(t);return r&&(n?t[In]=e:delete t[In]),i}var qs=Fn?function(t){return null==t?[]:(t=en(t),Ce(Fn(t),(function(n){return En.call(t,n)})))}:Xf,Vs=Fn?function(t){var n=[];while(t)De(n,qs(t)),t=wn(t);return n}:Xf,$s=Mi;function Zs(t,n,e){var r=-1,i=e.length;while(++r<i){var o=e[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":n-=s;break;case"take":n=zn(n,t+s);break;case"takeRight":t=Gn(t,n-s);break}}return{start:t,end:n}}function Ks(t){var n=t.match(Gt);return n?n[1].split(zt):[]}function Js(t,n,e){n=zo(n,t);var r=-1,i=n.length,o=!1;while(++r<i){var s=Ia(n[r]);if(!(o=null!=t&&e(t,s)))break;t=t[s]}return o||++r!=i?o:(i=null==t?0:t.length,!!i&&xc(i)&&ia(s,i)&&(sc(t)||oc(t)))}function Qs(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&fn.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function ta(t){return"function"!=typeof t.constructor||ha(t)?{}:Pr(wn(t))}function na(t,n,e){var r=t.constructor;switch(n){case ht:return qo(t);case X:case q:return new r(+t);case ft:return Vo(t,e);case pt:case dt:case vt:case gt:case mt:case yt:case bt:case _t:case xt:return Ko(t,e);case J:return new r;case Q:case st:return new r(t);case it:return $o(t);case ot:return new r;case at:return Zo(t)}}function ea(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(Ut,"{\n/* [wrapped with "+n+"] */\n")}function ra(t){return sc(t)||oc(t)||!!(Sn&&t&&t[Sn])}function ia(t,n){var e=typeof t;return n=null==n?F:n,!!n&&("number"==e||"symbol"!=e&&Kt.test(t))&&t>-1&&t%1==0&&t<n}function oa(t,n,e){if(!Pc(e))return!1;var r=typeof n;return!!("number"==r?uc(e)&&ia(n,e.length):"string"==r&&n in e)&&ec(e[n],t)}function sa(t,n){if(sc(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Rc(t))||(Tt.test(t)||!Ot.test(t)||null!=n&&t in en(n))}function aa(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}function ua(t){var n=Us(t),e=_r[n];if("function"!=typeof e||!(n in Er.prototype))return!1;if(t===e)return!0;var r=Bs(e);return!!r&&t===r[0]}function la(t){return!!dn&&dn in t}(Qn&&$s(new Qn(new ArrayBuffer(1)))!=ft||te&&$s(new te)!=J||ne&&$s(ne.resolve())!=et||ee&&$s(new ee)!=ot||oe&&$s(new oe)!=lt)&&($s=function(t){var n=Mi(t),e=n==nt?t.constructor:o,r=e?Aa(e):"";if(r)switch(r){case he:return ft;case fe:return J;case Oe:return et;case Te:return ot;case ze:return lt}return n});var ca=cn?bc:qf;function ha(t){var n=t&&t.constructor,e="function"==typeof n&&n.prototype||ln;return t===e}function fa(t){return t===t&&!Pc(t)}function pa(t,n){return function(e){return null!=e&&(e[t]===n&&(n!==o||t in en(e)))}}function da(t){var n=Nl(t,(function(t){return e.size===h&&e.clear(),t})),e=n.cache;return n}function va(t,n){var e=t[1],r=n[1],i=e|r,o=i<(y|b|E),s=r==E&&e==x||r==E&&e==j&&t[7].length<=n[8]||r==(E|j)&&n[7].length<=n[8]&&e==x;if(!o&&!s)return t;r&y&&(t[2]=n[2],i|=e&y?0:_);var a=n[3];if(a){var u=t[3];t[3]=u?ts(u,a,n[4]):a,t[4]=u?lr(t[3],f):n[4]}return a=n[5],a&&(u=t[5],t[5]=u?ns(u,a,n[6]):a,t[6]=u?lr(t[5],f):n[6]),a=n[7],a&&(t[7]=a),r&E&&(t[8]=null==t[8]?n[8]:zn(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i,t}function ga(t){var n=[];if(null!=t)for(var e in en(t))n.push(e);return n}function ma(t){return vn.call(t)}function ya(t,n,r){return n=Gn(n===o?t.length-1:n,0),function(){var i=arguments,o=-1,s=Gn(i.length-n,0),a=e(s);while(++o<s)a[o]=i[n+o];o=-1;var u=e(n+1);while(++o<n)u[o]=i[o];return u[n]=r(a),be(t,this,u)}}function ba(t,n){return n.length<2?t:Oi(t,jo(n,0,-1))}function _a(t,n){var e=t.length,r=zn(n.length,e),i=es(t);while(r--){var s=n[r];t[r]=ia(s,e)?i[s]:o}return t}function xa(t,n){if(("constructor"!==n||"function"!==typeof t[n])&&"__proto__"!=n)return t[n]}var Pa=ja(wo),wa=Tn||function(t,n){return ae.setTimeout(t,n)},Ca=ja(Co);function Ea(t,n,e){var r=n+"";return Ca(t,ea(r,ka(Ks(r),e)))}function ja(t){var n=0,e=0;return function(){var r=Yn(),i=k-(r-e);if(e=r,i>0){if(++n>=A)return arguments[0]}else n=0;return t.apply(o,arguments)}}function Sa(t,n){var e=-1,r=t.length,i=r-1;n=n===o?r:n;while(++e<n){var s=go(e,i),a=t[s];t[s]=t[e],t[e]=a}return t.length=n,t}var Da=da((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Mt,(function(t,e,r,i){n.push(r?i.replace(Ht,"$1"):e||t)})),n}));function Ia(t){if("string"==typeof t||Rc(t))return t;var n=t+"";return"0"==n&&1/t==-L?"-0":n}function Aa(t){if(null!=t){try{return hn.call(t)}catch(n){}try{return t+""}catch(n){}}return""}function ka(t,n){return xe(z,(function(e){var r="_."+e[0];n&e[1]&&!Ee(t,r)&&t.push(r)})),t.sort()}function Oa(t){if(t instanceof Er)return t.clone();var n=new Cr(t.__wrapped__,t.__chain__);return n.__actions__=es(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}function Ta(t,n,r){n=(r?oa(t,n,r):n===o)?1:Gn(Xc(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];var s=0,a=0,u=e(Mn(i/n));while(s<i)u[a++]=jo(t,s,s+=n);return u}function Ma(t){var n=-1,e=null==t?0:t.length,r=0,i=[];while(++n<e){var o=t[n];o&&(i[r++]=o)}return i}function La(){var t=arguments.length;if(!t)return[];var n=e(t-1),r=arguments[0],i=t;while(i--)n[i-1]=arguments[i];return De(sc(r)?es(r):[r],ji(n,1))}var Fa=bo((function(t,n){return lc(t)?bi(t,ji(n,1,lc,!0)):[]})),Ra=bo((function(t,n){var e=ru(n);return lc(e)&&(e=o),lc(t)?bi(t,ji(n,1,lc,!0),zs(e,2)):[]})),Na=bo((function(t,n){var e=ru(n);return lc(e)&&(e=o),lc(t)?bi(t,ji(n,1,lc,!0),o,e):[]}));function Ba(t,n,e){var r=null==t?0:t.length;return r?(n=e||n===o?1:Xc(n),jo(t,n<0?0:n,r)):[]}function Ua(t,n,e){var r=null==t?0:t.length;return r?(n=e||n===o?1:Xc(n),n=r-n,jo(t,0,n<0?0:n)):[]}function Ga(t,n){return t&&t.length?Fo(t,zs(n,3),!0,!0):[]}function za(t,n){return t&&t.length?Fo(t,zs(n,3),!0):[]}function Wa(t,n,e,r){var i=null==t?0:t.length;return i?(e&&"number"!=typeof e&&oa(t,n,e)&&(e=0,r=i),Ci(t,n,e,r)):[]}function Ha(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:Xc(e);return i<0&&(i=Gn(r+i,0)),Fe(t,zs(n,3),i)}function Ya(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return e!==o&&(i=Xc(e),i=e<0?Gn(r+i,0):zn(i,r-1)),Fe(t,zs(n,3),i,!0)}function Xa(t){var n=null==t?0:t.length;return n?ji(t,1):[]}function qa(t){var n=null==t?0:t.length;return n?ji(t,L):[]}function Va(t,n){var e=null==t?0:t.length;return e?(n=n===o?1:Xc(n),ji(t,n)):[]}function $a(t){var n=-1,e=null==t?0:t.length,r={};while(++n<e){var i=t[n];r[i[0]]=i[1]}return r}function Za(t){return t&&t.length?t[0]:o}function Ka(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:Xc(e);return i<0&&(i=Gn(r+i,0)),Re(t,n,i)}function Ja(t){var n=null==t?0:t.length;return n?jo(t,0,-1):[]}var Qa=bo((function(t){var n=Se(t,Uo);return n.length&&n[0]===t[0]?Bi(n):[]})),tu=bo((function(t){var n=ru(t),e=Se(t,Uo);return n===ru(e)?n=o:e.pop(),e.length&&e[0]===t[0]?Bi(e,zs(n,2)):[]})),nu=bo((function(t){var n=ru(t),e=Se(t,Uo);return n="function"==typeof n?n:o,n&&e.pop(),e.length&&e[0]===t[0]?Bi(e,o,n):[]}));function eu(t,n){return null==t?"":Bn.call(t,n)}function ru(t){var n=null==t?0:t.length;return n?t[n-1]:o}function iu(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r;return e!==o&&(i=Xc(e),i=i<0?Gn(r+i,0):zn(i,r-1)),n===n?pr(t,n,i):Fe(t,Be,i,!0)}function ou(t,n){return t&&t.length?uo(t,Xc(n)):o}var su=bo(au);function au(t,n){return t&&t.length&&n&&n.length?po(t,n):t}function uu(t,n,e){return t&&t.length&&n&&n.length?po(t,n,zs(e,2)):t}function lu(t,n,e){return t&&t.length&&n&&n.length?po(t,n,o,e):t}var cu=Fs((function(t,n){var e=null==t?0:t.length,r=pi(t,n);return vo(t,Se(n,(function(t){return ia(t,e)?+t:t})).sort(Jo)),r}));function hu(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],o=t.length;n=zs(n,3);while(++r<o){var s=t[r];n(s,r,t)&&(e.push(s),i.push(r))}return vo(t,i),e}function fu(t){return null==t?t:Vn.call(t)}function pu(t,n,e){var r=null==t?0:t.length;return r?(e&&"number"!=typeof e&&oa(t,n,e)?(n=0,e=r):(n=null==n?0:Xc(n),e=e===o?r:Xc(e)),jo(t,n,e)):[]}function du(t,n){return Do(t,n)}function vu(t,n,e){return Io(t,n,zs(e,2))}function gu(t,n){var e=null==t?0:t.length;if(e){var r=Do(t,n);if(r<e&&ec(t[r],n))return r}return-1}function mu(t,n){return Do(t,n,!0)}function yu(t,n,e){return Io(t,n,zs(e,2),!0)}function bu(t,n){var e=null==t?0:t.length;if(e){var r=Do(t,n,!0)-1;if(ec(t[r],n))return r}return-1}function _u(t){return t&&t.length?Ao(t):[]}function xu(t,n){return t&&t.length?Ao(t,zs(n,2)):[]}function Pu(t){var n=null==t?0:t.length;return n?jo(t,1,n):[]}function wu(t,n,e){return t&&t.length?(n=e||n===o?1:Xc(n),jo(t,0,n<0?0:n)):[]}function Cu(t,n,e){var r=null==t?0:t.length;return r?(n=e||n===o?1:Xc(n),n=r-n,jo(t,n<0?0:n,r)):[]}function Eu(t,n){return t&&t.length?Fo(t,zs(n,3),!1,!0):[]}function ju(t,n){return t&&t.length?Fo(t,zs(n,3)):[]}var Su=bo((function(t){return To(ji(t,1,lc,!0))})),Du=bo((function(t){var n=ru(t);return lc(n)&&(n=o),To(ji(t,1,lc,!0),zs(n,2))})),Iu=bo((function(t){var n=ru(t);return n="function"==typeof n?n:o,To(ji(t,1,lc,!0),o,n)}));function Au(t){return t&&t.length?To(t):[]}function ku(t,n){return t&&t.length?To(t,zs(n,2)):[]}function Ou(t,n){return n="function"==typeof n?n:o,t&&t.length?To(t,o,n):[]}function Tu(t){if(!t||!t.length)return[];var n=0;return t=Ce(t,(function(t){if(lc(t))return n=Gn(t.length,n),!0})),Xe(n,(function(n){return Se(t,Ge(n))}))}function Mu(t,n){if(!t||!t.length)return[];var e=Tu(t);return null==n?e:Se(e,(function(t){return be(n,o,t)}))}var Lu=bo((function(t,n){return lc(t)?bi(t,n):[]})),Fu=bo((function(t){return No(Ce(t,lc))})),Ru=bo((function(t){var n=ru(t);return lc(n)&&(n=o),No(Ce(t,lc),zs(n,2))})),Nu=bo((function(t){var n=ru(t);return n="function"==typeof n?n:o,No(Ce(t,lc),o,n)})),Bu=bo(Tu);function Uu(t,n){return Bo(t||[],n||[],ai)}function Gu(t,n){return Bo(t||[],n||[],Po)}var zu=bo((function(t){var n=t.length,e=n>1?t[n-1]:o;return e="function"==typeof e?(t.pop(),e):o,Mu(t,e)}));function Wu(t){var n=_r(t);return n.__chain__=!0,n}function Hu(t,n){return n(t),t}function Yu(t,n){return n(t)}var Xu=Fs((function(t){var n=t.length,e=n?t[0]:0,r=this.__wrapped__,i=function(n){return pi(n,t)};return!(n>1||this.__actions__.length)&&r instanceof Er&&ia(e)?(r=r.slice(e,+e+(n?1:0)),r.__actions__.push({func:Yu,args:[i],thisArg:o}),new Cr(r,this.__chain__).thru((function(t){return n&&!t.length&&t.push(o),t}))):this.thru(i)}));function qu(){return Wu(this)}function Vu(){return new Cr(this.value(),this.__chain__)}function $u(){this.__values__===o&&(this.__values__=Hc(this.value()));var t=this.__index__>=this.__values__.length,n=t?o:this.__values__[this.__index__++];return{done:t,value:n}}function Zu(){return this}function Ku(t){var n,e=this;while(e instanceof wr){var r=Oa(e);r.__index__=0,r.__values__=o,n?i.__wrapped__=r:n=r;var i=r;e=e.__wrapped__}return i.__wrapped__=t,n}function Ju(){var t=this.__wrapped__;if(t instanceof Er){var n=t;return this.__actions__.length&&(n=new Er(this)),n=n.reverse(),n.__actions__.push({func:Yu,args:[fu],thisArg:o}),new Cr(n,this.__chain__)}return this.thru(fu)}function Qu(){return Ro(this.__wrapped__,this.__actions__)}var tl=ss((function(t,n,e){fn.call(t,e)?++t[e]:fi(t,e,1)}));function nl(t,n,e){var r=sc(t)?we:Pi;return e&&oa(t,n,e)&&(n=o),r(t,zs(n,3))}function el(t,n){var e=sc(t)?Ce:Ei;return e(t,zs(n,3))}var rl=vs(Ha),il=vs(Ya);function ol(t,n){return ji(dl(t,n),1)}function sl(t,n){return ji(dl(t,n),L)}function al(t,n,e){return e=e===o?1:Xc(e),ji(dl(t,n),e)}function ul(t,n){var e=sc(t)?xe:_i;return e(t,zs(n,3))}function ll(t,n){var e=sc(t)?Pe:xi;return e(t,zs(n,3))}var cl=ss((function(t,n,e){fn.call(t,e)?t[e].push(n):fi(t,e,[n])}));function hl(t,n,e,r){t=uc(t)?t:Bh(t),e=e&&!r?Xc(e):0;var i=t.length;return e<0&&(e=Gn(i+e,0)),Fc(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&Re(t,n,e)>-1}var fl=bo((function(t,n,r){var i=-1,o="function"==typeof n,s=uc(t)?e(t.length):[];return _i(t,(function(t){s[++i]=o?be(n,t,r):Gi(t,n,r)})),s})),pl=ss((function(t,n,e){fi(t,e,n)}));function dl(t,n){var e=sc(t)?Se:ro;return e(t,zs(n,3))}function vl(t,n,e,r){return null==t?[]:(sc(n)||(n=null==n?[]:[n]),e=r?o:e,sc(e)||(e=null==e?[]:[e]),lo(t,n,e))}var gl=ss((function(t,n,e){t[e?0:1].push(n)}),(function(){return[[],[]]}));function ml(t,n,e){var r=sc(t)?Ie:We,i=arguments.length<3;return r(t,zs(n,4),e,i,_i)}function yl(t,n,e){var r=sc(t)?Ae:We,i=arguments.length<3;return r(t,zs(n,4),e,i,xi)}function bl(t,n){var e=sc(t)?Ce:Ei;return e(t,Bl(zs(n,3)))}function _l(t){var n=sc(t)?ri:_o;return n(t)}function xl(t,n,e){n=(e?oa(t,n,e):n===o)?1:Xc(n);var r=sc(t)?ii:xo;return r(t,n)}function Pl(t){var n=sc(t)?oi:Eo;return n(t)}function wl(t){if(null==t)return 0;if(uc(t))return Fc(t)?dr(t):t.length;var n=$s(t);return n==J||n==ot?t.size:to(t).length}function Cl(t,n,e){var r=sc(t)?ke:So;return e&&oa(t,n,e)&&(n=o),r(t,zs(n,3))}var El=bo((function(t,n){if(null==t)return[];var e=n.length;return e>1&&oa(t,n[0],n[1])?n=[]:e>2&&oa(n[0],n[1],n[2])&&(n=[n[0]]),lo(t,ji(n,1),[])})),jl=On||function(){return ae.Date.now()};function Sl(t,n){if("function"!=typeof n)throw new sn(l);return t=Xc(t),function(){if(--t<1)return n.apply(this,arguments)}}function Dl(t,n,e){return n=e?o:n,n=t&&null==n?t.length:n,Is(t,E,o,o,o,o,n)}function Il(t,n){var e;if("function"!=typeof n)throw new sn(l);return t=Xc(t),function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=o),e}}var Al=bo((function(t,n,e){var r=y;if(e.length){var i=lr(e,Gs(Al));r|=w}return Is(t,r,n,e,i)})),kl=bo((function(t,n,e){var r=y|b;if(e.length){var i=lr(e,Gs(kl));r|=w}return Is(n,r,t,e,i)}));function Ol(t,n,e){n=e?o:n;var r=Is(t,x,o,o,o,o,o,n);return r.placeholder=Ol.placeholder,r}function Tl(t,n,e){n=e?o:n;var r=Is(t,P,o,o,o,o,o,n);return r.placeholder=Tl.placeholder,r}function Ml(t,n,e){var r,i,s,a,u,c,h=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new sn(l);function v(n){var e=r,s=i;return r=i=o,h=n,a=t.apply(s,e),a}function g(t){return h=t,u=wa(b,n),f?v(t):a}function m(t){var e=t-c,r=t-h,i=n-e;return p?zn(i,s-r):i}function y(t){var e=t-c,r=t-h;return c===o||e>=n||e<0||p&&r>=s}function b(){var t=jl();if(y(t))return _(t);u=wa(b,m(t))}function _(t){return u=o,d&&r?v(t):(r=i=o,a)}function x(){u!==o&&Yo(u),h=0,r=c=i=u=o}function P(){return u===o?a:_(jl())}function w(){var t=jl(),e=y(t);if(r=arguments,i=this,c=t,e){if(u===o)return g(c);if(p)return Yo(u),u=wa(b,n),v(c)}return u===o&&(u=wa(b,n)),a}return n=Vc(n)||0,Pc(e)&&(f=!!e.leading,p="maxWait"in e,s=p?Gn(Vc(e.maxWait)||0,n):s,d="trailing"in e?!!e.trailing:d),w.cancel=x,w.flush=P,w}var Ll=bo((function(t,n){return yi(t,1,n)})),Fl=bo((function(t,n,e){return yi(t,Vc(n)||0,e)}));function Rl(t){return Is(t,S)}function Nl(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new sn(l);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return e.cache=o.set(i,s)||o,s};return e.cache=new(Nl.Cache||Gr),e}function Bl(t){if("function"!=typeof t)throw new sn(l);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}function Ul(t){return Il(2,t)}Nl.Cache=Gr;var Gl=Wo((function(t,n){n=1==n.length&&sc(n[0])?Se(n[0],Ve(zs())):Se(ji(n,1),Ve(zs()));var e=n.length;return bo((function(r){var i=-1,o=zn(r.length,e);while(++i<o)r[i]=n[i].call(this,r[i]);return be(t,this,r)}))})),zl=bo((function(t,n){var e=lr(n,Gs(zl));return Is(t,w,o,n,e)})),Wl=bo((function(t,n){var e=lr(n,Gs(Wl));return Is(t,C,o,n,e)})),Hl=Fs((function(t,n){return Is(t,j,o,o,o,n)}));function Yl(t,n){if("function"!=typeof t)throw new sn(l);return n=n===o?n:Xc(n),bo(t,n)}function Xl(t,n){if("function"!=typeof t)throw new sn(l);return n=null==n?0:Gn(Xc(n),0),bo((function(e){var r=e[n],i=Ho(e,0,n);return r&&De(i,r),be(t,this,i)}))}function ql(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new sn(l);return Pc(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),Ml(t,n,{leading:r,maxWait:n,trailing:i})}function Vl(t){return Dl(t,1)}function $l(t,n){return zl(Go(n),t)}function Zl(){if(!arguments.length)return[];var t=arguments[0];return sc(t)?t:[t]}function Kl(t){return vi(t,v)}function Jl(t,n){return n="function"==typeof n?n:o,vi(t,v,n)}function Ql(t){return vi(t,p|v)}function tc(t,n){return n="function"==typeof n?n:o,vi(t,p|v,n)}function nc(t,n){return null==n||mi(t,n,_h(n))}function ec(t,n){return t===n||t!==t&&n!==n}var rc=Cs(Li),ic=Cs((function(t,n){return t>=n})),oc=zi(function(){return arguments}())?zi:function(t){return wc(t)&&fn.call(t,"callee")&&!En.call(t,"callee")},sc=e.isArray,ac=pe?Ve(pe):Wi;function uc(t){return null!=t&&xc(t.length)&&!bc(t)}function lc(t){return wc(t)&&uc(t)}function cc(t){return!0===t||!1===t||wc(t)&&Mi(t)==X}var hc=Rn||qf,fc=de?Ve(de):Hi;function pc(t){return wc(t)&&1===t.nodeType&&!Oc(t)}function dc(t){if(null==t)return!0;if(uc(t)&&(sc(t)||"string"==typeof t||"function"==typeof t.splice||hc(t)||Nc(t)||oc(t)))return!t.length;var n=$s(t);if(n==J||n==ot)return!t.size;if(ha(t))return!to(t).length;for(var e in t)if(fn.call(t,e))return!1;return!0}function vc(t,n){return Yi(t,n)}function gc(t,n,e){e="function"==typeof e?e:o;var r=e?e(t,n):o;return r===o?Yi(t,n,o,e):!!r}function mc(t){if(!wc(t))return!1;var n=Mi(t);return n==$||n==V||"string"==typeof t.message&&"string"==typeof t.name&&!Oc(t)}function yc(t){return"number"==typeof t&&Nn(t)}function bc(t){if(!Pc(t))return!1;var n=Mi(t);return n==Z||n==K||n==Y||n==rt}function _c(t){return"number"==typeof t&&t==Xc(t)}function xc(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=F}function Pc(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function wc(t){return null!=t&&"object"==typeof t}var Cc=ve?Ve(ve):qi;function Ec(t,n){return t===n||Vi(t,n,Hs(n))}function jc(t,n,e){return e="function"==typeof e?e:o,Vi(t,n,Hs(n),e)}function Sc(t){return kc(t)&&t!=+t}function Dc(t){if(ca(t))throw new i(u);return $i(t)}function Ic(t){return null===t}function Ac(t){return null==t}function kc(t){return"number"==typeof t||wc(t)&&Mi(t)==Q}function Oc(t){if(!wc(t)||Mi(t)!=nt)return!1;var n=wn(t);if(null===n)return!0;var e=fn.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&hn.call(e)==gn}var Tc=ge?Ve(ge):Zi;function Mc(t){return _c(t)&&t>=-F&&t<=F}var Lc=me?Ve(me):Ki;function Fc(t){return"string"==typeof t||!sc(t)&&wc(t)&&Mi(t)==st}function Rc(t){return"symbol"==typeof t||wc(t)&&Mi(t)==at}var Nc=ye?Ve(ye):Ji;function Bc(t){return t===o}function Uc(t){return wc(t)&&$s(t)==lt}function Gc(t){return wc(t)&&Mi(t)==ct}var zc=Cs(eo),Wc=Cs((function(t,n){return t<=n}));function Hc(t){if(!t)return[];if(uc(t))return Fc(t)?vr(t):es(t);if(Dn&&t[Dn])return sr(t[Dn]());var n=$s(t),e=n==J?ar:n==ot?cr:Bh;return e(t)}function Yc(t){if(!t)return 0===t?t:0;if(t=Vc(t),t===L||t===-L){var n=t<0?-1:1;return n*R}return t===t?t:0}function Xc(t){var n=Yc(t),e=n%1;return n===n?e?n-e:n:0}function qc(t){return t?di(Xc(t),0,B):0}function Vc(t){if("number"==typeof t)return t;if(Rc(t))return N;if(Pc(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Pc(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Rt,"");var e=Vt.test(t);return e||Zt.test(t)?ie(t.slice(2),e?2:8):qt.test(t)?N:+t}function $c(t){return rs(t,xh(t))}function Zc(t){return t?di(Xc(t),-F,F):0===t?t:0}function Kc(t){return null==t?"":Oo(t)}var Jc=as((function(t,n){if(ha(n)||uc(n))rs(n,_h(n),t);else for(var e in n)fn.call(n,e)&&ai(t,e,n[e])})),Qc=as((function(t,n){rs(n,xh(n),t)})),th=as((function(t,n,e,r){rs(n,xh(n),t,r)})),nh=as((function(t,n,e,r){rs(n,_h(n),t,r)})),eh=Fs(pi);function rh(t,n){var e=Pr(t);return null==n?e:ci(e,n)}var ih=bo((function(t,n){t=en(t);var e=-1,r=n.length,i=r>2?n[2]:o;i&&oa(n[0],n[1],i)&&(r=1);while(++e<r){var s=n[e],a=xh(s),u=-1,l=a.length;while(++u<l){var c=a[u],h=t[c];(h===o||ec(h,ln[c])&&!fn.call(t,c))&&(t[c]=s[c])}}return t})),oh=bo((function(t){return t.push(o,ks),be(Eh,o,t)}));function sh(t,n){return Le(t,zs(n,3),Ii)}function ah(t,n){return Le(t,zs(n,3),Ai)}function uh(t,n){return null==t?t:Si(t,zs(n,3),xh)}function lh(t,n){return null==t?t:Di(t,zs(n,3),xh)}function ch(t,n){return t&&Ii(t,zs(n,3))}function hh(t,n){return t&&Ai(t,zs(n,3))}function fh(t){return null==t?[]:ki(t,_h(t))}function ph(t){return null==t?[]:ki(t,xh(t))}function dh(t,n,e){var r=null==t?o:Oi(t,n);return r===o?e:r}function vh(t,n){return null!=t&&Js(t,n,Fi)}function gh(t,n){return null!=t&&Js(t,n,Ri)}var mh=ys((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=vn.call(n)),t[n]=e}),Ef(If)),yh=ys((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=vn.call(n)),fn.call(t,n)?t[n].push(e):t[n]=[e]}),zs),bh=bo(Gi);function _h(t){return uc(t)?ei(t):to(t)}function xh(t){return uc(t)?ei(t,!0):no(t)}function Ph(t,n){var e={};return n=zs(n,3),Ii(t,(function(t,r,i){fi(e,n(t,r,i),t)})),e}function wh(t,n){var e={};return n=zs(n,3),Ii(t,(function(t,r,i){fi(e,r,n(t,r,i))})),e}var Ch=as((function(t,n,e){so(t,n,e)})),Eh=as((function(t,n,e,r){so(t,n,e,r)})),jh=Fs((function(t,n){var e={};if(null==t)return e;var r=!1;n=Se(n,(function(n){return n=zo(n,t),r||(r=n.length>1),n})),rs(t,Ns(t),e),r&&(e=vi(e,p|d|v,Os));var i=n.length;while(i--)Mo(e,n[i]);return e}));function Sh(t,n){return Ih(t,Bl(zs(n)))}var Dh=Fs((function(t,n){return null==t?{}:co(t,n)}));function Ih(t,n){if(null==t)return{};var e=Se(Ns(t),(function(t){return[t]}));return n=zs(n),ho(t,e,(function(t,e){return n(t,e[0])}))}function Ah(t,n,e){n=zo(n,t);var r=-1,i=n.length;i||(i=1,t=o);while(++r<i){var s=null==t?o:t[Ia(n[r])];s===o&&(r=i,s=e),t=bc(s)?s.call(t):s}return t}function kh(t,n,e){return null==t?t:Po(t,n,e)}function Oh(t,n,e,r){return r="function"==typeof r?r:o,null==t?t:Po(t,n,e,r)}var Th=Ds(_h),Mh=Ds(xh);function Lh(t,n,e){var r=sc(t),i=r||hc(t)||Nc(t);if(n=zs(n,4),null==e){var o=t&&t.constructor;e=i?r?new o:[]:Pc(t)&&bc(o)?Pr(wn(t)):{}}return(i?xe:Ii)(t,(function(t,r,i){return n(e,t,r,i)})),e}function Fh(t,n){return null==t||Mo(t,n)}function Rh(t,n,e){return null==t?t:Lo(t,n,Go(e))}function Nh(t,n,e,r){return r="function"==typeof r?r:o,null==t?t:Lo(t,n,Go(e),r)}function Bh(t){return null==t?[]:$e(t,_h(t))}function Uh(t){return null==t?[]:$e(t,xh(t))}function Gh(t,n,e){return e===o&&(e=n,n=o),e!==o&&(e=Vc(e),e=e===e?e:0),n!==o&&(n=Vc(n),n=n===n?n:0),di(Vc(t),n,e)}function zh(t,n,e){return n=Yc(n),e===o?(e=n,n=0):e=Yc(e),t=Vc(t),Ni(t,n,e)}function Wh(t,n,e){if(e&&"boolean"!=typeof e&&oa(t,n,e)&&(n=e=o),e===o&&("boolean"==typeof n?(e=n,n=o):"boolean"==typeof t&&(e=t,t=o)),t===o&&n===o?(t=0,n=1):(t=Yc(t),n===o?(n=t,t=0):n=Yc(n)),t>n){var r=t;t=n,n=r}if(e||t%1||n%1){var i=qn();return zn(t+i*(n-t+re("1e-"+((i+"").length-1))),n)}return go(t,n)}var Hh=fs((function(t,n,e){return n=n.toLowerCase(),t+(e?Yh(n):n)}));function Yh(t){return bf(Kc(t).toLowerCase())}function Xh(t){return t=Kc(t),t&&t.replace(Jt,tr).replace(Hn,"")}function qh(t,n,e){t=Kc(t),n=Oo(n);var r=t.length;e=e===o?r:di(Xc(e),0,r);var i=e;return e-=n.length,e>=0&&t.slice(e,i)==n}function Vh(t){return t=Kc(t),t&&Dt.test(t)?t.replace(jt,nr):t}function $h(t){return t=Kc(t),t&&Ft.test(t)?t.replace(Lt,"\\$&"):t}var Zh=fs((function(t,n,e){return t+(e?"-":"")+n.toLowerCase()})),Kh=fs((function(t,n,e){return t+(e?" ":"")+n.toLowerCase()})),Jh=hs("toLowerCase");function Qh(t,n,e){t=Kc(t),n=Xc(n);var r=n?dr(t):0;if(!n||r>=n)return t;var i=(n-r)/2;return xs(Ln(i),e)+t+xs(Mn(i),e)}function tf(t,n,e){t=Kc(t),n=Xc(n);var r=n?dr(t):0;return n&&r<n?t+xs(n-r,e):t}function nf(t,n,e){t=Kc(t),n=Xc(n);var r=n?dr(t):0;return n&&r<n?xs(n-r,e)+t:t}function ef(t,n,e){return e||null==n?n=0:n&&(n=+n),Xn(Kc(t).replace(Nt,""),n||0)}function rf(t,n,e){return n=(e?oa(t,n,e):n===o)?1:Xc(n),yo(Kc(t),n)}function of(){var t=arguments,n=Kc(t[0]);return t.length<3?n:n.replace(t[1],t[2])}var sf=fs((function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}));function af(t,n,e){return e&&"number"!=typeof e&&oa(t,n,e)&&(n=e=o),e=e===o?B:e>>>0,e?(t=Kc(t),t&&("string"==typeof n||null!=n&&!Tc(n))&&(n=Oo(n),!n&&ir(t))?Ho(vr(t),0,e):t.split(n,e)):[]}var uf=fs((function(t,n,e){return t+(e?" ":"")+bf(n)}));function lf(t,n,e){return t=Kc(t),e=null==e?0:di(Xc(e),0,t.length),n=Oo(n),t.slice(e,e+n.length)==n}function cf(t,n,e){var r=_r.templateSettings;e&&oa(t,n,e)&&(n=o),t=Kc(t),n=th({},n,r,As);var i,s,a=th({},n.imports,r.imports,As),u=_h(a),l=$e(a,u),c=0,h=n.interpolate||Qt,f="__p += '",p=rn((n.escape||Qt).source+"|"+h.source+"|"+(h===kt?Yt:Qt).source+"|"+(n.evaluate||Qt).source+"|$","g"),d="//# sourceURL="+(fn.call(n,"sourceURL")?(n.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Zn+"]")+"\n";t.replace(p,(function(n,e,r,o,a,u){return r||(r=o),f+=t.slice(c,u).replace(tn,er),e&&(i=!0,f+="' +\n__e("+e+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+n.length,n})),f+="';\n";var v=fn.call(n,"variable")&&n.variable;v||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(Pt,""):f).replace(wt,"$1").replace(Ct,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=xf((function(){return Wt(u,d+"return "+f).apply(o,l)}));if(g.source=f,mc(g))throw g;return g}function hf(t){return Kc(t).toLowerCase()}function ff(t){return Kc(t).toUpperCase()}function pf(t,n,e){if(t=Kc(t),t&&(e||n===o))return t.replace(Rt,"");if(!t||!(n=Oo(n)))return t;var r=vr(t),i=vr(n),s=Ke(r,i),a=Je(r,i)+1;return Ho(r,s,a).join("")}function df(t,n,e){if(t=Kc(t),t&&(e||n===o))return t.replace(Bt,"");if(!t||!(n=Oo(n)))return t;var r=vr(t),i=Je(r,vr(n))+1;return Ho(r,0,i).join("")}function vf(t,n,e){if(t=Kc(t),t&&(e||n===o))return t.replace(Nt,"");if(!t||!(n=Oo(n)))return t;var r=vr(t),i=Ke(r,vr(n));return Ho(r,i).join("")}function gf(t,n){var e=D,r=I;if(Pc(n)){var i="separator"in n?n.separator:i;e="length"in n?Xc(n.length):e,r="omission"in n?Oo(n.omission):r}t=Kc(t);var s=t.length;if(ir(t)){var a=vr(t);s=a.length}if(e>=s)return t;var u=e-dr(r);if(u<1)return r;var l=a?Ho(a,0,u).join(""):t.slice(0,u);if(i===o)return l+r;if(a&&(u+=l.length-u),Tc(i)){if(t.slice(u).search(i)){var c,h=l;i.global||(i=rn(i.source,Kc(Xt.exec(i))+"g")),i.lastIndex=0;while(c=i.exec(h))var f=c.index;l=l.slice(0,f===o?u:f)}}else if(t.indexOf(Oo(i),u)!=u){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+r}function mf(t){return t=Kc(t),t&&St.test(t)?t.replace(Et,gr):t}var yf=fs((function(t,n,e){return t+(e?" ":"")+n.toUpperCase()})),bf=hs("toUpperCase");function _f(t,n,e){return t=Kc(t),n=e?o:n,n===o?or(t)?br(t):Me(t):t.match(n)||[]}var xf=bo((function(t,n){try{return be(t,o,n)}catch(e){return mc(e)?e:new i(e)}})),Pf=Fs((function(t,n){return xe(n,(function(n){n=Ia(n),fi(t,n,Al(t[n],t))})),t}));function wf(t){var n=null==t?0:t.length,e=zs();return t=n?Se(t,(function(t){if("function"!=typeof t[1])throw new sn(l);return[e(t[0]),t[1]]})):[],bo((function(e){var r=-1;while(++r<n){var i=t[r];if(be(i[0],this,e))return be(i[1],this,e)}}))}function Cf(t){return gi(vi(t,p))}function Ef(t){return function(){return t}}function jf(t,n){return null==t||t!==t?n:t}var Sf=gs(),Df=gs(!0);function If(t){return t}function Af(t){return Qi("function"==typeof t?t:vi(t,p))}function kf(t){return io(vi(t,p))}function Of(t,n){return oo(t,vi(n,p))}var Tf=bo((function(t,n){return function(e){return Gi(e,t,n)}})),Mf=bo((function(t,n){return function(e){return Gi(t,e,n)}}));function Lf(t,n,e){var r=_h(n),i=ki(n,r);null!=e||Pc(n)&&(i.length||!r.length)||(e=n,n=t,t=this,i=ki(n,_h(n)));var o=!(Pc(e)&&"chain"in e)||!!e.chain,s=bc(t);return xe(i,(function(e){var r=n[e];t[e]=r,s&&(t.prototype[e]=function(){var n=this.__chain__;if(o||n){var e=t(this.__wrapped__),i=e.__actions__=es(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,De([this.value()],arguments))})})),t}function Ff(){return ae._===this&&(ae._=mn),this}function Rf(){}function Nf(t){return t=Xc(t),bo((function(n){return uo(n,t)}))}var Bf=_s(Se),Uf=_s(we),Gf=_s(ke);function zf(t){return sa(t)?Ge(Ia(t)):fo(t)}function Wf(t){return function(n){return null==t?o:Oi(t,n)}}var Hf=ws(),Yf=ws(!0);function Xf(){return[]}function qf(){return!1}function Vf(){return{}}function $f(){return""}function Zf(){return!0}function Kf(t,n){if(t=Xc(t),t<1||t>F)return[];var e=B,r=zn(t,B);n=zs(n),t-=B;var i=Xe(r,n);while(++e<t)n(e);return i}function Jf(t){return sc(t)?Se(t,Ia):Rc(t)?[t]:es(Da(Kc(t)))}function Qf(t){var n=++pn;return Kc(t)+n}var tp=bs((function(t,n){return t+n}),0),np=js("ceil"),ep=bs((function(t,n){return t/n}),1),rp=js("floor");function ip(t){return t&&t.length?wi(t,If,Li):o}function op(t,n){return t&&t.length?wi(t,zs(n,2),Li):o}function sp(t){return Ue(t,If)}function ap(t,n){return Ue(t,zs(n,2))}function up(t){return t&&t.length?wi(t,If,eo):o}function lp(t,n){return t&&t.length?wi(t,zs(n,2),eo):o}var cp=bs((function(t,n){return t*n}),1),hp=js("round"),fp=bs((function(t,n){return t-n}),0);function pp(t){return t&&t.length?Ye(t,If):0}function dp(t,n){return t&&t.length?Ye(t,zs(n,2)):0}return _r.after=Sl,_r.ary=Dl,_r.assign=Jc,_r.assignIn=Qc,_r.assignInWith=th,_r.assignWith=nh,_r.at=eh,_r.before=Il,_r.bind=Al,_r.bindAll=Pf,_r.bindKey=kl,_r.castArray=Zl,_r.chain=Wu,_r.chunk=Ta,_r.compact=Ma,_r.concat=La,_r.cond=wf,_r.conforms=Cf,_r.constant=Ef,_r.countBy=tl,_r.create=rh,_r.curry=Ol,_r.curryRight=Tl,_r.debounce=Ml,_r.defaults=ih,_r.defaultsDeep=oh,_r.defer=Ll,_r.delay=Fl,_r.difference=Fa,_r.differenceBy=Ra,_r.differenceWith=Na,_r.drop=Ba,_r.dropRight=Ua,_r.dropRightWhile=Ga,_r.dropWhile=za,_r.fill=Wa,_r.filter=el,_r.flatMap=ol,_r.flatMapDeep=sl,_r.flatMapDepth=al,_r.flatten=Xa,_r.flattenDeep=qa,_r.flattenDepth=Va,_r.flip=Rl,_r.flow=Sf,_r.flowRight=Df,_r.fromPairs=$a,_r.functions=fh,_r.functionsIn=ph,_r.groupBy=cl,_r.initial=Ja,_r.intersection=Qa,_r.intersectionBy=tu,_r.intersectionWith=nu,_r.invert=mh,_r.invertBy=yh,_r.invokeMap=fl,_r.iteratee=Af,_r.keyBy=pl,_r.keys=_h,_r.keysIn=xh,_r.map=dl,_r.mapKeys=Ph,_r.mapValues=wh,_r.matches=kf,_r.matchesProperty=Of,_r.memoize=Nl,_r.merge=Ch,_r.mergeWith=Eh,_r.method=Tf,_r.methodOf=Mf,_r.mixin=Lf,_r.negate=Bl,_r.nthArg=Nf,_r.omit=jh,_r.omitBy=Sh,_r.once=Ul,_r.orderBy=vl,_r.over=Bf,_r.overArgs=Gl,_r.overEvery=Uf,_r.overSome=Gf,_r.partial=zl,_r.partialRight=Wl,_r.partition=gl,_r.pick=Dh,_r.pickBy=Ih,_r.property=zf,_r.propertyOf=Wf,_r.pull=su,_r.pullAll=au,_r.pullAllBy=uu,_r.pullAllWith=lu,_r.pullAt=cu,_r.range=Hf,_r.rangeRight=Yf,_r.rearg=Hl,_r.reject=bl,_r.remove=hu,_r.rest=Yl,_r.reverse=fu,_r.sampleSize=xl,_r.set=kh,_r.setWith=Oh,_r.shuffle=Pl,_r.slice=pu,_r.sortBy=El,_r.sortedUniq=_u,_r.sortedUniqBy=xu,_r.split=af,_r.spread=Xl,_r.tail=Pu,_r.take=wu,_r.takeRight=Cu,_r.takeRightWhile=Eu,_r.takeWhile=ju,_r.tap=Hu,_r.throttle=ql,_r.thru=Yu,_r.toArray=Hc,_r.toPairs=Th,_r.toPairsIn=Mh,_r.toPath=Jf,_r.toPlainObject=$c,_r.transform=Lh,_r.unary=Vl,_r.union=Su,_r.unionBy=Du,_r.unionWith=Iu,_r.uniq=Au,_r.uniqBy=ku,_r.uniqWith=Ou,_r.unset=Fh,_r.unzip=Tu,_r.unzipWith=Mu,_r.update=Rh,_r.updateWith=Nh,_r.values=Bh,_r.valuesIn=Uh,_r.without=Lu,_r.words=_f,_r.wrap=$l,_r.xor=Fu,_r.xorBy=Ru,_r.xorWith=Nu,_r.zip=Bu,_r.zipObject=Uu,_r.zipObjectDeep=Gu,_r.zipWith=zu,_r.entries=Th,_r.entriesIn=Mh,_r.extend=Qc,_r.extendWith=th,Lf(_r,_r),_r.add=tp,_r.attempt=xf,_r.camelCase=Hh,_r.capitalize=Yh,_r.ceil=np,_r.clamp=Gh,_r.clone=Kl,_r.cloneDeep=Ql,_r.cloneDeepWith=tc,_r.cloneWith=Jl,_r.conformsTo=nc,_r.deburr=Xh,_r.defaultTo=jf,_r.divide=ep,_r.endsWith=qh,_r.eq=ec,_r.escape=Vh,_r.escapeRegExp=$h,_r.every=nl,_r.find=rl,_r.findIndex=Ha,_r.findKey=sh,_r.findLast=il,_r.findLastIndex=Ya,_r.findLastKey=ah,_r.floor=rp,_r.forEach=ul,_r.forEachRight=ll,_r.forIn=uh,_r.forInRight=lh,_r.forOwn=ch,_r.forOwnRight=hh,_r.get=dh,_r.gt=rc,_r.gte=ic,_r.has=vh,_r.hasIn=gh,_r.head=Za,_r.identity=If,_r.includes=hl,_r.indexOf=Ka,_r.inRange=zh,_r.invoke=bh,_r.isArguments=oc,_r.isArray=sc,_r.isArrayBuffer=ac,_r.isArrayLike=uc,_r.isArrayLikeObject=lc,_r.isBoolean=cc,_r.isBuffer=hc,_r.isDate=fc,_r.isElement=pc,_r.isEmpty=dc,_r.isEqual=vc,_r.isEqualWith=gc,_r.isError=mc,_r.isFinite=yc,_r.isFunction=bc,_r.isInteger=_c,_r.isLength=xc,_r.isMap=Cc,_r.isMatch=Ec,_r.isMatchWith=jc,_r.isNaN=Sc,_r.isNative=Dc,_r.isNil=Ac,_r.isNull=Ic,_r.isNumber=kc,_r.isObject=Pc,_r.isObjectLike=wc,_r.isPlainObject=Oc,_r.isRegExp=Tc,_r.isSafeInteger=Mc,_r.isSet=Lc,_r.isString=Fc,_r.isSymbol=Rc,_r.isTypedArray=Nc,_r.isUndefined=Bc,_r.isWeakMap=Uc,_r.isWeakSet=Gc,_r.join=eu,_r.kebabCase=Zh,_r.last=ru,_r.lastIndexOf=iu,_r.lowerCase=Kh,_r.lowerFirst=Jh,_r.lt=zc,_r.lte=Wc,_r.max=ip,_r.maxBy=op,_r.mean=sp,_r.meanBy=ap,_r.min=up,_r.minBy=lp,_r.stubArray=Xf,_r.stubFalse=qf,_r.stubObject=Vf,_r.stubString=$f,_r.stubTrue=Zf,_r.multiply=cp,_r.nth=ou,_r.noConflict=Ff,_r.noop=Rf,_r.now=jl,_r.pad=Qh,_r.padEnd=tf,_r.padStart=nf,_r.parseInt=ef,_r.random=Wh,_r.reduce=ml,_r.reduceRight=yl,_r.repeat=rf,_r.replace=of,_r.result=Ah,_r.round=hp,_r.runInContext=t,_r.sample=_l,_r.size=wl,_r.snakeCase=sf,_r.some=Cl,_r.sortedIndex=du,_r.sortedIndexBy=vu,_r.sortedIndexOf=gu,_r.sortedLastIndex=mu,_r.sortedLastIndexBy=yu,_r.sortedLastIndexOf=bu,_r.startCase=uf,_r.startsWith=lf,_r.subtract=fp,_r.sum=pp,_r.sumBy=dp,_r.template=cf,_r.times=Kf,_r.toFinite=Yc,_r.toInteger=Xc,_r.toLength=qc,_r.toLower=hf,_r.toNumber=Vc,_r.toSafeInteger=Zc,_r.toString=Kc,_r.toUpper=ff,_r.trim=pf,_r.trimEnd=df,_r.trimStart=vf,_r.truncate=gf,_r.unescape=mf,_r.uniqueId=Qf,_r.upperCase=yf,_r.upperFirst=bf,_r.each=ul,_r.eachRight=ll,_r.first=Za,Lf(_r,function(){var t={};return Ii(_r,(function(n,e){fn.call(_r.prototype,e)||(t[e]=n)})),t}(),{chain:!1}),_r.VERSION=s,xe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){_r[t].placeholder=_r})),xe(["drop","take"],(function(t,n){Er.prototype[t]=function(e){e=e===o?1:Gn(Xc(e),0);var r=this.__filtered__&&!n?new Er(this):this.clone();return r.__filtered__?r.__takeCount__=zn(e,r.__takeCount__):r.__views__.push({size:zn(e,B),type:t+(r.__dir__<0?"Right":"")}),r},Er.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}})),xe(["filter","map","takeWhile"],(function(t,n){var e=n+1,r=e==O||e==M;Er.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:zs(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}})),xe(["head","last"],(function(t,n){var e="take"+(n?"Right":"");Er.prototype[t]=function(){return this[e](1).value()[0]}})),xe(["initial","tail"],(function(t,n){var e="drop"+(n?"":"Right");Er.prototype[t]=function(){return this.__filtered__?new Er(this):this[e](1)}})),Er.prototype.compact=function(){return this.filter(If)},Er.prototype.find=function(t){return this.filter(t).head()},Er.prototype.findLast=function(t){return this.reverse().find(t)},Er.prototype.invokeMap=bo((function(t,n){return"function"==typeof t?new Er(this):this.map((function(e){return Gi(e,t,n)}))})),Er.prototype.reject=function(t){return this.filter(Bl(zs(t)))},Er.prototype.slice=function(t,n){t=Xc(t);var e=this;return e.__filtered__&&(t>0||n<0)?new Er(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==o&&(n=Xc(n),e=n<0?e.dropRight(-n):e.take(n-t)),e)},Er.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Er.prototype.toArray=function(){return this.take(B)},Ii(Er.prototype,(function(t,n){var e=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),i=_r[r?"take"+("last"==n?"Right":""):n],s=r||/^find/.test(n);i&&(_r.prototype[n]=function(){var n=this.__wrapped__,a=r?[1]:arguments,u=n instanceof Er,l=a[0],c=u||sc(n),h=function(t){var n=i.apply(_r,De([t],a));return r&&f?n[0]:n};c&&e&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,p=!!this.__actions__.length,d=s&&!f,v=u&&!p;if(!s&&c){n=v?n:new Er(this);var g=t.apply(n,a);return g.__actions__.push({func:Yu,args:[h],thisArg:o}),new Cr(g,f)}return d&&v?t.apply(this,a):(g=this.thru(h),d?r?g.value()[0]:g.value():g)})})),xe(["pop","push","shift","sort","splice","unshift"],(function(t){var n=an[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);_r.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return n.apply(sc(i)?i:[],t)}return this[e]((function(e){return n.apply(sc(e)?e:[],t)}))}})),Ii(Er.prototype,(function(t,n){var e=_r[n];if(e){var r=e.name+"";fn.call(le,r)||(le[r]=[]),le[r].push({name:n,func:e})}})),le[ms(o,b).name]=[{name:"wrapper",func:o}],Er.prototype.clone=jr,Er.prototype.reverse=Sr,Er.prototype.value=Dr,_r.prototype.at=Xu,_r.prototype.chain=qu,_r.prototype.commit=Vu,_r.prototype.next=$u,_r.prototype.plant=Ku,_r.prototype.reverse=Ju,_r.prototype.toJSON=_r.prototype.valueOf=_r.prototype.value=Qu,_r.prototype.first=_r.prototype.head,Dn&&(_r.prototype[Dn]=Zu),_r},xr=_r();ae._=xr,i=function(){return xr}.call(n,e,n,r),i===o||(r.exports=i)}).call(this)}).call(this,e("5243"),e("76e2")(t))},"3d8a":function(t,n,e){var r=e("d5dc"),i=e("2ba5"),o=e("f28d"),s=e("200e"),a=e("527d"),u=e("d0e2"),l=u.get,c=u.enforce,h=String(String).split("String");(t.exports=function(t,n,e,a){var u=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof e&&("string"!=typeof n||o(e,"name")||i(e,"name",n),c(e).source=h.join("string"==typeof n?n:"")),t!==r?(u?!f&&t[n]&&(l=!0):delete t[n],l?t[n]=e:i(t,n,e)):l?t[n]=e:s(n,e)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||a(this)}))},"3e5e":function(t,n,e){"use strict";var r=e("deaa"),i=e("e1dd"),o=e("ac83"),s=e("3193"),a=e("fb8e"),u=e("536c"),l=e("684e"),c=e("81a0"),h=e("21d4"),f=e("f30e"),p=[].push,d=Math.min,v=4294967295,g=!f((function(){return!RegExp(v,"y")}));r("split",2,(function(t,n,e){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(s(this)),o=void 0===e?v:e>>>0;if(0===o)return[];if(void 0===t)return[r];if(!i(t))return n.call(r,t,o);var a,u,l,c=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,g=new RegExp(t.source,f+"g");while(a=h.call(g,r)){if(u=g.lastIndex,u>d&&(c.push(r.slice(d,a.index)),a.length>1&&a.index<r.length&&p.apply(c,a.slice(1)),l=a[0].length,d=u,c.length>=o))break;g.lastIndex===a.index&&g.lastIndex++}return d===r.length?!l&&g.test("")||c.push(""):c.push(r.slice(d)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,e){var i=s(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,e):r.call(String(i),n,e)},function(t,i){var s=e(r,t,this,i,r!==n);if(s.done)return s.value;var h=o(t),f=String(this),p=a(h,RegExp),m=h.unicode,y=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(g?"y":"g"),b=new p(g?h:"^(?:"+h.source+")",y),_=void 0===i?v:i>>>0;if(0===_)return[];if(0===f.length)return null===c(b,f)?[f]:[];var x=0,P=0,w=[];while(P<f.length){b.lastIndex=g?P:0;var C,E=c(b,g?f:f.slice(P));if(null===E||(C=d(l(b.lastIndex+(g?0:P)),f.length))===x)P=u(f,P,m);else{if(w.push(f.slice(x,P)),w.length===_)return w;for(var j=1;j<=E.length-1;j++)if(w.push(E[j]),w.length===_)return w;P=x=C}}return w.push(f.slice(x)),w}]}),!g)},"3f36":function(t,n,e){var r=e("91fe"),i=e("f30e"),o=e("8c47"),s=e("4aef").f,a=e("7a23"),u=i((function(){s(1)})),l=!a||u;r({target:"Object",stat:!0,forced:l,sham:!a},{getOwnPropertyDescriptor:function(t,n){return s(o(t),n)}})},"407d":function(t,n,e){var r=e("0b29"),i=e("fee7"),o=e("ee6f"),s=e("684e"),a=e("3132"),u=[].push,l=function(t){var n=1==t,e=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h;return function(p,d,v,g){for(var m,y,b=o(p),_=i(b),x=r(d,v,3),P=s(_.length),w=0,C=g||a,E=n?C(p,P):e?C(p,0):void 0;P>w;w++)if((f||w in _)&&(m=_[w],y=x(m,w,b),t))if(n)E[w]=y;else if(y)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:u.call(E,m)}else if(c)return!1;return h?-1:l||c?c:E}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},4178:function(t,n,e){"use strict";var r=e("91fe"),i=e("d5dc"),o=e("df50"),s=e("e17a"),a=e("7a23"),u=e("4ccd"),l=e("4445"),c=e("f30e"),h=e("f28d"),f=e("a8c9"),p=e("d68d"),d=e("ac83"),v=e("ee6f"),g=e("8c47"),m=e("7dc7"),y=e("aec8"),b=e("641d"),_=e("16e5"),x=e("65af"),P=e("1544"),w=e("1072"),C=e("4aef"),E=e("c223"),j=e("354c"),S=e("2ba5"),D=e("3d8a"),I=e("f880"),A=e("4d52"),k=e("4888"),O=e("9db6"),T=e("57c4"),M=e("7287"),L=e("c0aa"),F=e("94d7"),R=e("d0e2"),N=e("407d").forEach,B=A("hidden"),U="Symbol",G="prototype",z=T("toPrimitive"),W=R.set,H=R.getterFor(U),Y=Object[G],X=i.Symbol,q=o("JSON","stringify"),V=C.f,$=E.f,Z=P.f,K=j.f,J=I("symbols"),Q=I("op-symbols"),tt=I("string-to-symbol-registry"),nt=I("symbol-to-string-registry"),et=I("wks"),rt=i.QObject,it=!rt||!rt[G]||!rt[G].findChild,ot=a&&c((function(){return 7!=b($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(t,n,e){var r=V(Y,n);r&&delete Y[n],$(t,n,e),r&&t!==Y&&$(Y,n,r)}:$,st=function(t,n){var e=J[t]=b(X[G]);return W(e,{type:U,tag:t,description:n}),a||(e.description=n),e},at=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof X},ut=function(t,n,e){t===Y&&ut(Q,n,e),d(t);var r=m(n,!0);return d(e),h(J,r)?(e.enumerable?(h(t,B)&&t[B][r]&&(t[B][r]=!1),e=b(e,{enumerable:y(0,!1)})):(h(t,B)||$(t,B,y(1,{})),t[B][r]=!0),ot(t,r,e)):$(t,r,e)},lt=function(t,n){d(t);var e=g(n),r=_(e).concat(dt(e));return N(r,(function(n){a&&!ht.call(e,n)||ut(t,n,e[n])})),t},ct=function(t,n){return void 0===n?b(t):lt(b(t),n)},ht=function(t){var n=m(t,!0),e=K.call(this,n);return!(this===Y&&h(J,n)&&!h(Q,n))&&(!(e||!h(this,n)||!h(J,n)||h(this,B)&&this[B][n])||e)},ft=function(t,n){var e=g(t),r=m(n,!0);if(e!==Y||!h(J,r)||h(Q,r)){var i=V(e,r);return!i||!h(J,r)||h(e,B)&&e[B][r]||(i.enumerable=!0),i}},pt=function(t){var n=Z(g(t)),e=[];return N(n,(function(t){h(J,t)||h(k,t)||e.push(t)})),e},dt=function(t){var n=t===Y,e=Z(n?Q:g(t)),r=[];return N(e,(function(t){!h(J,t)||n&&!h(Y,t)||r.push(J[t])})),r};if(u||(X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,n=O(t),e=function(t){this===Y&&e.call(Q,t),h(this,B)&&h(this[B],n)&&(this[B][n]=!1),ot(this,n,y(1,t))};return a&&it&&ot(Y,n,{configurable:!0,set:e}),st(n,t)},D(X[G],"toString",(function(){return H(this).tag})),D(X,"withoutSetter",(function(t){return st(O(t),t)})),j.f=ht,E.f=ut,C.f=ft,x.f=P.f=pt,w.f=dt,M.f=function(t){return st(T(t),t)},a&&($(X[G],"description",{configurable:!0,get:function(){return H(this).description}}),s||D(Y,"propertyIsEnumerable",ht,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:X}),N(_(et),(function(t){L(t)})),r({target:U,stat:!0,forced:!u},{for:function(t){var n=String(t);if(h(tt,n))return tt[n];var e=X(n);return tt[n]=e,nt[e]=n,e},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(h(nt,t))return nt[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!a},{create:ct,defineProperty:ut,defineProperties:lt,getOwnPropertyDescriptor:ft}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:pt,getOwnPropertySymbols:dt}),r({target:"Object",stat:!0,forced:c((function(){w.f(1)}))},{getOwnPropertySymbols:function(t){return w.f(v(t))}}),q){var vt=!u||c((function(){var t=X();return"[null]"!=q([t])||"{}"!=q({a:t})||"{}"!=q(Object(t))}));r({target:"JSON",stat:!0,forced:vt},{stringify:function(t,n,e){var r,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=n,(p(n)||void 0!==t)&&!at(t))return f(n)||(n=function(t,n){if("function"==typeof r&&(n=r.call(this,t,n)),!at(n))return n}),i[1]=n,q.apply(null,i)}})}X[G][z]||S(X[G],z,X[G].valueOf),F(X,U),k[B]=!0},"41f6":function(t,n){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},4445:function(t,n,e){var r=e("4ccd");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},4888:function(t,n){t.exports={}},"49d1":function(t,n,e){var r=e("ca57"),i={ease:r(.25,.1,.25,1),easeIn:r(.42,0,1,1),easeOut:r(0,0,.58,1),easeInOut:r(.42,0,.58,1),linear:r(0,0,1,1)};function o(t,n,e){var r=Object.create(null),o=Object.create(null);e=e||{};var u="function"===typeof e.easing?e.easing:i[e.easing];u||(e.easing&&console.warn("Unknown easing function in amator: "+e.easing),u=i.ease);var l="function"===typeof e.step?e.step:s,c="function"===typeof e.done?e.done:s,h=a(e.scheduler),f=Object.keys(n);f.forEach((function(e){r[e]=t[e],o[e]=n[e]-t[e]}));var p,d="number"===typeof e.duration?e.duration:400,v=Math.max(1,.06*d),g=0;return p=h.next(y),{cancel:m};function m(){h.cancel(p),p=0}function y(){var n=u(g/v);g+=1,b(n),g<=v?(p=h.next(y),l(t)):(p=0,setTimeout((function(){c(t)}),0))}function b(n){f.forEach((function(e){t[e]=o[e]*n+r[e]}))}}function s(){}function a(t){if(!t){var n="undefined"!==typeof window&&window.requestAnimationFrame;return n?u():l()}if("function"!==typeof t.next)throw new Error("Scheduler is supposed to have next(cb) function");if("function"!==typeof t.cancel)throw new Error("Scheduler is supposed to have cancel(handle) function");return t}function u(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function l(){return{next:function(t){return setTimeout(t,1e3/60)},cancel:function(t){return clearTimeout(t)}}}function c(){var t=new Set,n=new Set,e=0;return{next:i,cancel:i,clearAll:r};function r(){t.clear(),n.clear(),cancelAnimationFrame(e),e=0}function i(t){n.add(t),o()}function o(){e||(e=requestAnimationFrame(s))}function s(){e=0;var r=n;n=t,t=r,t.forEach((function(t){t()})),t.clear()}}t.exports=o,t.exports.makeAggregateRaf=c,t.exports.sharedScheduler=c()},"4aef":function(t,n,e){var r=e("7a23"),i=e("354c"),o=e("aec8"),s=e("8c47"),a=e("7dc7"),u=e("f28d"),l=e("88b4"),c=Object.getOwnPropertyDescriptor;n.f=r?c:function(t,n){if(t=s(t),n=a(n,!0),l)try{return c(t,n)}catch(e){}if(u(t,n))return o(!i.f.call(t,n),t[n])}},"4ccd":function(t,n,e){var r=e("f30e");t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"4d52":function(t,n,e){var r=e("f880"),i=e("9db6"),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},"512c":function(t,n){function e(t,n,e){t.addEventListener("wheel",n,e)}function r(t,n,e){t.removeEventListener("wheel",n,e)}t.exports=e,t.exports.addWheelListener=e,t.exports.removeWheelListener=r},5243:function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(r){"object"===typeof window&&(e=window)}t.exports=e},"527d":function(t,n,e){var r=e("c85c"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},"536c":function(t,n,e){"use strict";var r=e("3303").charAt;t.exports=function(t,n,e){return n+(e?r(t,n).length:1)}},"55b0":function(t,n,e){var r=e("7a23"),i=e("c223"),o=e("ac83"),s=e("16e5");t.exports=r?Object.defineProperties:function(t,n){o(t);var e,r=s(n),a=r.length,u=0;while(a>u)i.f(t,e=r[u++],n[e]);return t}},"57c4":function(t,n,e){var r=e("d5dc"),i=e("f880"),o=e("f28d"),s=e("9db6"),a=e("4ccd"),u=e("4445"),l=i("wks"),c=r.Symbol,h=u?c:c&&c.withoutSetter||s;t.exports=function(t){return o(l,t)||(a&&o(c,t)?l[t]=c[t]:l[t]=h("Symbol."+t)),l[t]}},"641d":function(t,n,e){var r,i=e("ac83"),o=e("55b0"),s=e("6807"),a=e("4888"),u=e("c49e"),l=e("032e"),c=e("4d52"),h=">",f="<",p="prototype",d="script",v=c("IE_PROTO"),g=function(){},m=function(t){return f+d+h+t+f+"/"+d+h},y=function(t){t.write(m("")),t.close();var n=t.parentWindow.Object;return t=null,n},b=function(){var t,n=l("iframe"),e="java"+d+":";return n.style.display="none",u.appendChild(n),n.src=String(e),t=n.contentWindow.document,t.open(),t.write(m("document.F=Object")),t.close(),t.F},_=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(n){}_=r?y(r):b();var t=s.length;while(t--)delete _[p][s[t]];return _()};a[v]=!0,t.exports=Object.create||function(t,n){var e;return null!==t?(g[p]=i(t),e=new g,g[p]=null,e[v]=t):e=_(),void 0===n?e:o(e,n)}},"65af":function(t,n,e){var r=e("02d0"),i=e("6807"),o=i.concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},"65c3":function(t,n,e){"use strict";var r=e("512c"),i=e("49d1"),o=e("1fa1"),s=e("b888"),a=e("67d5"),u=a(),l=a(!0),c=e("b59d"),h=e("e9ce"),f=e("f946"),p=.065,d=1.75,v=300;function g(t,n){n=n||{};var e=n.controller;if(e||(t instanceof SVGElement&&(e=h(t,n)),t instanceof HTMLElement&&(e=f(t,n))),!e)throw new Error("Cannot create panzoom for the current type of dom element");var a=e.getOwner(),g={x:0,y:0},y=!1,x=new c;e.initTransform&&e.initTransform(x);var C,E="function"===typeof n.filterKey?n.filterKey:b,j="number"===typeof n.pinchSpeed?n.pinchSpeed:1,S=n.bounds,D="number"===typeof n.maxZoom?n.maxZoom:Number.POSITIVE_INFINITY,I="number"===typeof n.minZoom?n.minZoom:0,A="number"===typeof n.boundsPadding?n.boundsPadding:.05,k="number"===typeof n.zoomDoubleClickSpeed?n.zoomDoubleClickSpeed:d,O=n.beforeWheel||b,T=n.beforeMouseDown||b,M="number"===typeof n.zoomSpeed?n.zoomSpeed:p,L=m(n.transformOrigin),F=n.enableTextSelection?l:u;_(S),n.autocenter&&tt();var R,N,B,U,G,z,W,H=0,Y=!1,X=!1;U="smoothScroll"in n&&!n.smoothScroll?w():s(st,yt,n.smoothScroll);var q=!1;_t();var V={dispose:bt,moveBy:mt,moveTo:at,centerOn:gt,zoomTo:Yt,zoomAbs:vt,smoothZoom:zt,smoothZoomAbs:Wt,showRectangle:J,pause:$,resume:Z,isPaused:K,getTransform:nt,getMinZoom:et,getMaxZoom:rt,getTransformOrigin:it,setTransformOrigin:ot};return o(V),V;function $(){xt(),q=!0}function Z(){q&&(_t(),q=!1)}function K(){return q}function J(t){var n=a.getBoundingClientRect(),e=Q(n.width,n.height),r=t.right-t.left,i=t.bottom-t.top;if(!Number.isFinite(r)||!Number.isFinite(i))throw new Error("Invalid rectangle");var o=e.x/r,s=e.y/i,u=Math.min(o,s);x.x=-(t.left+r/2)*u+e.x/2,x.y=-(t.top+i/2)*u+e.y/2,x.scale=u}function Q(t,n){if(e.getScreenCTM){var r=e.getScreenCTM(),i=r.a,o=r.d,s=r.e,a=r.f;g.x=t*i-s,g.y=n*o-a}else g.x=t,g.y=n;return g}function tt(){var t,n,r=0,i=0,o=ct();if(o)r=o.left,i=o.top,t=o.right-o.left,n=o.bottom-o.top;else{var s=a.getBoundingClientRect();t=s.width,n=s.height}var u=e.getBBox();if(0!==u.width&&0!==u.height){var l=n/u.height,c=t/u.width,h=Math.min(c,l);x.x=-(u.left+u.width/2)*h+t/2+r,x.y=-(u.top+u.height/2)*h+n/2+i,x.scale=h}}function nt(){return x}function et(){return I}function rt(){return D}function it(){return L}function ot(t){L=m(t)}function st(){return{x:x.x,y:x.y}}function at(t,n){x.x=t,x.y=n,lt(),Kt("pan"),pt()}function ut(t,n){at(x.x+t,x.y+n)}function lt(){var t=ct();if(t){var n=!1,e=ht(),r=t.left-e.right;return r>0&&(x.x+=r,n=!0),r=t.right-e.left,r<0&&(x.x+=r,n=!0),r=t.top-e.bottom,r>0&&(x.y+=r,n=!0),r=t.bottom-e.top,r<0&&(x.y+=r,n=!0),n}}function ct(){if(S){if("boolean"===typeof S){var t=a.getBoundingClientRect(),n=t.width,e=t.height;return{left:n*A,top:e*A,right:n*(1-A),bottom:e*(1-A)}}return S}}function ht(){var t=e.getBBox(),n=ft(t.left,t.top);return{left:n.x,top:n.y,right:t.width*x.scale+n.x,bottom:t.height*x.scale+n.y}}function ft(t,n){return{x:t*x.scale+x.x,y:n*x.scale+x.y}}function pt(){y=!0,C=window.requestAnimationFrame(Pt)}function dt(t,n,e){if(P(t)||P(n)||P(e))throw new Error("zoom requires valid numbers");var r=x.scale*e;if(r<I){if(x.scale===I)return;e=I/x.scale}if(r>D){if(x.scale===D)return;e=D/x.scale}var i=Q(t,n);if(x.x=i.x-e*(i.x-x.x),x.y=i.y-e*(i.y-x.y),S&&1===A&&1===I)x.scale*=e,lt();else{var o=lt();o||(x.scale*=e)}Kt("zoom"),pt()}function vt(t,n,e){var r=e/x.scale;dt(t,n,r)}function gt(t){var n=t.ownerSVGElement;if(!n)throw new Error("ui element is required to be within the scene");var e=t.getBoundingClientRect(),r=e.left+e.width/2,i=e.top+e.height/2,o=n.getBoundingClientRect(),s=o.width/2-r,a=o.height/2-i;mt(s,a,!0)}function mt(t,n,e){if(!e)return ut(t,n);G&&G.cancel();var r={x:0,y:0},o={x:t,y:n},s=0,a=0;G=i(r,o,{step:function(t){ut(t.x-s,t.y-a),s=t.x,a=t.y}})}function yt(t,n){Xt(),at(t,n)}function bt(){xt()}function _t(){a.addEventListener("mousedown",Lt,{passive:!1}),a.addEventListener("dblclick",Mt,{passive:!1}),a.addEventListener("touchstart",jt,{passive:!1}),a.addEventListener("keydown",Ct,{passive:!1}),r.addWheelListener(a,Ut,{passive:!1}),pt()}function xt(){r.removeWheelListener(a,Ut),a.removeEventListener("mousedown",Lt),a.removeEventListener("keydown",Ct),a.removeEventListener("dblclick",Mt),a.removeEventListener("touchstart",jt),C&&(window.cancelAnimationFrame(C),C=0),U.cancel(),Nt(),Bt(),F.release(),$t()}function Pt(){y&&wt()}function wt(){y=!1,e.applyTransform(x),Kt("transform"),C=0}function Ct(t){var n=0,e=0,r=0;if(38===t.keyCode?e=1:40===t.keyCode?e=-1:37===t.keyCode?n=1:39===t.keyCode?n=-1:189===t.keyCode||109===t.keyCode?r=1:187!==t.keyCode&&107!==t.keyCode||(r=-1),!E(t,n,e,r)){if(n||e){t.preventDefault(),t.stopPropagation();var i=a.getBoundingClientRect(),o=Math.min(i.width,i.height),s=.05,u=o*s*n,l=o*s*e;mt(u,l)}if(r){var c=qt(r);o=L?Ht():Et();Yt(o.x,o.y,c)}}}function Et(){var t=a.getBoundingClientRect();return{x:t.width/2,y:t.height/2}}function jt(t){if(St(t),1===t.touches.length)return It(t,t.touches[0]);2===t.touches.length&&(B=Tt(t.touches[0],t.touches[1]),W=!0,At())}function St(t){n.onTouch&&!n.onTouch(t)||(t.stopPropagation(),t.preventDefault())}function Dt(t){n.onDoubleClick&&!n.onDoubleClick(t)||(t.preventDefault(),t.stopPropagation())}function It(t){var n=t.touches[0],e=Gt(n);R=e.x,N=e.y,U.cancel(),At()}function At(){Y||(Y=!0,document.addEventListener("touchmove",kt),document.addEventListener("touchend",Ot),document.addEventListener("touchcancel",Ot))}function kt(t){if(1===t.touches.length){t.stopPropagation();var n=t.touches[0],e=Gt(n),r=Q(e.x,e.y),i=r.x-R,o=r.y-N;0!==i&&0!==o&&Vt(),R=r.x,N=r.y,mt(i,o)}else if(2===t.touches.length){W=!0;var s=t.touches[0],a=t.touches[1],u=Tt(s,a),l=1+(u/B-1)*j,c=Gt(s),h=Gt(a);if(R=(c.x+h.x)/2,N=(c.y+h.y)/2,L){e=Ht();R=e.x,N=e.y}Yt(R,N,l),B=u,t.stopPropagation(),t.preventDefault()}}function Ot(t){if(t.touches.length>0){var n=Gt(t.touches[0]);R=n.x,N=n.y}else{var e=new Date;if(e-H<v)if(L){n=Ht();zt(n.x,n.y,k)}else zt(R,N,k);H=e,Y=!1,$t(),Bt()}}function Tt(t,n){var e=t.clientX-n.clientX,r=t.clientY-n.clientY;return Math.sqrt(e*e+r*r)}function Mt(t){Dt(t);var n=Gt(t);L&&(n=Ht()),zt(n.x,n.y,k)}function Lt(t){if(!T(t)){if(Y)return t.stopPropagation(),!1;var n=1===t.button&&null!==window.event||0===t.button;if(n){U.cancel();var e=Gt(t),r=Q(e.x,e.y);return R=r.x,N=r.y,document.addEventListener("mousemove",Ft),document.addEventListener("mouseup",Rt),F.capture(t.target||t.srcElement),!1}}}function Ft(t){if(!Y){Vt();var n=Gt(t),e=Q(n.x,n.y),r=e.x-R,i=e.y-N;R=e.x,N=e.y,mt(r,i)}}function Rt(){F.release(),$t(),Nt()}function Nt(){document.removeEventListener("mousemove",Ft),document.removeEventListener("mouseup",Rt),X=!1}function Bt(){document.removeEventListener("touchmove",kt),document.removeEventListener("touchend",Ot),document.removeEventListener("touchcancel",Ot),X=!1,W=!1}function Ut(t){if(!O(t)){U.cancel();var n=qt(t.deltaY);if(1!==n){var e=L?Ht():Gt(t);Yt(e.x,e.y,n),t.preventDefault()}}}function Gt(t){var n,e,r=a.getBoundingClientRect();return n=t.clientX-r.left,e=t.clientY-r.top,{x:n,y:e}}function zt(t,n,e){var r=x.scale,o={scale:r},s={scale:e*r};U.cancel(),Xt(),z=i(o,s,{step:function(e){vt(t,n,e.scale)},done:Zt})}function Wt(t,n,e){var r=x.scale,o={scale:r},s={scale:e};U.cancel(),Xt(),z=i(o,s,{step:function(e){vt(t,n,e.scale)}})}function Ht(){var t=a.getBoundingClientRect();return{x:t.width*L.x,y:t.height*L.y}}function Yt(t,n,e){return U.cancel(),Xt(),dt(t,n,e)}function Xt(){z&&(z.cancel(),z=null)}function qt(t){var n=1;return t>0?n=1-M:t<0&&(n=1+M),n}function Vt(){X||(Kt("panstart"),X=!0,U.start())}function $t(){X&&(W||U.stop(),Kt("panend"))}function Zt(){Kt("zoomend")}function Kt(t){V.fire(t,V)}}function m(t){if(t)return"object"===typeof t?(x(t.x)&&x(t.y)||y(t),t):void y()}function y(t){throw console.error(t),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join("\n"))}function b(){}function _(t){var n=typeof t;if("undefined"!==n&&"boolean"!==n){var e=x(t.left)&&x(t.top)&&x(t.bottom)&&x(t.right);if(!e)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function x(t){return Number.isFinite(t)}function P(t){return Number.isNaN?Number.isNaN(t):t!==t}function w(){return{start:b,stop:b,cancel:b}}function C(){if("undefined"!==typeof document){var t=document.getElementsByTagName("script");if(t){for(var n,e=0;e<t.length;++e){var r=t[e];if(r.src&&r.src.match(/\bpanzoom(\.min)?\.js/)){n=r;break}}if(n){var i=n.getAttribute("query");if(i){var o=n.getAttribute("name")||"pz",s=Date.now();a()}}}}function a(){var t=document.querySelector(i);if(!t){var e=Date.now(),r=e-s;return r<2e3?void setTimeout(a,100):void console.error("Cannot find the panzoom element",o)}var l=u(n);console.log(l),window[o]=g(t,l)}function u(t){for(var n=t.attributes,e={},r=0;r<n.length;++r){var i=n[r],o=l(i);o&&(e[o.name]=o.value)}return e}function l(t){if(t.name){var n="p"===t.name[0]&&"z"===t.name[1]&&"-"===t.name[2];if(n){var e=t.name.substr(3),r=JSON.parse(t.value);return{name:e,value:r}}}}}t.exports=g,C()},"67d5":function(t,n){function e(t){if(t)return{capture:i,release:i};var n,e,o,s=!1;return{capture:a,release:u};function a(t){s=!0,e=window.document.onselectstart,o=window.document.ondragstart,window.document.onselectstart=r,n=t,n.ondragstart=r}function u(){s&&(s=!1,window.document.onselectstart=e,n&&(n.ondragstart=o))}}function r(t){return t.stopPropagation(),!1}function i(){}t.exports=e},"67ea":function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},6807:function(t,n){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"684e":function(t,n,e){var r=e("f240"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},6885:function(t,n,e){var r=e("7a23"),i=e("f30e"),o=e("f28d"),s=Object.defineProperty,a={},u=function(t){throw t};t.exports=function(t,n){if(o(a,t))return a[t];n||(n={});var e=[][t],l=!!o(n,"ACCESSORS")&&n.ACCESSORS,c=o(n,0)?n[0]:u,h=o(n,1)?n[1]:void 0;return a[t]=!!e&&!i((function(){if(l&&!r)return!0;var t={length:-1};l?s(t,1,{enumerable:!0,get:u}):t[1]=1,e.call(t,c,h)}))}},"6be9":function(t,n,e){var r=e("8c47"),i=e("684e"),o=e("0192"),s=function(t){return function(n,e,s){var a,u=r(n),l=i(u.length),c=o(s,l);if(t&&e!=e){while(l>c)if(a=u[c++],a!=a)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===e)return t||c||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},"705f":function(t,n,e){},7287:function(t,n,e){var r=e("57c4");n.f=r},7596:function(t,n,e){"use strict";var r=e("705f"),i=e.n(r);i.a},"76e2":function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"76f3":function(t,n,e){(function(){"undefined"==typeof Math.sgn&&(Math.sgn=function(t){return 0==t?0:t>0?1:-1});var t={subtract:function(t,n){return{x:t.x-n.x,y:t.y-n.y}},dotProduct:function(t,n){return t.x*n.x+t.y*n.y},square:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},scale:function(t,n){return{x:t.x*n,y:t.y*n}}},e=64,r=Math.pow(2,-e-1),i=function(n,e){for(var r=[],i=s(n,e),o=e.length-1,u=2*o-1,l=a(i,u,r,0),c=t.subtract(n,e[0]),f=t.square(c),p=0,d=0;d<l;d++){c=t.subtract(n,h(e,o,r[d],null,null));var v=t.square(c);v<f&&(f=v,p=r[d])}return c=t.subtract(n,e[o]),v=t.square(c),v<f&&(f=v,p=1),{location:p,distance:f}},o=function(t,n){var e=i(t,n);return{point:h(n,n.length-1,e.location,null,null),location:e.location}},s=function(n,e){for(var r=e.length-1,i=2*r-1,o=[],s=[],a=[],u=[],l=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],c=0;c<=r;c++)o[c]=t.subtract(e[c],n);for(c=0;c<=r-1;c++)s[c]=t.subtract(e[c+1],e[c]),s[c]=t.scale(s[c],3);for(var h=0;h<=r-1;h++)for(var f=0;f<=r;f++)a[h]||(a[h]=[]),a[h][f]=t.dotProduct(s[h],o[f]);for(c=0;c<=i;c++)u[c]||(u[c]=[]),u[c].y=0,u[c].x=parseFloat(c)/i;for(var p=r,d=r-1,v=0;v<=p+d;v++){var g=Math.max(0,v-d),m=Math.min(v,p);for(c=g;c<=m;c++){var y=v-c;u[c+y].y+=a[y][c]*l[y][c]}}return u},a=function(t,n,r,i){var o,s,f=[],p=[],d=[],v=[];switch(u(t,n)){case 0:return 0;case 1:if(i>=e)return r[0]=(t[0].x+t[n].x)/2,1;if(l(t,n))return r[0]=c(t,n),1;break}h(t,n,.5,f,p),o=a(f,n,d,i+1),s=a(p,n,v,i+1);for(var g=0;g<o;g++)r[g]=d[g];for(g=0;g<s;g++)r[g+o]=v[g];return o+s},u=function(t,n){var e,r,i=0;e=r=Math.sgn(t[0].y);for(var o=1;o<=n;o++)e=Math.sgn(t[o].y),e!=r&&i++,r=e;return i},l=function(t,n){var e,i,o,s,a,u,l,c,h,f,p,d,v,g,m,y,b,_;u=t[0].y-t[n].y,l=t[n].x-t[0].x,c=t[0].x*t[n].y-t[n].x*t[0].y,b=_=0;for(var x=1;x<n;x++){var P=u*t[x].x+l*t[x].y+c;P>b?b=P:P<_&&(_=P)}return p=0,d=1,v=0,g=u,m=l,y=c-b,h=p*m-g*d,f=1/h,i=(d*y-m*v)*f,g=u,m=l,y=c-_,h=p*m-g*d,f=1/h,o=(d*y-m*v)*f,s=Math.min(i,o),a=Math.max(i,o),e=a-s,e<r?1:0},c=function(t,n){var e=1,r=0,i=t[n].x-t[0].x,o=t[n].y-t[0].y,s=t[0].x-0,a=t[0].y-0,u=i*r-o*e,l=1/u,c=(i*a-o*s)*l;return 0+e*c},h=function(t,n,e,r,i){for(var o=[[]],s=0;s<=n;s++)o[0][s]=t[s];for(var a=1;a<=n;a++)for(s=0;s<=n-a;s++)o[a]||(o[a]=[]),o[a][s]||(o[a][s]={}),o[a][s].x=(1-e)*o[a-1][s].x+e*o[a-1][s+1].x,o[a][s].y=(1-e)*o[a-1][s].y+e*o[a-1][s+1].y;if(null!=r)for(s=0;s<=n;s++)r[s]=o[s][0];if(null!=i)for(s=0;s<=n;s++)i[s]=o[n-s][s];return o[n][0]},f={},p=function(t){var n=f[t];if(!n){n=[];var e=function(){return function(n){return Math.pow(n,t)}},r=function(){return function(n){return Math.pow(1-n,t)}},i=function(t){return function(n){return t}},o=function(){return function(t){return t}},s=function(){return function(t){return 1-t}},a=function(t){return function(n){for(var e=1,r=0;r<t.length;r++)e*=t[r](n);return e}};n.push(new e);for(var u=1;u<t;u++){for(var l=[new i(t)],c=0;c<t-u;c++)l.push(new o);for(c=0;c<u;c++)l.push(new s);n.push(new a(l))}n.push(new r),f[t]=n}return n},d=function(t,n){for(var e=p(t.length-1),r=0,i=0,o=0;o<t.length;o++)r+=t[o].x*e[o](n),i+=t[o].y*e[o](n);return{x:r,y:i}},v=function(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))},g=function(t){return t[0].x===t[1].x&&t[0].y===t[1].y},m=function(t,n,e){if(g(t))return{point:t[0],location:n};var r=d(t,n),i=0,o=n,s=e>0?1:-1,a=null;while(i<Math.abs(e))o+=.005*s,a=d(t,o),i+=v(a,r),r=a;return{point:a,location:o}},y=function(t){if(g(t))return 0;var n=d(t,0),e=0,r=0,i=1,o=null;while(r<1)r+=.005*i,o=d(t,r),e+=v(o,n),n=o;return e},b=function(t,n,e){return m(t,n,e).point},_=function(t,n,e){return m(t,n,e).location},x=function(t,n){var e=d(t,n),r=d(t.slice(0,t.length-1),n),i=r.y-e.y,o=r.x-e.x;return 0===i?1/0:Math.atan(i/o)},P=function(t,n,e){var r=m(t,n,e);return r.location>1&&(r.location=1),r.location<0&&(r.location=0),x(t,r.location)},w=function(t,n,e,r){r=null==r?0:r;var i=m(t,n,r),o=x(t,i.location),s=Math.atan(-1/o),a=e/2*Math.sin(s),u=e/2*Math.cos(s);return[{x:i.point.x+u,y:i.point.y+a},{x:i.point.x-u,y:i.point.y-a}]},C=function(t,n,e,r,i){var o=r-n,s=t-e,a=t*(n-r)+n*(e-t),u=D(i),l=[o*u[0][0]+s*u[1][0],o*u[0][1]+s*u[1][1],o*u[0][2]+s*u[1][2],o*u[0][3]+s*u[1][3]+a],c=A.apply(null,l),h=[];if(null!=c)for(var f=0;f<3;f++){var p,d=c[f],v=Math.pow(d,2),g=Math.pow(d,3),m=[u[0][0]*g+u[0][1]*v+u[0][2]*d+u[0][3],u[1][0]*g+u[1][1]*v+u[1][2]*d+u[1][3]];p=e-t!==0?(m[0]-t)/(e-t):(m[1]-n)/(r-n),d>=0&&d<=1&&p>=0&&p<=1&&h.push(m)}return h},E=function(t,n,e,r,i){var o=[];return o.push.apply(o,C(t,n,t+e,n,i)),o.push.apply(o,C(t+e,n,t+e,n+r,i)),o.push.apply(o,C(t+e,n+r,t,n+r,i)),o.push.apply(o,C(t,n+r,t,n,i)),o},j=function(t,n){var e=[];return e.push.apply(e,C(t.x,t.y,t.x+t.w,t.y,n)),e.push.apply(e,C(t.x+t.w,t.y,t.x+t.w,t.y+t.h,n)),e.push.apply(e,C(t.x+t.w,t.y+t.h,t.x,t.y+t.h,n)),e.push.apply(e,C(t.x,t.y+t.h,t.x,t.y,n)),e};function S(t,n){return[-t[0][n]+3*t[1][n]+-3*t[2][n]+t[3][n],3*t[0][n]-6*t[1][n]+3*t[2][n],-3*t[0][n]+3*t[1][n],t[0][n]]}function D(t){return[S(t,"x"),S(t,"y")]}function I(t){return t<0?-1:t>0?1:0}function A(t,n,e,r){var i,o,s=n/t,a=e/t,u=r/t,l=(3*a-Math.pow(s,2))/9,c=(9*s*a-27*u-2*Math.pow(s,3))/54,h=Math.pow(l,3)+Math.pow(c,2),f=[];if(h>=0)i=I(c+Math.sqrt(h))*Math.pow(Math.abs(c+Math.sqrt(h)),1/3),o=I(c-Math.sqrt(h))*Math.pow(Math.abs(c-Math.sqrt(h)),1/3),f[0]=-s/3+(i+o),f[1]=-s/3-(i+o)/2,f[2]=-s/3-(i+o)/2,0!==Math.abs(Math.sqrt(3)*(i-o)/2)&&(f[1]=-1,f[2]=-1);else{var p=Math.acos(c/Math.sqrt(-Math.pow(l,3)));f[0]=2*Math.sqrt(-l)*Math.cos(p/3)-s/3,f[1]=2*Math.sqrt(-l)*Math.cos((p+2*Math.PI)/3)-s/3,f[2]=2*Math.sqrt(-l)*Math.cos((p+4*Math.PI)/3)-s/3}for(var d=0;d<3;d++)(f[d]<0||f[d]>1)&&(f[d]=-1);return f}var k=this.jsBezier={distanceFromCurve:i,gradientAtPoint:x,gradientAtPointAlongCurveFrom:P,nearestPointOnCurve:o,pointOnCurve:d,pointAlongCurveFrom:b,perpendicularToCurveAt:w,locationAlongCurveFrom:_,getLength:y,lineIntersection:C,boxIntersection:E,boundingBoxIntersection:j,version:"0.9.0"};n.jsBezier=k}).call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,e=t.Biltong={version:"0.4.0"};n.Biltong=e;var r=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=function(t,n,e){return t=r(t)?t:[t.x,t.y],n=r(n)?n:[n.x,n.y],e(t,n)},o=e.gradient=function(t,n){return i(t,n,(function(t,n){return n[0]==t[0]?n[1]>t[1]?1/0:-1/0:n[1]==t[1]?n[0]>t[0]?0:-0:(n[1]-t[1])/(n[0]-t[0])}))},s=(e.normal=function(t,n){return-1/o(t,n)},e.lineLength=function(t,n){return i(t,n,(function(t,n){return Math.sqrt(Math.pow(n[1]-t[1],2)+Math.pow(n[0]-t[0],2))}))},e.quadrant=function(t,n){return i(t,n,(function(t,n){return n[0]>t[0]||n[0]==t[0]?n[1]>t[1]?2:1:n[1]>t[1]?3:4}))}),a=(e.theta=function(t,n){return i(t,n,(function(t,n){var e=o(t,n),r=Math.atan(e),i=s(t,n);return 4!=i&&3!=i||(r+=Math.PI),r<0&&(r+=2*Math.PI),r}))},e.intersects=function(t,n){var e=t.x,r=t.x+t.w,i=t.y,o=t.y+t.h,s=n.x,a=n.x+n.w,u=n.y,l=n.y+n.h;return e<=s&&s<=r&&i<=u&&u<=o||e<=a&&a<=r&&i<=u&&u<=o||e<=s&&s<=r&&i<=l&&l<=o||e<=a&&s<=r&&i<=l&&l<=o||s<=e&&e<=a&&u<=i&&i<=l||s<=r&&r<=a&&u<=i&&i<=l||s<=e&&e<=a&&u<=o&&o<=l||s<=r&&e<=a&&u<=o&&o<=l},e.encloses=function(t,n,e){var r=t.x,i=t.x+t.w,o=t.y,s=t.y+t.h,a=n.x,u=n.x+n.w,l=n.y,c=n.y+n.h,h=function(t,n,r,i){return e?t<=n&&r>=i:t<n&&r>i};return h(r,a,i,u)&&h(o,l,s,c)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),u=[null,[-1,-1],[-1,1],[1,1],[1,-1]];e.pointOnLine=function(t,n,e){var r=o(t,n),i=s(t,n),l=e>0?a[i]:u[i],c=Math.atan(r),h=Math.abs(e*Math.sin(c))*l[1],f=Math.abs(e*Math.cos(c))*l[0];return{x:t.x+f,y:t.y+h}},e.perpendicularLineTo=function(t,n,e){var r=o(t,n),i=Math.atan(-1/r),s=e/2*Math.sin(i),a=e/2*Math.cos(i);return[{x:n.x+a,y:n.y+s},{x:n.x-a,y:n.y-s}]}}.call("undefined"!==typeof window?window:this),function(){"use strict";function t(t,n,e,r,i,o,s,a){return new Touch({target:n,identifier:F(),pageX:e,pageY:r,screenX:i,screenY:o,clientX:s||i,clientY:a||o})}function e(){var t=[];return Array.prototype.push.apply(t,arguments),t.item=function(t){return this[t]},t}function r(n,r,i,o,s,a,u,l){return e(t.apply(null,arguments))}var i=this,o=function(t,n,e){e=e||t.parentNode;for(var r=e.querySelectorAll(n),i=0;i<r.length;i++)if(r[i]===t)return!0;return!1},s=function(t){return"string"==typeof t||t.constructor===String?document.getElementById(t):t},a=function(t){return t.srcElement||t.target},u=function(t,n,e,r){if(r){if("undefined"!==typeof t.path&&t.path.indexOf)return{path:t.path,end:t.path.indexOf(e)};var i={path:[],end:-1},o=function(t){i.path.push(t),t===e?i.end=i.path.length-1:null!=t.parentNode&&o(t.parentNode)};return o(n),i}return{path:[n],end:1}},l=function(t,n){for(var e=0,r=t.length;e<r;e++)if(t[e]==n)break;e<t.length&&t.splice(e,1)},c=1,h=function(t,n,e){var r=c++;return t.__ta=t.__ta||{},t.__ta[n]=t.__ta[n]||{},t.__ta[n][r]=e,e.__tauid=r,r},f=function(t,n,e){if(t.__ta&&t.__ta[n]&&delete t.__ta[n][e.__tauid],e.__taExtra){for(var r=0;r<e.__taExtra.length;r++)M(t,e.__taExtra[r][0],e.__taExtra[r][1]);e.__taExtra.length=0}e.__taUnstore&&e.__taUnstore()},p=function(t,n,e,r){if(null==t)return e;var i=t.split(","),s=function(r){s.__tauid=e.__tauid;var l=a(r),c=l,h=u(r,l,n,null!=t);if(-1!=h.end)for(var f=0;f<h.end;f++){c=h.path[f];for(var p=0;p<i.length;p++)o(c,i[p],n)&&e.apply(c,arguments)}};return d(e,r,s),s},d=function(t,n,e){t.__taExtra=t.__taExtra||[],t.__taExtra.push([n,e])},v=function(t,n,e,r){if(x&&w[n]){var i=p(r,t,e,w[n]);T(t,w[n],i,e)}"focus"===n&&null==t.getAttribute("tabindex")&&t.setAttribute("tabindex","1"),T(t,n,p(r,t,e,n),e)},g=function(t,n,e,r){if(null==t.__taSmartClicks){var i=function(n){t.__tad=S(n)},o=function(n){t.__tau=S(n)},s=function(n){if(t.__tad&&t.__tau&&t.__tad[0]===t.__tau[0]&&t.__tad[1]===t.__tau[1])for(var e=0;e<t.__taSmartClicks.length;e++)t.__taSmartClicks[e].apply(a(n),[n])};v(t,"mousedown",i,r),v(t,"mouseup",o,r),v(t,"click",s,r),t.__taSmartClicks=[]}t.__taSmartClicks.push(e),e.__taUnstore=function(){l(t.__taSmartClicks,e)}},m={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},y=function(t,n){return function(e,r,i,s){if("contextmenu"==r&&P)v(e,r,i,s);else{if(null==e.__taTapHandler){var c=e.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},h=function(r){for(var i=a(r),l=u(r,i,e,null!=s),h=!1,f=0;f<l.end;f++){if(h)return;i=l.path[f];for(var v=0;v<c.downSelectors.length;v++)if(null==c.downSelectors[v]||o(i,c.downSelectors[v],e)){c.down=!0,setTimeout(p,t),setTimeout(d,n),h=!0;break}}},f=function(t){if(c.down){var n,r,i=a(t);c.taps++;var s=O(t);for(var l in m)if(m.hasOwnProperty(l)){var h=m[l];if(h.touches===s&&(1===h.taps||h.taps===c.taps))for(var f=0;f<c[l].length;f++){r=u(t,i,e,null!=c[l][f][1]);for(var p=0;p<r.end;p++)if(n=r.path[p],null==c[l][f][1]||o(n,c[l][f][1],e)){c[l][f][0].apply(n,[t]);break}}}}},p=function(){c.down=!1},d=function(){c.taps=0};v(e,"mousedown",h),v(e,"mouseup",f)}e.__taTapHandler.downSelectors.push(s),e.__taTapHandler[r].push([i,s]),i.__taUnstore=function(){l(e.__taTapHandler[r],i)}}}},b=function(t,n,e,r){for(var i in e.__tamee[t])e.__tamee[t].hasOwnProperty(i)&&e.__tamee[t][i].apply(r,[n])},_=function(){var t=[];return function(n,e,r,i){if(!n.__tamee){n.__tamee={over:!1,mouseenter:[],mouseexit:[]};var s=function(e){var r=a(e);(null==i&&r==n&&!n.__tamee.over||o(r,i,n)&&(null==r.__tamee||!r.__tamee.over))&&(b("mouseenter",e,n,r),r.__tamee=r.__tamee||{},r.__tamee.over=!0,t.push(r))},u=function(e){for(var r=a(e),i=0;i<t.length;i++)r!=t[i]||o(e.relatedTarget||e.toElement,"*",r)||(r.__tamee.over=!1,t.splice(i,1),b("mouseexit",e,n,r))};T(n,"mouseover",p(i,n,s,"mouseover"),s),T(n,"mouseout",p(i,n,u,"mouseout"),u)}r.__taUnstore=function(){delete n.__tamee[e][r.__tauid]},h(n,e,r),n.__tamee[e][r.__tauid]=r}},x="ontouchstart"in document.documentElement,P="onmousedown"in document.documentElement,w={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},C=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var n=navigator.userAgent,e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=e.exec(n)&&(t=parseFloat(RegExp.$1))}return t}(),E=C>-1&&C<9,j=function(t,n){if(null==t)return[0,0];var e=k(t),r=A(e,0);return[r[n+"X"],r[n+"Y"]]},S=function(t){return null==t?[0,0]:E?[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop]:j(t,"page")},D=function(t){return j(t,"screen")},I=function(t){return j(t,"client")},A=function(t,n){return t.item?t.item(n):t[n]},k=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},O=function(t){return k(t).length},T=function(t,n,e,r){if(h(t,n,e),r.__tauid=e.__tauid,t.addEventListener)t.addEventListener(n,e,!1);else if(t.attachEvent){var i=n+e.__tauid;t["e"+i]=e,t[i]=function(){t["e"+i]&&t["e"+i](window.event)},t.attachEvent("on"+n,t[i])}},M=function(t,n,e){null!=e&&L(t,(function(){var r=s(this);if(f(r,n,e),null!=e.__tauid)if(r.removeEventListener)r.removeEventListener(n,e,!1),x&&w[n]&&r.removeEventListener(w[n],e,!1);else if(this.detachEvent){var i=n+e.__tauid;r[i]&&r.detachEvent("on"+n,r[i]),r[i]=null,r["e"+i]=null}e.__taTouchProxy&&M(t,e.__taTouchProxy[1],e.__taTouchProxy[0])}))},L=function(t,n){if(null!=t){t="undefined"!==typeof Window&&"unknown"!==typeof t.top&&t==t.top?[t]:"string"!==typeof t&&null==t.tagName&&null!=t.length?t:"string"===typeof t?document.querySelectorAll(t):[t];for(var e=0;e<t.length;e++)n.apply(t[e])}},F=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*Math.random()|0,e="x"==t?n:3&n|8;return e.toString(16)}))};i.Mottle=function(t){t=t||{};var n=t.clickThreshold||250,e=t.dblClickThreshold||450,i=new _,o=new y(n,e),a=t.smartClicks,u=function(t,n,e,r){null!=e&&L(t,(function(){var t=s(this);a&&"click"===n?g(t,n,e,r):"tap"===n||"dbltap"===n||"contextmenu"===n?o(t,n,e,r):"mouseenter"===n||"mouseexit"==n?i(t,n,e,r):v(t,n,e,r)}))};this.remove=function(t){return L(t,(function(){var t=s(this);if(t.__ta)for(var n in t.__ta)if(t.__ta.hasOwnProperty(n))for(var e in t.__ta[n])t.__ta[n].hasOwnProperty(e)&&M(t,n,t.__ta[n][e]);t.parentNode&&t.parentNode.removeChild(t)})),this},this.on=function(t,n,e,r){var i=arguments[0],o=4==arguments.length?arguments[2]:null,s=arguments[1],a=arguments[arguments.length-1];return u(i,s,a,o),this},this.off=function(t,n,e){return M(t,n,e),this},this.trigger=function(t,n,e,i){var o=P&&("undefined"===typeof MouseEvent||null==e||e.constructor===MouseEvent),a=x&&!P&&w[n]?w[n]:n,u=!(x&&!P&&w[n]),l=S(e),c=D(e),h=I(e);return L(t,(function(){var t,f=s(this);e=e||{screenX:c[0],screenY:c[1],clientX:h[0],clientY:h[1]};var p=function(t){i&&(t.payload=i)},d={TouchEvent:function(t){var n=r(window,f,0,l[0],l[1],c[0],c[1],h[0],h[1]),e=t.initTouchEvent||t.initEvent;e(a,!0,!0,window,null,c[0],c[1],h[0],h[1],!1,!1,!1,!1,n,n,n,1,0)},MouseEvents:function(t){t.initMouseEvent(a,!0,!0,window,0,c[0],c[1],h[0],h[1],!1,!1,!1,!1,1,f)}};if(document.createEvent){var v=!u&&!o&&x&&w[n],g=v?"TouchEvent":"MouseEvents";t=document.createEvent(g),d[g](t),p(t),f.dispatchEvent(t)}else document.createEventObject&&(t=document.createEventObject(),t.eventType=t.eventName=a,t.screenX=c[0],t.screenY=c[1],t.clientX=h[0],t.clientY=h[1],p(t),f.fireEvent("on"+a,t))})),this}},i.Mottle.consume=function(t,n){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!n&&t.preventDefault&&t.preventDefault()},i.Mottle.pageLocation=S,i.Mottle.setForceTouchEvents=function(t){x=t},i.Mottle.setForceMouseEvents=function(t){P=t},i.Mottle.version="0.8.0",n.Mottle=i.Mottle}.call("undefined"===typeof window?this:window),function(){"use strict";var t=this,e=function(t,n,e){return-1===t.indexOf(n)&&(e?t.unshift(n):t.push(n),!0)},r=function(t,n){var e=t.indexOf(n);-1!==e&&t.splice(e,1)},i=function(t,n){for(var e=[],r=0;r<t.length;r++)-1===n.indexOf(t[r])&&e.push(t[r]);return e},o=function(t){return null!=t&&("string"===typeof t||t.constructor===String)},s=function(t){var n=t.getBoundingClientRect(),e=document.body,r=document.documentElement,i=window.pageYOffset||r.scrollTop||e.scrollTop,o=window.pageXOffset||r.scrollLeft||e.scrollLeft,s=r.clientTop||e.clientTop||0,a=r.clientLeft||e.clientLeft||0,u=n.top+i-s,l=n.left+o-a;return{top:Math.round(u),left:Math.round(l)}},a=function(t,n,e){e=e||t.parentNode;for(var r=e.querySelectorAll(n),i=0;i<r.length;i++)if(r[i]===t)return!0;return!1},u=function(t,n,e){if(a(n,e,t))return n;var r=n.parentNode;while(null!=r&&r!==t){if(a(r,e,t))return r;r=r.parentNode}},l=function(t,n,e){for(var r=null,i=n.getAttribute("katavorio-draggable"),o=null!=i?"[katavorio-draggable='"+i+"'] ":"",s=0;s<t.length;s++)if(r=u(n,e,o+t[s].selector),null!=r){if(t[s].filter){var l=a(e,t[s].filter,r),c=!0===t[s].filterExclude;if(c&&!l||l)return null}return[t[s],r]}return null},c=function(){var t=-1;if("Microsoft Internet Explorer"===navigator.appName){var n=navigator.userAgent,e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=e.exec(n)&&(t=parseFloat(RegExp.$1))}return t}(),h=10,f=10,p=c>-1&&c<9,d=9===c,v=function(t){if(p)return[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop];var n=m(t),e=g(n,0);return d?[e.pageX||e.clientX,e.pageY||e.clientY]:[e.pageX,e.pageY]},g=function(t,n){return t.item?t.item(n):t[n]},m=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},y={delegatedDraggable:"katavorio-delegated-draggable",draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy",clonedDrag:"katavorio-clone-drag"},b="katavorio-drag-scope",_=["stop","start","drag","drop","over","out","beforeStart"],x=function(){},P=function(){return!0},w=function(t,n,e){for(var r=0;r<t.length;r++)t[r]!=e&&n(t[r])},C=function(t,n,e,r){w(t,(function(t){t.setActive(n),n&&t.updatePosition(),e&&t.setHover(r,n)}))},E=function(t,n){if(null!=t){t=o(t)||null!=t.tagName||null==t.length?[t]:t;for(var e=0;e<t.length;e++)n.apply(t[e],[t[e]])}},j=function(t){t.stopPropagation?(t.stopPropagation(),t.preventDefault()):t.returnValue=!1},S="input,textarea,select,button,option",D=function(t,n,e){var r=t.srcElement||t.target;return!a(r,e.getInputFilterSelector(),n)},I=function(t,n,e,r){this.params=n||{},this.el=t,this.params.addClass(this.el,this._class),this.uuid=M();var i=!0;return this.setEnabled=function(t){i=t},this.isEnabled=function(){return i},this.toggleEnabled=function(){i=!i},this.setScope=function(t){this.scopes=t?t.split(/\s+/):[r]},this.addScope=function(t){var n={};for(var e in E(this.scopes,(function(t){n[t]=!0})),E(t?t.split(/\s+/):[],(function(t){n[t]=!0})),this.scopes=[],n)this.scopes.push(e)},this.removeScope=function(t){var n={};for(var e in E(this.scopes,(function(t){n[t]=!0})),E(t?t.split(/\s+/):[],(function(t){delete n[t]})),this.scopes=[],n)this.scopes.push(e)},this.toggleScope=function(t){var n={};for(var e in E(this.scopes,(function(t){n[t]=!0})),E(t?t.split(/\s+/):[],(function(t){n[t]?delete n[t]:n[t]=!0})),this.scopes=[],n)this.scopes.push(e)},this.setScope(n.scope),this.k=n.katavorio,n.katavorio},A=function(){return!0},k=function(){return!1},O=function(t,n,e,r){this._class=e.draggable;var i=I.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var u,c,p,d,g=[0,0],m=null,b=null,_=[0,0],x=!1,w=[0,0],E=!1!==this.params.consumeStartEvent,S=this.el,O=this.params.clone,T=(this.params.scroll,!1!==n.multipleDrop),F=!1,R=!0===n.ghostProxy?A:n.ghostProxy&&"function"===typeof n.ghostProxy?n.ghostProxy:k,N=function(t){return t.cloneNode(!0)},B=null,U=[],G=null,z=n.ghostProxyParent;if(n.selector){var W=t.getAttribute("katavorio-draggable");null==W&&(W=""+(new Date).getTime(),t.setAttribute("katavorio-draggable",W)),U.push(n)}var H,Y=n.snapThreshold,X=function(t,n,e,r,i){var o=Math.floor(t[0]/n),s=n*o,a=s+n,u=Math.abs(t[0]-s)<=r?s:Math.abs(a-t[0])<=r?a:t[0],l=Math.floor(t[1]/e),c=e*l,h=c+e,f=Math.abs(t[1]-c)<=i?c:Math.abs(h-t[1])<=i?h:t[1];return[u,f]};this.posses=[],this.posseRoles={},this.toGrid=function(t){if(null==this.params.grid)return t;var n=this.params.grid?this.params.grid[0]/2:Y||h/2,e=this.params.grid?this.params.grid[1]/2:Y||f/2;return X(t,this.params.grid[0],this.params.grid[1],n,e)},this.snap=function(t,n){if(null!=S){t=t||(this.params.grid?this.params.grid[0]:h),n=n||(this.params.grid?this.params.grid[1]:f);var e=this.params.getPosition(S),r=this.params.grid?this.params.grid[0]/2:Y,i=this.params.grid?this.params.grid[1]/2:Y,o=X(e,t,n,r,i);return this.params.setPosition(S,o),o}},this.setUseGhostProxy=function(t){R=t?A:k};var q,V=function(t){return!1===n.allowNegative?[Math.max(0,t[0]),Math.max(0,t[1])]:t},$=function(t){H="function"===typeof t?t:t?function(t,n,e,r){return V([Math.max(0,Math.min(e.w-r[0],t[0])),Math.max(0,Math.min(e.h-r[1],t[1]))])}.bind(this):function(t){return V(t)}}.bind(this);$("function"===typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment),this.setConstrain=function(t){$(t)},this.setRevert=function(t){q=t},this.params.revert&&(q=this.params.revert);var Z=function(t){return"function"===typeof t?(t._katavorioId=M(),t._katavorioId):t},K={},J=function(t){for(var n in K){var e=K[n],r=e[0](t);if(e[1]&&(r=!r),!r)return!1}return!0},Q=this.setFilter=function(n,e){if(n){var r=Z(n);K[r]=[function(e){var r,i=e.srcElement||e.target;return o(n)?r=a(i,n,t):"function"===typeof n&&(r=n(e,t)),r},!1!==e]}};this.addFilter=Q,this.removeFilter=function(t){var n="function"===typeof t?t._katavorioId:t;delete K[n]};this.clearAllFilters=function(){K={}},this.canDrag=this.params.canDrag||P;var tt,nt=[],et=[];this.addSelector=function(t){t.selector&&U.push(t)},this.downListener=function(t){if(!t.defaultPrevented){var n=this.rightButtonCanDrag||3!==t.which&&2!==t.button;if(n&&this.isEnabled()&&this.canDrag()){var r=J(t)&&D(t,this.el,this.k);if(r){if(G=null,B=null,U.length>0){var o=l(U,this.el,t.target||t.srcElement);if(null!=o&&(G=o[0],B=o[1]),null==B)return}else B=this.el;if(O)if(S=B.cloneNode(!0),this.params.addClass(S,y.clonedDrag),S.setAttribute("id",null),S.style.position="absolute",null!=this.params.parent){var a=this.params.getPosition(this.el);S.style.left=a[0]+"px",S.style.top=a[1]+"px",this.params.parent.appendChild(S)}else{var u=s(B);S.style.left=u.left+"px",S.style.top=u.top+"px",document.body.appendChild(S)}else S=B;E&&j(t),g=v(t),S&&S.parentNode&&(w=[S.parentNode.scrollLeft,S.parentNode.scrollTop]),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),i.markSelection(this),i.markPosses(this),this.params.addClass(document.body,e.noSelect),ot("beforeStart",{el:this.el,pos:m,e:t,drag:this})}else this.params.consumeFilteredEvents&&j(t)}}}.bind(this),this.moveListener=function(t){if(g){if(!x){var n=ot("start",{el:this.el,pos:m,e:t,drag:this});if(!1!==n){if(!g)return;this.mark(!0),x=!0}else this.abort()}if(g){et.length=0;var e=v(t),r=e[0]-g[0],o=e[1]-g[1],s=this.params.ignoreZoom?1:i.getZoom();S&&S.parentNode&&(r+=S.parentNode.scrollLeft-w[0],o+=S.parentNode.scrollTop-w[1]),r/=s,o/=s,this.moveBy(r,o,t),i.updateSelection(r,o,this),i.updatePosses(r,o,this)}}}.bind(this),this.upListener=function(t){g&&(g=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,e.noSelect),this.unmark(t),i.unmarkSelection(this,t),i.unmarkPosses(this,t),this.stop(t),i.notifyPosseDragStop(this,t),x=!1,et.length=0,O?(S&&S.parentNode&&S.parentNode.removeChild(S),S=null):q&&!0===q(S,this.params.getPosition(S))&&(this.params.setPosition(S,m),ot("revert",S)))}.bind(this),this.getFilters=function(){return K},this.abort=function(){null!=g&&this.upListener()},this.getDragElement=function(t){return t?B||this.el:S||this.el};var rt={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};n.events.start&&rt.start.push(n.events.start),n.events.beforeStart&&rt.beforeStart.push(n.events.beforeStart),n.events.stop&&rt.stop.push(n.events.stop),n.events.drag&&rt.drag.push(n.events.drag),n.events.revert&&rt.revert.push(n.events.revert),this.on=function(t,n){rt[t]&&rt[t].push(n)},this.off=function(t,n){if(rt[t]){for(var e=[],r=0;r<rt[t].length;r++)rt[t][r]!==n&&e.push(rt[t][r]);rt[t]=e}};var it,ot=function(t,n){var e=null;if(G&&G[t])e=G[t](n);else if(rt[t])for(var r=0;r<rt[t].length;r++)try{var i=rt[t][r](n);null!=i&&(e=i)}catch(o){}return e};this.notifyStart=function(t){ot("start",{el:this.el,pos:this.params.getPosition(S),e:t,drag:this})},this.stop=function(t,n){if(n||x){var e=[],r=i.getSelection(),o=this.params.getPosition(S);if(r.length>0)for(var s=0;s<r.length;s++){var a=this.params.getPosition(r[s].el);e.push([r[s].el,{left:a[0],top:a[1]},r[s]])}else e.push([S,{left:o[0],top:o[1]},this]);ot("stop",{el:S,pos:it||o,finalPos:o,e:t,drag:this,selection:e})}},this.mark=function(t){var n;m=this.params.getPosition(S),b=this.params.getPosition(S,!0),_=[b[0]-m[0],b[1]-m[1]],this.size=this.params.getSize(S),nt=i.getMatchingDroppables(this),C(nt,!0,!1,this),this.params.addClass(S,this.params.dragClass||e.drag),n=this.params.getConstrainingRectangle?this.params.getConstrainingRectangle(S):this.params.getSize(S.parentNode),tt={w:n[0],h:n[1]},p=0,d=0,t&&i.notifySelectionDragStart(this)},this.unmark=function(t,r){if(C(nt,!1,!0,this),F&&R(B,S)?(it=[S.offsetLeft-p,S.offsetTop-d],S.parentNode.removeChild(S),S=B):it=null,this.params.removeClass(S,this.params.dragClass||e.drag),nt.length=0,F=!1,!r){et.length>0&&it&&n.setPosition(B,it),et.sort(L);for(var i=0;i<et.length;i++){var o=et[i].drop(this,t);if(!0===o)break}}},this.moveBy=function(t,e,r){et.length=0;var i=this.toGrid([m[0]+t,m[1]+e]),o=H(i,S,tt,this.size);if(R(this.el,S))if(i[0]!==o[0]||i[1]!==o[1]){if(!F){var s=N(B);n.addClass(s,y.ghostProxy),z?(z.appendChild(s),u=n.getPosition(B.parentNode,!0),c=n.getPosition(n.ghostProxyParent,!0),p=u[0]-c[0],d=u[1]-c[1]):B.parentNode.appendChild(s),S=s,F=!0}o=i}else F&&(S.parentNode.removeChild(S),S=B,F=!1,u=null,c=null,p=0,d=0);var a={x:o[0],y:o[1],w:this.size[0],h:this.size[1]},l={x:a.x+_[0],y:a.y+_[1],w:a.w,h:a.h},h=null;this.params.setPosition(S,[o[0]+p,o[1]+d]);for(var f=0;f<nt.length;f++){var v={x:nt[f].pagePosition[0],y:nt[f].pagePosition[1],w:nt[f].size[0],h:nt[f].size[1]};this.params.intersects(l,v)&&(T||null==h||h===nt[f].el)&&nt[f].canDrop(this)?(h||(h=nt[f].el),et.push(nt[f]),nt[f].setHover(this,!0,r)):nt[f].isHover()&&nt[f].setHover(this,!1,r)}ot("drag",{el:this.el,pos:o,e:r,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?Q(this.params.handle,!1):Q(this.params.filter,this.params.filterExclude)},T=function(t,n,e,r){this._class=e.droppable,this.params=n||{},this.rank=n.rank||0,this._activeClass=this.params.activeClass||e.active,this._hoverClass=this.params.hoverClass||e.hover,I.apply(this,arguments);var i=!1;this.allowLoopback=!1!==this.params.allowLoopback,this.setActive=function(t){this.params[t?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.pagePosition=this.params.getPosition(this.el,!0),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(t){return!0},this.isHover=function(){return i},this.setHover=function(t,n,e){(n||null==this.el._katavorioDragHover||this.el._katavorioDragHover===t.el._katavorio)&&(this.params[n?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=n?t.el._katavorio:null,i!==n&&this.params.events[n?"over":"out"]({el:this.el,e:e,drag:t,drop:this}),i=n)},this.drop=function(t,n){return this.params.events["drop"]({drag:t,e:n,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,i=null}},M=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*Math.random()|0,e="x"===t?n:3&n|8;return e.toString(16)}))},L=function(t,n){return t.rank<n.rank?1:t.rank>n.rank?-1:0},F=function(t){return null==t?null:(t="string"===typeof t||t.constructor===String?document.getElementById(t):t,null==t?null:(t._katavorio=t._katavorio||M(),t))};t.Katavorio=function(t){var n=[],s={};this._dragsByScope={},this._dropsByScope={};var a=1,u=function(t,n){E(t,(function(t){for(var e=0;e<t.scopes.length;e++)n[t.scopes[e]]=n[t.scopes[e]]||[],n[t.scopes[e]].push(t)}))},l=function(n,e){var r=0;return E(n,(function(n){for(var i=0;i<n.scopes.length;i++)if(e[n.scopes[i]]){var o=t.indexOf(e[n.scopes[i]],n);-1!==o&&(e[n.scopes[i]].splice(o,1),r++)}})),r>0},c=(this.getMatchingDroppables=function(t){for(var n=[],e={},r=0;r<t.scopes.length;r++){var i=this._dropsByScope[t.scopes[r]];if(i)for(var o=0;o<i.length;o++)!i[o].canDrop(t)||e[i[o].uuid]||!i[o].allowLoopback&&i[o].el===t.el||(e[i[o].uuid]=!0,n.push(i[o]))}return n.sort(L),n},function(n){n=n||{};var e,r={events:{}};for(e in t)r[e]=t[e];for(e in n)r[e]=n[e];for(e=0;e<_.length;e++)r.events[_[e]]=n[_[e]]||x;return r.katavorio=this,r}.bind(this)),h=function(t,n){for(var e=0;e<_.length;e++)n[_[e]]&&t.on(_[e],n[_[e]])}.bind(this),f={},p=t.css||{},d=t.scope||b;for(var v in y)f[v]=y[v];for(var v in p)f[v]=p[v];var g=t.inputFilterSelector||S;this.getInputFilterSelector=function(){return g},this.setInputFilterSelector=function(t){return g=t,this},this.draggable=function(n,e){var r=[];return E(n,function(n){if(n=F(n),null!=n)if(null==n._katavorioDrag){var i=c(e);n._katavorioDrag=new O(n,i,f,d),u(n._katavorioDrag,this._dragsByScope),r.push(n._katavorioDrag),t.addClass(n,i.selector?f.delegatedDraggable:f.draggable)}else h(n._katavorioDrag,e)}.bind(this)),r},this.droppable=function(n,e){var r=[];return E(n,function(n){if(n=F(n),null!=n){var i=new T(n,c(e),f,d);n._katavorioDrop=n._katavorioDrop||[],n._katavorioDrop.push(i),u(i,this._dropsByScope),r.push(i),t.addClass(n,f.droppable)}}.bind(this)),r},this.select=function(e){return E(e,(function(){var e=F(this);e&&e._katavorioDrag&&(s[e._katavorio]||(n.push(e._katavorioDrag),s[e._katavorio]=[e,n.length-1],t.addClass(e,f.selected)))})),this},this.deselect=function(e){return E(e,(function(){var e=F(this);if(e&&e._katavorio){var r=s[e._katavorio];if(r){for(var i=[],o=0;o<n.length;o++)n[o].el!==e&&i.push(n[o]);n=i,delete s[e._katavorio],t.removeClass(e,f.selected)}}})),this},this.deselectAll=function(){for(var e in s){var r=s[e];t.removeClass(r[0],f.selected)}n.length=0,s={}},this.markSelection=function(t){w(n,(function(t){t.mark()}),t)},this.markPosses=function(t){t.posses&&E(t.posses,(function(n){t.posseRoles[n]&&D[n]&&w(D[n].members,(function(t){t.mark()}),t)}))},this.unmarkSelection=function(t,e){w(n,(function(t){t.unmark(e)}),t)},this.unmarkPosses=function(t,n){t.posses&&E(t.posses,(function(e){t.posseRoles[e]&&D[e]&&w(D[e].members,(function(t){t.unmark(n,!0)}),t)}))},this.getSelection=function(){return n.slice(0)},this.updateSelection=function(t,e,r){w(n,(function(n){n.moveBy(t,e)}),r)};var m=function(t,n){n.posses&&E(n.posses,(function(e){n.posseRoles[e]&&D[e]&&w(D[e].members,(function(n){t(n)}),n)}))};this.updatePosses=function(t,n,e){m((function(e){e.moveBy(t,n)}),e)},this.notifyPosseDragStop=function(t,n){m((function(t){t.stop(n,!0)}),t)},this.notifySelectionDragStop=function(t,e){w(n,(function(t){t.stop(e,!0)}),t)},this.notifySelectionDragStart=function(t,e){w(n,(function(t){t.notifyStart(e)}),t)},this.setZoom=function(t){a=t},this.getZoom=function(){return a};var P=function(t,n,e,r){E(t,(function(t){l(t,e),t[r](n),u(t,e)}))};E(["set","add","remove","toggle"],function(t){this[t+"Scope"]=function(n,e){P(n._katavorioDrag,e,this._dragsByScope,t+"Scope"),P(n._katavorioDrop,e,this._dropsByScope,t+"Scope")}.bind(this),this[t+"DragScope"]=function(n,e){P(n.constructor===O?n:n._katavorioDrag,e,this._dragsByScope,t+"Scope")}.bind(this),this[t+"DropScope"]=function(n,e){P(n.constructor===T?n:n._katavorioDrop,e,this._dropsByScope,t+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(t,n){for(var e in this._dragsByScope)w(this._dragsByScope[e],(function(e){e.snap(t,n)}))},this.getDragsForScope=function(t){return this._dragsByScope[t]},this.getDropsForScope=function(t){return this._dropsByScope[t]};var C=function(t,e,r){if(t=F(t),t[e]){var i=n.indexOf(t[e]);i>=0&&n.splice(i,1),l(t[e],r)&&E(t[e],(function(t){t.destroy()})),delete t[e]}},j=function(t,n,e,r){t=F(t),t[n]&&t[n].off(e,r)};this.elementRemoved=function(t){this.destroyDraggable(t),this.destroyDroppable(t)},this.destroyDraggable=function(t,n,e){1===arguments.length?C(t,"_katavorioDrag",this._dragsByScope):j(t,"_katavorioDrag",n,e)},this.destroyDroppable=function(t,n,e){1===arguments.length?C(t,"_katavorioDrop",this._dropsByScope):j(t,"_katavorioDrop",n,e)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},n=[],s={},D={}};var D={},I=function(t,n,r){var i=o(n)?n:n.id,s=!!o(n)||!1!==n.active,a=D[i]||function(){var t={name:i,members:[]};return D[i]=t,t}();return E(t,(function(t){if(t._katavorioDrag){if(r&&null!=t._katavorioDrag.posseRoles[a.name])return;e(a.members,t._katavorioDrag),e(t._katavorioDrag.posses,a.name),t._katavorioDrag.posseRoles[a.name]=s}})),a};this.addToPosse=function(t,n){for(var e=[],r=1;r<arguments.length;r++)e.push(I(t,arguments[r]));return 1===e.length?e[0]:e},this.setPosse=function(t,n){for(var e=[],r=1;r<arguments.length;r++)e.push(I(t,arguments[r],!0).name);return E(t,function(t){if(t._katavorioDrag){var n=i(t._katavorioDrag.posses,e),r=[];Array.prototype.push.apply(r,t._katavorioDrag.posses);for(var o=0;o<n.length;o++)this.removeFromPosse(t,n[o])}}.bind(this)),1===e.length?e[0]:e},this.removeFromPosse=function(t,n){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var e=1;e<arguments.length;e++)n=arguments[e],E(t,(function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var e=t._katavorioDrag;E(n,(function(t){r(D[t].members,e),r(e.posses,t),delete e.posseRoles[t]}))}}))},this.removeFromAllPosses=function(t){E(t,(function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var n=t._katavorioDrag;E(n.posses,(function(t){r(D[t].members,n)})),n.posses.length=0,n.posseRoles={}}}))},this.setPosseState=function(t,n,e){var r=D[n];r&&E(t,(function(t){t._katavorioDrag&&t._katavorioDrag.posses&&(t._katavorioDrag.posseRoles[r.name]=e)}))}},t.Katavorio.version="1.0.0",n.Katavorio=t.Katavorio}.call("undefined"!==typeof window?window:this),function(){var t=this;t.jsPlumbUtil=t.jsPlumbUtil||{};var e=t.jsPlumbUtil;function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return"[object Number]"===Object.prototype.toString.call(t)}function o(t){return"string"===typeof t}function s(t){return"boolean"===typeof t}function a(t){return null==t}function u(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"[object Date]"===Object.prototype.toString.call(t)}function c(t){return"[object Function]"===Object.prototype.toString.call(t)}function h(t){return c(t)&&null!=t.name&&t.name.length>0}function f(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}function p(t){if(o(t))return""+t;if(s(t))return!!t;if(l(t))return new Date(t.getTime());if(c(t))return t;if(r(t)){for(var n=[],e=0;e<t.length;e++)n.push(p(t[e]));return n}if(u(t)){var i={};for(var a in t)i[a]=p(t[a]);return i}return t}function d(t,n,e,i){var a,l,c={},h={};for(e=e||[],i=i||[],l=0;l<e.length;l++)c[e[l]]=!0;for(l=0;l<i.length;l++)h[i[l]]=!0;var f=p(t);for(l in n)if(null==f[l]||h[l])f[l]=n[l];else if(o(n[l])||s(n[l]))c[l]?(a=[],a.push.apply(a,r(f[l])?f[l]:[f[l]]),a.push.apply(a,s(n[l])?n[l]:[n[l]]),f[l]=a):f[l]=n[l];else if(r(n[l]))a=[],r(f[l])&&a.push.apply(a,f[l]),a.push.apply(a,n[l]),f[l]=a;else if(u(n[l]))for(var d in u(f[l])||(f[l]={}),n[l])f[l][d]=n[l][d];return f}function v(t,n,e){if(null!=t){var r=t,i=r;return n.replace(/([^\.])+/g,(function(t,n,r,o){var s=t.match(/([^\[0-9]+){1}(\[)([0-9+])/),a=r+t.length>=o.length,u=function(){return i[s[1]]||function(){return i[s[1]]=[],i[s[1]]}()};if(a)s?u()[s[3]]=e:i[t]=e;else if(s){var l=u();i=l[s[3]]||function(){return l[s[3]]={},l[s[3]]}()}else i=i[t]||function(){return i[t]={},i[t]}();return""})),t}}function g(t,n,e){for(var r=0;r<e.length;r++){var i=e[r][0][e[r][1]].apply(e[r][0],e[r][2]);if(i===n)return i}return t}function m(t,n,e,i){var s=function(t){var e=t.match(/(\${.*?})/g);if(null!=e)for(var r=0;r<e.length;r++){var i=n[e[r].substring(2,e[r].length-1)]||"";null!=i&&(t=t.replace(e[r],i))}return t},a=function(t){if(null!=t){if(o(t))return s(t);if(!c(t)||i||null!=e&&0!==(t.name||"").indexOf(e)){if(r(t)){for(var l=[],h=0;h<t.length;h++)l.push(a(t[h]));return l}if(u(t)){var f={};for(var p in t)f[p]=a(t[p]);return f}return t}return t(n)}};return a(t)}function y(t,n){if(t)for(var e=0;e<t.length;e++)if(n(t[e]))return e;return-1}function b(t,n){var e=y(t,n);return e>-1&&t.splice(e,1),-1!==e}function _(t,n){var e=t.indexOf(n);return e>-1&&t.splice(e,1),-1!==e}function x(t,n,e){-1===y(t,e)&&t.push(n)}function P(t,n,e,r){var i=t[n];return null==i&&(i=[],t[n]=i),i[r?"unshift":"push"](e),i}function w(t,n,e){return-1===t.indexOf(n)&&(e?t.unshift(n):t.push(n),!0)}function C(t,n,e){var i;n=r(n)?n:[n];var o=function(n){var e=n.__proto__;while(null!=e)if(null!=e.prototype){for(var r in e.prototype)e.prototype.hasOwnProperty(r)&&!t.prototype.hasOwnProperty(r)&&(t.prototype[r]=e.prototype[r]);e=e.prototype.__proto__}else e=null};for(i=0;i<n.length;i++){for(var s in n[i].prototype)n[i].prototype.hasOwnProperty(s)&&!t.prototype.hasOwnProperty(s)&&(t.prototype[s]=n[i].prototype[s]);o(n[i])}var a=function(t,e){return function(){for(i=0;i<n.length;i++)n[i].prototype[t]&&n[i].prototype[t].apply(this,arguments);return e.apply(this,arguments)}},u=function(n){for(var e in n)t.prototype[e]=a(e,n[e])};if(arguments.length>2)for(i=2;i<arguments.length;i++)u(arguments[i]);return t}function E(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*Math.random()|0,e="x"===t?n:3&n|8;return e.toString(16)}))}function j(t){if(null==t)return null;var n=t.replace(/^\s\s*/,""),e=/\s/,r=n.length;while(e.test(n.charAt(--r)));return n.slice(0,r+1)}function S(t,n){t=null==t.length||"string"===typeof t?[t]:t;for(var e=0;e<t.length;e++)n(t[e])}function D(t,n){for(var e=[],r=0;r<t.length;r++)e.push(n(t[r]));return e}function I(t,n,e){e=e||"parent";var r=function(t){return t?n[t]:null},i=function(t){return t?r(t[e]):null},o=function(t,n){if(null==t)return n;var e=["anchor","anchors","cssClass","connector","paintStyle","hoverPaintStyle","endpoint","endpoints"];"override"===n.mergeStrategy&&Array.prototype.push.apply(e,["events","overlays"]);var r=d(t,n,[],e);return o(i(t),r)},s=function(t){if(null==t)return{};if("string"===typeof t)return r(t);if(t.length){var n=!1,e=0,i=void 0;while(!n&&e<t.length)i=s(t[e]),i?n=!0:e++;return i}},a=s(t);return a?o(i(a),a):{}}function A(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.logEnabled&&"undefined"!==typeof console)try{var r=arguments[arguments.length-1];console.log(r)}catch(i){}}function k(t,n,e){return function(){var r=null;try{null!=n&&(r=n.apply(this,arguments))}catch(i){A("jsPlumb function failed : "+i)}if(null!=t&&(null==e||r!==e))try{r=t.apply(this,arguments)}catch(i){A("wrapped function failed : "+i)}return r}}n.jsPlumbUtil=e,e.isArray=r,e.isNumber=i,e.isString=o,e.isBoolean=s,e.isNull=a,e.isObject=u,e.isDate=l,e.isFunction=c,e.isNamedFunction=h,e.isEmpty=f,e.clone=p,e.merge=d,e.replace=v,e.functionChain=g,e.populate=m,e.findWithFunction=y,e.removeWithFunction=b,e.remove=_,e.addWithFunction=x,e.addToList=P,e.suggest=w,e.extend=C,e.uuid=E,e.fastTrim=j,e.each=S,e.map=D,e.mergeWithParents=I,e.logEnabled=!0,e.log=A,e.wrap=k;var O=function(){function t(){var t=this;this._listeners={},this.eventsSuspended=!1,this.tick=!1,this.eventsToDieOn={ready:!0},this.queue=[],this.bind=function(n,e,r){var i=function(n){P(t._listeners,n,e,r),e.__jsPlumb=e.__jsPlumb||{},e.__jsPlumb[E()]=n};if("string"===typeof n)i(n);else if(null!=n.length)for(var o=0;o<n.length;o++)i(n[o]);return t},this.fire=function(t,n,e){if(this.tick)this.queue.unshift(arguments);else{if(this.tick=!0,!this.eventsSuspended&&this._listeners[t]){var r=this._listeners[t].length,i=0,o=!1,s=null;if(!this.shouldFireEvent||this.shouldFireEvent(t,n,e))while(!o&&i<r&&!1!==s){if(this.eventsToDieOn[t])this._listeners[t][i].apply(this,[n,e]);else try{s=this._listeners[t][i].apply(this,[n,e])}catch(a){A("jsPlumb: fire failed for event "+t+" : "+a)}i++,null!=this._listeners&&null!=this._listeners[t]||(o=!0)}}this.tick=!1,this._drain()}return this},this._drain=function(){var n=t.queue.pop();n&&t.fire.apply(t,n)},this.unbind=function(t,n){if(0===arguments.length)this._listeners={};else if(1===arguments.length){if("string"===typeof t)delete this._listeners[t];else if(t.__jsPlumb){var e=void 0;for(var r in t.__jsPlumb)e=t.__jsPlumb[r],_(this._listeners[e]||[],t)}}else 2===arguments.length&&_(this._listeners[t]||[],n);return this},this.getListener=function(n){return t._listeners[n]},this.setSuspendEvents=function(n){t.eventsSuspended=n},this.isSuspendEvents=function(){return t.eventsSuspended},this.silently=function(n){t.setSuspendEvents(!0);try{n()}catch(e){A("Cannot execute silent function "+e)}t.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var n in t._listeners)t._listeners[n]=null}}return t}();e.EventGenerator=O}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this;t.jsPlumbUtil.matchesSelector=function(t,n,e){e=e||t.parentNode;for(var r=e.querySelectorAll(n),i=0;i<r.length;i++)if(r[i]===t)return!0;return!1},t.jsPlumbUtil.consume=function(t,n){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!n&&t.preventDefault&&t.preventDefault()},t.jsPlumbUtil.sizeElement=function(t,n,e,r,i){t&&(t.style.height=i+"px",t.height=i,t.style.width=r+"px",t.width=r,t.style.left=n+"px",t.style.top=e+"px")}}.call("undefined"!==typeof window?window:this),function(){var t={deriveAnchor:function(t,n,e,r){return{top:["TopRight","TopLeft"],bottom:["BottomRight","BottomLeft"]}[t][n]}},n=this,e=function(t){this.count=0,this.instance=t,this.lists={},this.instance.addList=function(t,n){return this.listManager.addList(t,n)},this.instance.removeList=function(t){this.listManager.removeList(t)},this.instance.bind("manageElement",function(t){for(var n=this.instance.getSelector(t.el,"[jtk-scrollable-list]"),e=0;e<n.length;e++)this.addList(n[e])}.bind(this)),this.instance.bind("unmanageElement",(function(t){this.removeList(t.el)})),this.instance.bind("connection",function(t,n){null==n&&(this._maybeUpdateParentList(t.source),this._maybeUpdateParentList(t.target))}.bind(this))};n.jsPlumbListManager=e,e.prototype={addList:function(n,e){var i=this.instance.extend({},t);e=this.instance.extend(i,e||{});var o=[this.instance.getInstanceIndex(),this.count++].join("_");this.lists[o]=new r(this.instance,n,e,o)},removeList:function(t){var n=this.lists[t._jsPlumbList];n&&(n.destroy(),delete this.lists[t._jsPlumbList])},_maybeUpdateParentList:function(t){var n=t.parentNode,e=this.instance.getContainer();while(null!=n&&n!==e){if(null!=n._jsPlumbList&&null!=this.lists[n._jsPlumbList])return void n._jsPlumbScrollHandler();n=n.parentNode}}};var r=function(t,n,e,r){function i(t,n,r,i){return e.anchor?e.anchor:e.deriveAnchor(t,n,r,i)}function o(t,n,r,i){return e.deriveEndpoint?e.deriveEndpoint(t,n,r,i):e.endpoint?e.endpoint:r.type}function s(n){var e=n.parentNode,r=t.getContainer();while(null!=e&&e!==r){if(t.hasClass(e,"jtk-managed"))return void t.recalculateOffsets(e);e=e.parentNode}}n["_jsPlumbList"]=r;var a=function(e){for(var r=t.getSelector(n,".jtk-managed"),a=t.getId(n),u=0;u<r.length;u++){if(r[u].offsetTop<n.scrollTop)r[u]._jsPlumbProxies||(r[u]._jsPlumbProxies=r[u]._jsPlumbProxies||[],t.select({source:r[u]}).each((function(e){t.proxyConnection(e,0,n,a,(function(){return o("top",0,e.endpoints[0],e)}),(function(){return i("top",0,e.endpoints[0],e)})),r[u]._jsPlumbProxies.push([e,0])})),t.select({target:r[u]}).each((function(e){t.proxyConnection(e,1,n,a,(function(){return o("top",1,e.endpoints[1],e)}),(function(){return i("top",1,e.endpoints[1],e)})),r[u]._jsPlumbProxies.push([e,1])})));else if(r[u].offsetTop>n.scrollTop+n.offsetHeight)r[u]._jsPlumbProxies||(r[u]._jsPlumbProxies=r[u]._jsPlumbProxies||[],t.select({source:r[u]}).each((function(e){t.proxyConnection(e,0,n,a,(function(){return o("bottom",0,e.endpoints[0],e)}),(function(){return i("bottom",0,e.endpoints[0],e)})),r[u]._jsPlumbProxies.push([e,0])})),t.select({target:r[u]}).each((function(e){t.proxyConnection(e,1,n,a,(function(){return o("bottom",1,e.endpoints[1],e)}),(function(){return i("bottom",1,e.endpoints[1],e)})),r[u]._jsPlumbProxies.push([e,1])})));else if(r[u]._jsPlumbProxies){for(var l=0;l<r[u]._jsPlumbProxies.length;l++)t.unproxyConnection(r[u]._jsPlumbProxies[l][0],r[u]._jsPlumbProxies[l][1],a);delete r[u]._jsPlumbProxies}t.revalidate(r[u])}s(n)};t.setAttribute(n,"jtk-scrollable-list","true"),n._jsPlumbScrollHandler=a,t.on(n,"scroll",a),a(),this.destroy=function(){t.off(n,"scroll",a),delete n._jsPlumbScrollHandler;for(var e=t.getSelector(n,".jtk-managed"),r=t.getId(n),i=0;i<e.length;i++)if(e[i]._jsPlumbProxies){for(var o=0;o<e[i]._jsPlumbProxies.length;o++)t.unproxyConnection(e[i]._jsPlumbProxies[o][0],e[i]._jsPlumbProxies[o][1],r);delete e[i]._jsPlumbProxies}}}}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,e=t.jsPlumbUtil,r=function(){return""+(new Date).getTime()},i=function(t){if(t._jsPlumb.paintStyle&&t._jsPlumb.hoverPaintStyle){var n={};v.extend(n,t._jsPlumb.paintStyle),v.extend(n,t._jsPlumb.hoverPaintStyle),delete t._jsPlumb.hoverPaintStyle,n.gradient&&t._jsPlumb.paintStyle.fill&&delete n.gradient,t._jsPlumb.hoverPaintStyle=n}},o=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],s=function(t,n,e,r){var i=t.getAttachedElements();if(i)for(var o=0,s=i.length;o<s;o++)r&&r===i[o]||i[o].setHover(n,!0,e)},a=function(t){return null==t?null:t.split(" ")},u=function(t,n,e){for(var r in n)t[r]=e},l=function(t,n,r){if(t.getDefaultType){var i=t.getTypeDescriptor(),o={},s=t.getDefaultType(),a=e.merge({},s);u(o,s,"__default");for(var l=0,c=t._jsPlumb.types.length;l<c;l++){var h=t._jsPlumb.types[l];if("__default"!==h){var f=t._jsPlumb.instance.getType(h,i);if(null!=f){var p=["anchor","anchors","connector","paintStyle","hoverPaintStyle","endpoint","endpoints","connectorOverlays","connectorStyle","connectorHoverStyle","endpointStyle","endpointHoverStyle"],d=[];"override"===f.mergeStrategy?Array.prototype.push.apply(p,["events","overlays","cssClass"]):d.push("cssClass"),a=e.merge(a,f,d,p),u(o,f,h)}}}n&&(a=e.populate(a,n,"_")),t.applyType(a,r,o),r||t.repaint()}},c=t.jsPlumbUIComponent=function(t){e.EventGenerator.apply(this,arguments);var n=this,r=arguments,i=n.idPrefix,o=i+(new Date).getTime();this._jsPlumb={instance:t._jsPlumb,parameters:t.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:t.beforeDetach,beforeDrop:t.beforeDrop,overlayPlacements:[],hoverClass:t.hoverClass||t._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(t,n,e){this._jsPlumb.typeCache[e]=this._jsPlumb.typeCache[e]||{},this._jsPlumb.typeCache[e][t]=n},this.getCachedTypeItem=function(t,n){return this._jsPlumb.typeCache[n]?this._jsPlumb.typeCache[n][t]:null},this.getId=function(){return o};var s=t.overlays||[],a={};if(this.defaultOverlayKeys){for(var u=0;u<this.defaultOverlayKeys.length;u++)Array.prototype.push.apply(s,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[u]]||[]);for(u=0;u<s.length;u++){var l=v.convertToFullOverlaySpec(s[u]);a[l[1].id]=l}}var c={overlays:a,parameters:t.parameters||{},scope:t.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return c},this.appendToDefaultType=function(t){for(var n in t)c[n]=t[n]},t.events)for(var h in t.events)n.bind(h,t.events[h]);this.clone=function(){var t=Object.create(this.constructor.prototype);return this.constructor.apply(t,r),t}.bind(this),this.isDetachAllowed=function(t){var n=!0;if(this._jsPlumb.beforeDetach)try{n=this._jsPlumb.beforeDetach(t)}catch(r){e.log("jsPlumb: beforeDetach callback failed",r)}return n},this.isDropAllowed=function(t,n,r,i,o,s,a){var u=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:t,targetId:n,scope:r,connection:i,dropEndpoint:o,source:s,target:a});if(this._jsPlumb.beforeDrop)try{u=this._jsPlumb.beforeDrop({sourceId:t,targetId:n,scope:r,connection:i,dropEndpoint:o,source:s,target:a})}catch(l){e.log("jsPlumb: beforeDrop callback failed",l)}return u};var f=[];this.setListenerComponent=function(t){for(var n=0;n<f.length;n++)f[n][3]=t}},h=function(t,n){var e=t._jsPlumb.types[n],r=t._jsPlumb.instance.getType(e,t.getTypeDescriptor());null!=r&&r.cssClass&&t.canvas&&t._jsPlumb.instance.removeClass(t.canvas,r.cssClass)};e.extend(t.jsPlumbUIComponent,e.EventGenerator,{getParameter:function(t){return this._jsPlumb.parameters[t]},setParameter:function(t,n){this._jsPlumb.parameters[t]=n},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(t){this._jsPlumb.parameters=t},getClass:function(){return v.getClass(this.canvas)},hasClass:function(t){return v.hasClass(this.canvas,t)},addClass:function(t){v.addClass(this.canvas,t)},removeClass:function(t){v.removeClass(this.canvas,t)},updateClasses:function(t,n){v.updateClasses(this.canvas,t,n)},setType:function(t,n,e){this.clearTypes(),this._jsPlumb.types=a(t)||[],l(this,n,e)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(t,n){l(this,t,n)},hasType:function(t){return-1!==this._jsPlumb.types.indexOf(t)},addType:function(t,n,e){var r=a(t),i=!1;if(null!=r){for(var o=0,s=r.length;o<s;o++)this.hasType(r[o])||(this._jsPlumb.types.push(r[o]),i=!0);i&&l(this,n,e)}},removeType:function(t,n,e){var r=a(t),i=!1,o=function(t){var n=this._jsPlumb.types.indexOf(t);return-1!==n&&(h(this,n),this._jsPlumb.types.splice(n,1),!0)}.bind(this);if(null!=r){for(var s=0,u=r.length;s<u;s++)i=o(r[s])||i;i&&l(this,n,e)}},clearTypes:function(t,n){for(var e=this._jsPlumb.types.length,r=0;r<e;r++)h(this,0),this._jsPlumb.types.splice(0,1);l(this,t,n)},toggleType:function(t,n,e){var r=a(t);if(null!=r){for(var i=0,o=r.length;i<o;i++){var s=this._jsPlumb.types.indexOf(r[i]);-1!==s?(h(this,s),this._jsPlumb.types.splice(s,1)):this._jsPlumb.types.push(r[i])}l(this,n,e)}},applyType:function(t,n){if(this.setPaintStyle(t.paintStyle,n),this.setHoverPaintStyle(t.hoverPaintStyle,n),t.parameters)for(var e in t.parameters)this.setParameter(e,t.parameters[e]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(t,n){this._jsPlumb.paintStyle=t,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,i(this),n||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(t,n){this._jsPlumb.hoverPaintStyle=t,i(this),n||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(t){(t||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(t,n,e){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){this._jsPlumb.hover=t;var i=t?"addClass":"removeClass";null!=this.canvas&&(null!=this._jsPlumb.instance.hoverClass&&this._jsPlumb.instance[i](this.canvas,this._jsPlumb.instance.hoverClass),null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[i](this.canvas,this._jsPlumb.hoverClass)),null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=t?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(e=e||r(),this.repaint({timestamp:e,recalc:!1}))),this.getAttachedElements&&!n&&s(this,t,r(),this)}}});var f=0,p=function(){var t=f+1;return f++,t},d=t.jsPlumbInstance=function(n){this.version="2.12.13",this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fill:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{"stroke-width":4,stroke:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},n&&v.extend(this.Defaults,n),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},e.EventGenerator.apply(this);var i=this,s=p(),a=i.bind,u={},l=1,h=function(t){if(null==t)return null;if(3===t.nodeType||8===t.nodeType)return{el:t,text:!0};var n=i.getElement(t);return{el:n,id:e.isString(t)&&null==n?t:Y(n)}};for(var f in this.getInstanceIndex=function(){return s},this.setZoom=function(t,n){return l=t,i.fire("zoom",l),n&&i.repaintEverything(),!0},this.getZoom=function(){return l},this.Defaults)u[f]=this.Defaults[f];var d,g=[];this.unbindContainer=function(){if(null!=d&&g.length>0)for(var t=0;t<g.length;t++)i.off(d,g[t][0],g[t][1])},this.setContainer=function(t){this.unbindContainer(),t=this.getElement(t),this.select().each((function(n){n.moveParent(t)})),this.selectEndpoints().each((function(n){n.moveParent(t)}));var n=d;d=t,g.length=0;for(var e={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},r=function(t,n,r){var o=n.srcElement||n.target,s=(o&&o.parentNode?o.parentNode._jsPlumb:null)||(o?o._jsPlumb:null)||(o&&o.parentNode&&o.parentNode.parentNode?o.parentNode.parentNode._jsPlumb:null);if(s){s.fire(t,s,n);var a=r&&e[r+t]||t;i.fire(a,s.component||s,n)}},s=function(t,n,e){g.push([t,e]),i.on(d,t,n,e)},a=function(t){s(t,".jtk-connector",(function(n){r(t,n)})),s(t,".jtk-endpoint",(function(n){r(t,n,"endpoint")})),s(t,".jtk-overlay",(function(n){r(t,n)}))},u=0;u<o.length;u++)a(o[u]);for(var l in P){var c=P[l].el;c.parentNode===n&&(n.removeChild(c),d.appendChild(c))}},this.getContainer=function(){return d},this.bind=function(t,n){"ready"===t&&y?n():a.apply(i,[t,n])},i.importDefaults=function(t){for(var n in t)i.Defaults[n]=t[n];return t.Container&&i.setContainer(t.Container),i},i.restoreDefaults=function(){return i.Defaults=v.extend({},u),i};var m=null,y=!1,b=[],_={},x={},P={},w={},C={},E=!1,j=[],S=!1,D=null,I=this.Defaults.Scope,A=1,k=function(){return""+A++},O=function(t,n){d?d.appendChild(t):n?this.getElement(n).appendChild(t):this.appendToRoot(t)}.bind(this),T=function(t,n,e,o){if(!S){var s,a=Y(t),u=i.getDragManager();u&&(s=u.getElementsForDraggable(a)),null==e&&(e=r());var l=dt({elId:a,offset:n,recalc:!1,timestamp:e});if(s&&l&&l.o)for(var c in s)dt({elId:s[c].id,offset:{left:l.o.left+s[c].offset.left,top:l.o.top+s[c].offset.top},recalc:!1,timestamp:e});if(i.anchorManager.redraw(a,n,e,null,o),s)for(var h in s)i.anchorManager.redraw(s[h].id,n,e,s[h].offset,o,!0)}},M=function(t){return x[t]},L=function(t,n){for(var e=t.scope.split(/\s/),r=n.scope.split(/\s/),i=0;i<e.length;i++)for(var o=0;o<r.length;o++)if(r[o]===e[i])return!0;return!1},F=function(t,n){var e=v.extend({},t);for(var r in n)n[r]&&(e[r]=n[r]);return e},R=function(t,n){var r=v.extend({},t);if(n&&v.extend(r,n),r.source&&(r.source.endpoint?r.sourceEndpoint=r.source:r.source=i.getElement(r.source)),r.target&&(r.target.endpoint?r.targetEndpoint=r.target:r.target=i.getElement(r.target)),t.uuids&&(r.sourceEndpoint=M(t.uuids[0]),r.targetEndpoint=M(t.uuids[1])),r.sourceEndpoint&&r.sourceEndpoint.isFull())e.log(i,"could not add connection; source endpoint is full");else if(r.targetEndpoint&&r.targetEndpoint.isFull())e.log(i,"could not add connection; target endpoint is full");else{if(!r.type&&r.sourceEndpoint&&(r.type=r.sourceEndpoint.connectionType),r.sourceEndpoint&&r.sourceEndpoint.connectorOverlays){r.overlays=r.overlays||[];for(var o=0,s=r.sourceEndpoint.connectorOverlays.length;o<s;o++)r.overlays.push(r.sourceEndpoint.connectorOverlays[o])}r.sourceEndpoint&&r.sourceEndpoint.scope&&(r.scope=r.sourceEndpoint.scope),!r["pointer-events"]&&r.sourceEndpoint&&r.sourceEndpoint.connectorPointerEvents&&(r["pointer-events"]=r.sourceEndpoint.connectorPointerEvents);var a=function(t,n,e){var o=F(n,{anchor:r.anchors?r.anchors[e]:r.anchor,endpoint:r.endpoints?r.endpoints[e]:r.endpoint,paintStyle:r.endpointStyles?r.endpointStyles[e]:r.endpointStyle,hoverPaintStyle:r.endpointHoverStyles?r.endpointHoverStyles[e]:r.endpointHoverStyle});return i.addEndpoint(t,o)},u=function(t,n,e,i){if(r[t]&&!r[t].endpoint&&!r[t+"Endpoint"]&&!r.newConnection){var o=Y(r[t]),s=e[o];if(s=s?s[i]:null,s){if(!s.enabled)return!1;var u=v.extend({},s.def);delete u.label;var l=null!=s.endpoint&&s.endpoint._jsPlumb?s.endpoint:a(r[t],u,n);if(l.isFull())return!1;r[t+"Endpoint"]=l,!r.scope&&u.scope&&(r.scope=u.scope),s.uniqueEndpoint?s.endpoint?l.finalEndpoint=s.endpoint:(s.endpoint=l,l.setDeleteOnEmpty(!1)):l.setDeleteOnEmpty(!0),0===n&&s.def.connectorOverlays&&(r.overlays=r.overlays||[],Array.prototype.push.apply(r.overlays,s.def.connectorOverlays))}}};if(!1!==u("source",0,this.sourceEndpointDefinitions,r.type||"default")&&!1!==u("target",1,this.targetEndpointDefinitions,r.type||"default"))return r.sourceEndpoint&&r.targetEndpoint&&(L(r.sourceEndpoint,r.targetEndpoint)||(r=null)),r}}.bind(i),N=function(t){var n=i.Defaults.ConnectionType||i.getDefaultConnectionType();t._jsPlumb=i,t.newConnection=N,t.newEndpoint=U,t.endpointsByUUID=x,t.endpointsByElement=_,t.finaliseConnection=B,t.id="con_"+k();var e=new n(t);return e.isDetachable()&&(e.endpoints[0].initDraggable("_jsPlumbSource"),e.endpoints[1].initDraggable("_jsPlumbTarget")),e},B=i.finaliseConnection=function(t,n,e,r){if(n=n||{},t.suspendedEndpoint||b.push(t),t.pending=null,t.endpoints[0].isTemporarySource=!1,!1!==r&&i.anchorManager.newConnection(t),T(t.source),!n.doNotFireConnectionEvent&&!1!==n.fireEvent){var o={connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]};i.fire("connection",o,e)}},U=function(t,n){var e=i.Defaults.EndpointType||v.Endpoint,r=v.extend({},t);r._jsPlumb=i,r.newConnection=N,r.newEndpoint=U,r.endpointsByUUID=x,r.endpointsByElement=_,r.fireDetachEvent=V,r.elementId=n||Y(r.source);var o=new e(r);return o.id="ep_"+k(),pt(r.elementId,r.source),v.headless||i.getDragManager().endpointAdded(r.source,n),o},G=function(t,n,e){var r=_[t];if(r&&r.length)for(var i=0,o=r.length;i<o;i++){for(var s=0,a=r[i].connections.length;s<a;s++){var u=n(r[i].connections[s]);if(u)return}e&&e(r[i])}},z=function(t,n,e){n="block"===n;var r=null;e&&(r=function(t){t.setVisible(n,!0,!0)});var i=h(t);G(i.id,(function(t){if(n&&e){var r=t.sourceId===i.id?1:0;t.endpoints[r].isVisible()&&t.setVisible(!0)}else t.setVisible(n)}),r)},W=function(t,n){var e=null;n&&(e=function(t){var n=t.isVisible();t.setVisible(!n)}),G(t,(function(t){var n=t.isVisible();t.setVisible(!n)}),e)},H=function(t){var n=w[t];return n?{o:n,s:j[t]}:dt({elId:t})},Y=function(t,n,r){if(e.isString(t))return t;if(null==t)return null;var o=i.getAttribute(t,"id");return o&&"undefined"!==o||(2===arguments.length&&void 0!==arguments[1]?o=n:(1===arguments.length||3===arguments.length&&!arguments[2])&&(o="jsPlumb_"+s+"_"+k()),r||i.setAttribute(t,"id",o)),o};this.setConnectionBeingDragged=function(t){E=t},this.isConnectionBeingDragged=function(){return E},this.getManagedElements=function(){return P},this.connectorClass="jtk-connector",this.connectorOutlineClass="jtk-connector-outline",this.connectedClass="jtk-connected",this.hoverClass="jtk-hover",this.endpointClass="jtk-endpoint",this.endpointConnectedClass="jtk-endpoint-connected",this.endpointFullClass="jtk-endpoint-full",this.endpointDropAllowedClass="jtk-endpoint-drop-allowed",this.endpointDropForbiddenClass="jtk-endpoint-drop-forbidden",this.overlayClass="jtk-overlay",this.draggingClass="jtk-dragging",this.elementDraggingClass="jtk-element-dragging",this.sourceElementDraggingClass="jtk-source-element-dragging",this.targetElementDraggingClass="jtk-target-element-dragging",this.endpointAnchorClassPrefix="jtk-endpoint-anchor",this.hoverSourceClass="jtk-source-hover",this.hoverTargetClass="jtk-target-hover",this.dragSelectClass="jtk-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(t,n,r){r=r||{};var o=v.extend({},r);v.extend(o,n),o.endpoint=o.endpoint||i.Defaults.Endpoint,o.paintStyle=o.paintStyle||i.Defaults.EndpointStyle;for(var s=[],a=e.isArray(t)||null!=t.length&&!e.isString(t)?t:[t],u=0,l=a.length;u<l;u++){o.source=i.getElement(a[u]),ht(o.source);var c=Y(o.source),h=U(o,c),f=pt(c,o.source).info.o;e.addToList(_,c,h),S||h.paint({anchorLoc:h.anchor.compute({xy:[f.left,f.top],wh:j[c],element:h,timestamp:D}),timestamp:D}),s.push(h)}return 1===s.length?s[0]:s},this.addEndpoints=function(t,n,r){for(var o=[],s=0,a=n.length;s<a;s++){var u=i.addEndpoint(t,n[s],r);e.isArray(u)?Array.prototype.push.apply(o,u):o.push(u)}return o},this.animate=function(t,n,r){if(!this.animationSupported)return!1;r=r||{};var o=i.getElement(t),s=Y(o),a=v.animEvents.step,u=v.animEvents.complete;r[a]=e.wrap(r[a],(function(){i.revalidate(s)})),r[u]=e.wrap(r[u],(function(){i.revalidate(s)})),i.doAnimate(o,n,r)},this.checkCondition=function(t,n){var r=i.getListener(t),o=!0;if(r&&r.length>0){var s=Array.prototype.slice.call(arguments,1);try{for(var a=0,u=r.length;a<u;a++)o=o&&r[a].apply(r[a],s)}catch(l){e.log(i,"cannot check condition ["+t+"]"+l)}}return o},this.connect=function(t,n){var r,i=R(t,n);if(i){if(null==i.source&&null==i.sourceEndpoint)return void e.log("Cannot establish connection - source does not exist");if(null==i.target&&null==i.targetEndpoint)return void e.log("Cannot establish connection - target does not exist");ht(i.source),r=N(i),B(r,i)}return r};var X=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],q=function(t,n,e,r){var i,o,s,a=X[e],u=t[a.elId],l=(t[a.el],t.endpoints[e]),c={index:e,originalSourceId:0===e?u:t.sourceId,newSourceId:t.sourceId,originalTargetId:1===e?u:t.targetId,newTargetId:t.targetId,connection:t};if(n.constructor===v.Endpoint)i=n,i.addConnection(t),n=i.element;else if(o=Y(n),s=this[a.epDefs][o],o===t[a.elId])i=null;else if(s)for(var h in s){if(!s[h].enabled)return;i=null!=s[h].endpoint&&s[h].endpoint._jsPlumb?s[h].endpoint:this.addEndpoint(n,s[h].def),s[h].uniqueEndpoint&&(s[h].endpoint=i),i.addConnection(t)}else i=t.makeEndpoint(0===e,n,o);return null!=i&&(l.detachFromConnection(t),t.endpoints[e]=i,t[a.el]=i.element,t[a.elId]=i.elementId,c[0===e?"newSourceId":"newTargetId"]=i.elementId,$(c),r||t.repaint()),c.element=n,c}.bind(this);this.setSource=function(t,n,e){var r=q(t,n,0,e);this.anchorManager.sourceChanged(r.originalSourceId,r.newSourceId,t,r.el)},this.setTarget=function(t,n,e){var r=q(t,n,1,e);this.anchorManager.updateOtherEndpoint(r.originalSourceId,r.originalTargetId,r.newTargetId,t)},this.deleteEndpoint=function(t,n,e){var r="string"===typeof t?x[t]:t;return r&&i.deleteObject({endpoint:r,dontUpdateHover:n,deleteAttachedObjects:e}),i},this.deleteEveryEndpoint=function(){var t=i.setSuspendDrawing(!0);for(var n in _){var e=_[n];if(e&&e.length)for(var r=0,o=e.length;r<o;r++)i.deleteEndpoint(e[r],!0)}_={},P={},x={},w={},C={},i.anchorManager.reset();var s=i.getDragManager();return s&&s.reset(),t||i.setSuspendDrawing(!1),i};var V=function(t,n,e){var r=i.Defaults.ConnectionType||i.getDefaultConnectionType(),o=t.constructor===r,s=o?{connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]}:t;n&&i.fire("connectionDetached",s,e),i.fire("internal.connectionDetached",s,e),i.anchorManager.connectionDetached(s)},$=i.fireMoveEvent=function(t,n){i.fire("connectionMoved",t,n)};this.unregisterEndpoint=function(t){for(var n in t._jsPlumb.uuid&&(x[t._jsPlumb.uuid]=null),i.anchorManager.deleteEndpoint(t),_){var e=_[n];if(e){for(var r=[],o=0,s=e.length;o<s;o++)e[o]!==t&&r.push(e[o]);_[n]=r}_[n].length<1&&delete _[n]}};var Z="isDetachAllowed",K="beforeDetach",J="checkCondition";this.deleteConnection=function(t,n){return!(null==t||(n=n||{},!n.force&&!e.functionChain(!0,!1,[[t.endpoints[0],Z,[t]],[t.endpoints[1],Z,[t]],[t,Z,[t]],[i,J,[K,t]]])))&&(t.setHover(!1),V(t,!t.pending&&!1!==n.fireEvent,n.originalEvent),t.endpoints[0].detachFromConnection(t),t.endpoints[1].detachFromConnection(t),e.removeWithFunction(b,(function(n){return t.id===n.id})),t.cleanup(),t.destroy(),!0)},this.deleteEveryConnection=function(t){t=t||{};var n=b.length,e=0;return i.batch((function(){for(var r=0;r<n;r++)e+=i.deleteConnection(b[0],t)?1:0})),e},this.deleteConnectionsForElement=function(t,n){n=n||{},t=i.getElement(t);var e=Y(t),r=_[e];if(r&&r.length)for(var o=0,s=r.length;o<s;o++)r[o].deleteEveryConnection(n);return i},this.deleteObject=function(t){var n={endpoints:{},connections:{},endpointCount:0,connectionCount:0},r=!1!==t.deleteAttachedObjects,o=function(e){null!=e&&null==n.connections[e.id]&&(t.dontUpdateHover||null==e._jsPlumb||e.setHover(!1),n.connections[e.id]=e,n.connectionCount++)},s=function(e){if(null!=e&&null==n.endpoints[e.id]&&(t.dontUpdateHover||null==e._jsPlumb||e.setHover(!1),n.endpoints[e.id]=e,n.endpointCount++,r))for(var i=0;i<e.connections.length;i++){var s=e.connections[i];o(s)}};for(var a in t.connection?o(t.connection):s(t.endpoint),n.connections){var u=n.connections[a];if(u._jsPlumb){e.removeWithFunction(b,(function(t){return u.id===t.id})),V(u,!1!==t.fireEvent&&!u.pending,t.originalEvent);var l=null==t.deleteAttachedObjects?null:!t.deleteAttachedObjects;u.endpoints[0].detachFromConnection(u,null,l),u.endpoints[1].detachFromConnection(u,null,l),u.cleanup(!0),u.destroy(!0)}}for(var c in n.endpoints){var h=n.endpoints[c];h._jsPlumb&&(i.unregisterEndpoint(h),h.cleanup(!0),h.destroy(!0))}return n};var Q=function(t,n,e,r){for(var i=0,o=t.length;i<o;i++)t[i][n].apply(t[i],e);return r(t)},tt=function(t,n,e){for(var r=[],i=0,o=t.length;i<o;i++)r.push([t[i][n].apply(t[i],e),t[i]]);return r},nt=function(t,n,e){return function(){return Q(t,n,arguments,e)}},et=function(t,n){return function(){return tt(t,n,arguments)}},rt=function(t,n){var e=[];if(t)if("string"===typeof t){if("*"===t)return t;e.push(t)}else if(n)e=t;else if(t.length)for(var r=0,i=t.length;r<i;r++)e.push(h(t[r]).id);else e.push(h(t).id);return e},it=function(t,n,e){return"*"===t||(t.length>0?-1!==t.indexOf(n):!e)};this.getConnections=function(t,n){t?t.constructor===String&&(t={scope:t}):t={};for(var e=t.scope||i.getDefaultScope(),r=rt(e,!0),o=rt(t.source),s=rt(t.target),a=!n&&r.length>1?{}:[],u=function(t,e){if(!n&&r.length>1){var i=a[t];null==i&&(i=a[t]=[]),i.push(e)}else a.push(e)},l=0,c=b.length;l<c;l++){var h=b[l],f=h.proxies&&h.proxies[0]?h.proxies[0].originalEp.elementId:h.sourceId,p=h.proxies&&h.proxies[1]?h.proxies[1].originalEp.elementId:h.targetId;it(r,h.scope)&&it(o,f)&&it(s,p)&&u(h.scope,h)}return a};var ot=function(t,n){return function(e){for(var r=0,i=t.length;r<i;r++)e(t[r]);return n(t)}},st=function(t){return function(n){return t[n]}},at=function(t,n){var e,r,i={length:t.length,each:ot(t,n),get:st(t)},o=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],s=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(e=0,r=o.length;e<r;e++)i[o[e]]=nt(t,o[e],n);for(e=0,r=s.length;e<r;e++)i[s[e]]=et(t,s[e]);return i},ut=function(t){var n=at(t,ut);return v.extend(n,{setDetachable:nt(t,"setDetachable",ut),setReattach:nt(t,"setReattach",ut),setConnector:nt(t,"setConnector",ut),delete:function(){for(var n=0,e=t.length;n<e;n++)i.deleteConnection(t[n])},isDetachable:et(t,"isDetachable"),isReattach:et(t,"isReattach")})},lt=function(t){var n=at(t,lt);return v.extend(n,{setEnabled:nt(t,"setEnabled",lt),setAnchor:nt(t,"setAnchor",lt),isEnabled:et(t,"isEnabled"),deleteEveryConnection:function(){for(var n=0,e=t.length;n<e;n++)t[n].deleteEveryConnection()},delete:function(){for(var n=0,e=t.length;n<e;n++)i.deleteEndpoint(t[n])}})};this.select=function(t){return t=t||{},t.scope=t.scope||"*",ut(t.connections||i.getConnections(t,!0))},this.selectEndpoints=function(t){t=t||{},t.scope=t.scope||"*";var n=!t.element&&!t.source&&!t.target,e=n?"*":rt(t.element),r=n?"*":rt(t.source),i=n?"*":rt(t.target),o=rt(t.scope,!0),s=[];for(var a in _){var u=it(e,a,!0),l=it(r,a,!0),c="*"!==r,h=it(i,a,!0),f="*"!==i;if(u||l||h)t:for(var p=0,d=_[a].length;p<d;p++){var v=_[a][p];if(it(o,v.scope,!0)){var g=c&&r.length>0&&!v.isSource,m=f&&i.length>0&&!v.isTarget;if(g||m)continue t;s.push(v)}}}return lt(s)},this.getAllConnections=function(){return b},this.getDefaultScope=function(){return I},this.getEndpoint=M,this.getEndpoints=function(t){return _[h(t).id]||[]},this.getDefaultEndpointType=function(){return v.Endpoint},this.getDefaultConnectionType=function(){return v.Connection},this.getId=Y,this.draw=T,this.info=h,this.appendElement=O;var ct=!1;this.isHoverSuspended=function(){return ct},this.setHoverSuspended=function(t){ct=t},this.hide=function(t,n){return z(t,"none",n),i},this.idstamp=k;var ht=function(t){if(!d&&t){var n=i.getElement(t);n.offsetParent&&i.setContainer(n.offsetParent)}},ft=function(){i.Defaults.Container&&i.setContainer(i.Defaults.Container)},pt=i.manage=function(t,n,e){return P[t]||(P[t]={el:n,endpoints:[],connections:[]},P[t].info=dt({elId:t,timestamp:D}),i.addClass(n,"jtk-managed"),e||i.fire("manageElement",{id:t,info:P[t].info,el:n})),P[t]},dt=(i.unmanage=function(t){if(P[t]){var n=P[t].el;i.removeClass(n,"jtk-managed"),delete P[t],i.fire("unmanageElement",{id:t,el:n})}},function(t){var n,e=t.timestamp,r=t.recalc,o=t.offset,s=t.elId;return S&&!e&&(e=D),!r&&e&&e===C[s]?{o:t.offset||w[s],s:j[s]}:(r||!o&&null==w[s]?(n=P[s]?P[s].el:null,null!=n&&(j[s]=i.getSize(n),w[s]=i.getOffset(n),C[s]=e)):(w[s]=o||w[s],null==j[s]&&(n=P[s].el,null!=n&&(j[s]=i.getSize(n))),C[s]=e),w[s]&&!w[s].right&&(w[s].right=w[s].left+j[s][0],w[s].bottom=w[s].top+j[s][1],w[s].width=j[s][0],w[s].height=j[s][1],w[s].centerx=w[s].left+w[s].width/2,w[s].centery=w[s].top+w[s].height/2),{o:w[s],s:j[s]})});this.updateOffset=dt,this.init=function(){y||(ft(),i.anchorManager=new t.jsPlumb.AnchorManager({jsPlumbInstance:i}),y=!0,i.fire("ready",i))}.bind(this),this.log=m,this.jsPlumbUIComponent=c,this.makeAnchor=function(){var n,r=function(n,e){if(t.jsPlumb.Anchors[n])return new t.jsPlumb.Anchors[n](e);if(!i.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+n+"'"}};if(0===arguments.length)return null;var o=arguments[0],s=arguments[1],a=(arguments[2],null);if(o.compute&&o.getOrientation)return o;if("string"===typeof o)a=r(arguments[0],{elementId:s,jsPlumbInstance:i});else if(e.isArray(o))if(e.isArray(o[0])||e.isString(o[0]))2===o.length&&e.isObject(o[1])?e.isString(o[0])?(n=t.jsPlumb.extend({elementId:s,jsPlumbInstance:i},o[1]),a=r(o[0],n)):(n=t.jsPlumb.extend({elementId:s,jsPlumbInstance:i,anchors:o[0]},o[1]),a=new t.jsPlumb.DynamicAnchor(n)):a=new v.DynamicAnchor({anchors:o,selector:null,elementId:s,jsPlumbInstance:i});else{var u={x:o[0],y:o[1],orientation:o.length>=4?[o[2],o[3]]:[0,0],offsets:o.length>=6?[o[4],o[5]]:[0,0],elementId:s,jsPlumbInstance:i,cssClass:7===o.length?o[6]:null};a=new t.jsPlumb.Anchor(u),a.clone=function(){return new t.jsPlumb.Anchor(u)}}return a.id||(a.id="anchor_"+k()),a},this.makeAnchors=function(n,r,o){for(var s=[],a=0,u=n.length;a<u;a++)"string"===typeof n[a]?s.push(t.jsPlumb.Anchors[n[a]]({elementId:r,jsPlumbInstance:o})):e.isArray(n[a])&&s.push(i.makeAnchor(n[a],r,o));return s},this.makeDynamicAnchor=function(n,e){return new t.jsPlumb.DynamicAnchor({anchors:n,selector:e,elementId:null,jsPlumbInstance:i})},this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={};var vt=function(t,n,e,r,i){for(var o=t.target||t.srcElement,s=!1,a=r.getSelector(n,e),u=0;u<a.length;u++)if(a[u]===o){s=!0;break}return i?!s:s},gt=function(n,r,o,s,a){var u=new c(r),l=r._jsPlumb.EndpointDropHandler({jsPlumb:i,enabled:function(){return n.def.enabled},isFull:function(){var t=i.select({target:n.id}).length;return n.def.maxConnections>0&&t>=n.def.maxConnections},element:n.el,elementId:n.id,isSource:s,isTarget:a,addClass:function(t){i.addClass(n.el,t)},removeClass:function(t){i.removeClass(n.el,t)},onDrop:function(t){var n=t.endpoints[0];n.anchor.unlock()},isDropAllowed:function(){return u.isDropAllowed.apply(u,arguments)},isRedrop:function(t){return null!=t.suspendedElement&&null!=t.suspendedEndpoint&&t.suspendedEndpoint.element===n.el},getEndpoint:function(e){var o=n.def.endpoint;if(null==o||null==o._jsPlumb){var s=i.deriveEndpointAndAnchorSpec(e.getType().join(" "),!0),a=s.endpoints?t.jsPlumb.extend(r,{endpoint:n.def.def.endpoint||s.endpoints[1]}):r;s.anchors&&(a=t.jsPlumb.extend(a,{anchor:n.def.def.anchor||s.anchors[1]})),o=i.addEndpoint(n.el,a),o._mtNew=!0}if(r.uniqueEndpoint&&(n.def.endpoint=o),o.setDeleteOnEmpty(!0),e.isDetachable()&&o.initDraggable(),null!=o.anchor.positionFinder){var u=i.getUIPosition(arguments,i.getZoom()),l=i.getOffset(n.el),c=i.getSize(n.el),h=null==u?[0,0]:o.anchor.positionFinder(u,l,c,o.anchor.constructorParams);o.anchor.x=h[0],o.anchor.y=h[1]}return o},maybeCleanup:function(t){t._mtNew&&0===t.connections.length?i.deleteObject({endpoint:t}):delete t._mtNew}}),h=t.jsPlumb.dragEvents.drop;return o.scope=o.scope||r.scope||i.Defaults.Scope,o[h]=e.wrap(o[h],l,!0),o.rank=r.rank||0,a&&(o[t.jsPlumb.dragEvents.over]=function(){return!0}),!1===r.allowLoopback&&(o.canDrop=function(t){var e=t.getDragElement()._jsPlumbRelatedElement;return e!==n.el}),i.initDroppable(n.el,o,"internal"),l};this.makeTarget=function(n,e,r){var o=t.jsPlumb.extend({_jsPlumb:this},r);t.jsPlumb.extend(o,e);for(var s=o.maxConnections||-1,a=function(n){var e=h(n),r=e.id,a=t.jsPlumb.extend({},o.dropOptions||{}),u=o.connectionType||"default";this.targetEndpointDefinitions[r]=this.targetEndpointDefinitions[r]||{},ht(r),e.el._isJsPlumbGroup&&null==a.rank&&(a.rank=-1);var l={def:t.jsPlumb.extend({},o),uniqueEndpoint:o.uniqueEndpoint,maxConnections:s,enabled:!0};o.createEndpoint&&(l.uniqueEndpoint=!0,l.endpoint=i.addEndpoint(n,l.def),l.endpoint.setDeleteOnEmpty(!1)),e.def=l,this.targetEndpointDefinitions[r][u]=l,gt(e,o,a,!0===o.isSource,!0),e.el._katavorioDrop[e.el._katavorioDrop.length-1].targetDef=l}.bind(this),u=n.length&&n.constructor!==String?n:[n],l=0,c=u.length;l<c;l++)a(u[l]);return this},this.unmakeTarget=function(t,n){var e=h(t);return i.destroyDroppable(e.el,"internal"),n||delete this.targetEndpointDefinitions[e.id],this},this.makeSource=function(n,r,o){var s=t.jsPlumb.extend({_jsPlumb:this},o);t.jsPlumb.extend(s,r);var a=s.connectionType||"default",u=i.deriveEndpointAndAnchorSpec(a);s.endpoint=s.endpoint||u.endpoints[0],s.anchor=s.anchor||u.anchors[0];for(var c=s.maxConnections||-1,f=s.onMaxConnections,p=function(r){var o=r.id,u=this.getElement(r.el);this.sourceEndpointDefinitions[o]=this.sourceEndpointDefinitions[o]||{},ht(o);var h={def:t.jsPlumb.extend({},s),uniqueEndpoint:s.uniqueEndpoint,maxConnections:c,enabled:!0};s.createEndpoint&&(h.uniqueEndpoint=!0,h.endpoint=i.addEndpoint(n,h.def),h.endpoint.setDeleteOnEmpty(!1)),this.sourceEndpointDefinitions[o][a]=h,r.def=h;var p=t.jsPlumb.dragEvents.stop,d=t.jsPlumb.dragEvents.drag,v=t.jsPlumb.extend({},s.dragOptions||{}),g=v.drag,m=v.stop,y=null,b=!1;v.scope=v.scope||s.scope,v[d]=e.wrap(v[d],(function(){g&&g.apply(this,arguments),b=!1})),v[p]=e.wrap(v[p],function(){if(m&&m.apply(this,arguments),this.currentlyDragging=!1,null!=y._jsPlumb){var t=s.anchor||this.Defaults.Anchor,n=y.anchor,e=y.connections[0],r=this.makeAnchor(t,o,this),a=y.element;if(null!=r.positionFinder){var u=i.getOffset(a),l=this.getSize(a),c={left:u.left+n.x*l[0],top:u.top+n.y*l[1]},h=r.positionFinder(c,u,l,r.constructorParams);r.x=h[0],r.y=h[1]}y.setAnchor(r,!0),y.repaint(),this.repaint(y.elementId),null!=e&&this.repaint(e.targetId)}}.bind(this));var _=function(n){if(3!==n.which&&2!==n.button){o=this.getId(this.getElement(r.el));var h=this.sourceEndpointDefinitions[o][a];if(h.enabled){if(s.filter){var p=e.isString(s.filter)?vt(n,r.el,s.filter,this,s.filterExclude):s.filter(n,r.el);if(!1===p)return}var d=this.select({source:o}).length;if(h.maxConnections>=0&&d>=h.maxConnections)return f&&f({element:r.el,maxConnections:c},n),!1;var g=t.jsPlumb.getPositionOnElement(n,u,l),m={};t.jsPlumb.extend(m,h.def),m.isTemporarySource=!0,m.anchor=[g[0],g[1],0,0],m.dragOptions=v,h.def.scope&&(m.scope=h.def.scope),y=this.addEndpoint(o,m),b=!0,y.setDeleteOnEmpty(!0),h.uniqueEndpoint&&(h.endpoint?y.finalEndpoint=h.endpoint:(h.endpoint=y,y.setDeleteOnEmpty(!1)));var _=function(){i.off(y.canvas,"mouseup",_),i.off(r.el,"mouseup",_),b&&(b=!1,i.deleteEndpoint(y))};i.on(y.canvas,"mouseup",_),i.on(r.el,"mouseup",_);var x={};if(h.def.extract)for(var P in h.def.extract){var w=(n.srcElement||n.target).getAttribute(P);w&&(x[h.def.extract[P]]=w)}i.trigger(y.canvas,"mousedown",n,x),e.consume(n)}}}.bind(this);this.on(r.el,"mousedown",_),h.trigger=_,s.filter&&(e.isString(s.filter)||e.isFunction(s.filter))&&i.setDragFilter(r.el,s.filter);var x=t.jsPlumb.extend({},s.dropOptions||{});gt(r,s,x,!0,!0===s.isTarget)}.bind(this),d=n.length&&n.constructor!==String?n:[n],v=0,g=d.length;v<g;v++)p(h(d[v]));return this},this.unmakeSource=function(t,n,e){var r=h(t);i.destroyDroppable(r.el,"internal");var o=this.sourceEndpointDefinitions[r.id];if(o)for(var s in o)if(null==n||n===s){var a=o[s].trigger;a&&i.off(r.el,"mousedown",a),e||delete this.sourceEndpointDefinitions[r.id][s]}return this},this.unmakeEverySource=function(){for(var t in this.sourceEndpointDefinitions)i.unmakeSource(t,null,!0);return this.sourceEndpointDefinitions={},this};var mt=function(t,n,r){n=e.isArray(n)?n:[n];var i=Y(t);r=r||"default";for(var o=0;o<n.length;o++){var s=this[n[o]][i];if(s&&s[r])return s[r].def.scope||this.Defaults.Scope}}.bind(this),yt=function(t,n,r,i){r=e.isArray(r)?r:[r];var o=Y(t);i=i||"default";for(var s=0;s<r.length;s++){var a=this[r[s]][o];a&&a[i]&&(a[i].def.scope=n)}}.bind(this);this.getScope=function(t,n){return mt(t,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(t){return mt(t,"sourceEndpointDefinitions")},this.getTargetScope=function(t){return mt(t,"targetEndpointDefinitions")},this.setScope=function(t,n,e){this.setSourceScope(t,n,e),this.setTargetScope(t,n,e)},this.setSourceScope=function(t,n,e){yt(t,n,"sourceEndpointDefinitions",e),this.setDragScope(t,n)},this.setTargetScope=function(t,n,e){yt(t,n,"targetEndpointDefinitions",e),this.setDropScope(t,n)},this.unmakeEveryTarget=function(){for(var t in this.targetEndpointDefinitions)i.unmakeTarget(t,!0);return this.targetEndpointDefinitions={},this};var bt=function(t,n,r,o,s){var a,u,l,c="source"===t?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(s=s||"default",n.length&&!e.isString(n)){a=[];for(var f=0,p=n.length;f<p;f++)u=h(n[f]),c[u.id]&&c[u.id][s]&&(a[f]=c[u.id][s].enabled,l=o?!a[f]:r,c[u.id][s].enabled=l,i[l?"removeClass":"addClass"](u.el,"jtk-"+t+"-disabled"))}else{u=h(n);var d=u.id;c[d]&&c[d][s]&&(a=c[d][s].enabled,l=o?!a:r,c[d][s].enabled=l,i[l?"removeClass":"addClass"](u.el,"jtk-"+t+"-disabled"))}return a}.bind(this),_t=function(t,n){return e.isString(t)||!t.length?n.apply(this,[t]):t.length?n.apply(this,[t[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(t,n){return bt("source",t,null,!0,n),this.isSourceEnabled(t,n)},this.setSourceEnabled=function(t,n,e){return bt("source",t,n,null,e)},this.isSource=function(t,n){return n=n||"default",_t(t,function(t){var e=this.sourceEndpointDefinitions[h(t).id];return null!=e&&null!=e[n]}.bind(this))},this.isSourceEnabled=function(t,n){return n=n||"default",_t(t,function(t){var e=this.sourceEndpointDefinitions[h(t).id];return e&&e[n]&&!0===e[n].enabled}.bind(this))},this.toggleTargetEnabled=function(t,n){return bt("target",t,null,!0,n),this.isTargetEnabled(t,n)},this.isTarget=function(t,n){return n=n||"default",_t(t,function(t){var e=this.targetEndpointDefinitions[h(t).id];return null!=e&&null!=e[n]}.bind(this))},this.isTargetEnabled=function(t,n){return n=n||"default",_t(t,function(t){var e=this.targetEndpointDefinitions[h(t).id];return e&&e[n]&&!0===e[n].enabled}.bind(this))},this.setTargetEnabled=function(t,n,e){return bt("target",t,n,null,e)},this.ready=function(t){i.bind("ready",t)};var xt=function(t,n){if("object"===typeof t&&t.length)for(var e=0,r=t.length;e<r;e++)n(t[e]);else n(t);return i};this.repaint=function(t,n,e){return xt(t,(function(t){T(t,n,e)}))},this.revalidate=function(t,n,e){return xt(t,(function(t){var r=e?t:i.getId(t);i.updateOffset({elId:r,recalc:!0,timestamp:n});var o=i.getDragManager();o&&o.updateOffsets(r),i.repaint(t)}))},this.repaintEverything=function(){var t,n=r();for(t in _)i.updateOffset({elId:t,recalc:!0,timestamp:n});for(t in _)T(t,null,n);return this},this.removeAllEndpoints=function(t,n,e){e=e||[];var r=function(t){var o,s,a=h(t),u=_[a.id];if(u)for(e.push(a),o=0,s=u.length;o<s;o++)i.deleteEndpoint(u[o],!1);if(delete _[a.id],n&&a.el&&3!==a.el.nodeType&&8!==a.el.nodeType)for(o=0,s=a.el.childNodes.length;o<s;o++)r(a.el.childNodes[o])};return r(t),this};var Pt=function(t,n){i.removeAllEndpoints(t.id,!0,n);for(var e=i.getDragManager(),r=function(t){e&&e.elementRemoved(t.id),i.anchorManager.clearFor(t.id),i.anchorManager.removeFloatingConnection(t.id),i.isSource(t.el)&&i.unmakeSource(t.el),i.isTarget(t.el)&&i.unmakeTarget(t.el),i.destroyDraggable(t.el),i.destroyDroppable(t.el),delete i.floatingConnections[t.id],delete P[t.id],delete w[t.id],t.el&&(i.removeElement(t.el),t.el._jsPlumb=null)},o=1;o<n.length;o++)r(n[o]);r(t)};this.remove=function(t,n){var e=h(t),r=[];return e.text&&e.el.parentNode?e.el.parentNode.removeChild(e.el):e.id&&i.batch((function(){Pt(e,r)}),!0===n),i},this.empty=function(t,n){var e=[],r=function(t,n){var i=h(t);if(i.text)i.el.parentNode.removeChild(i.el);else if(i.el){while(i.el.childNodes.length>0)r(i.el.childNodes[0]);n||Pt(i,e)}};return i.batch((function(){r(t,!0)}),!1===n),i},this.reset=function(t){i.silently(function(){ct=!1,i.removeAllGroups(),i.removeGroupManager(),i.deleteEveryEndpoint(),t||i.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},b.length=0,this.doReset&&this.doReset()}.bind(this))};var wt=function(t){t.canvas&&t.canvas.parentNode&&t.canvas.parentNode.removeChild(t.canvas),t.cleanup(),t.destroy()};this.clear=function(){i.select().each(wt),i.selectEndpoints().each(wt),_={},x={}},this.setDefaultScope=function(t){return I=t,i},this.deriveEndpointAndAnchorSpec=function(t,n){for(var e=((n?"":"default ")+t).split(/[\s]/),r=null,o=null,s=null,a=null,u=0;u<e.length;u++){var l=i.getType(e[u],"connection");l&&(l.endpoints&&(r=l.endpoints),l.endpoint&&(o=l.endpoint),l.anchors&&(a=l.anchors),l.anchor&&(s=l.anchor))}return{endpoints:r||[o,o],anchors:a||[s,s]}},this.setId=function(t,n,r){var i;e.isString(t)?i=t:(t=this.getElement(t),i=this.getId(t));var o=this.getConnections({source:i,scope:"*"},!0),s=this.getConnections({target:i,scope:"*"},!0);n=""+n,r?t=this.getElement(n):(t=this.getElement(i),this.setAttribute(t,"id",n)),_[n]=_[i]||[];for(var a=0,u=_[n].length;a<u;a++)_[n][a].setElementId(n),_[n][a].setReferenceElement(t);delete _[i],this.sourceEndpointDefinitions[n]=this.sourceEndpointDefinitions[i],delete this.sourceEndpointDefinitions[i],this.targetEndpointDefinitions[n]=this.targetEndpointDefinitions[i],delete this.targetEndpointDefinitions[i],this.anchorManager.changeId(i,n);var l=this.getDragManager();l&&l.changeId(i,n),P[n]=P[i],delete P[i];var c=function(e,r,i){for(var o=0,s=e.length;o<s;o++)e[o].endpoints[r].setElementId(n),e[o].endpoints[r].setReferenceElement(t),e[o][i+"Id"]=n,e[o][i]=t};c(o,0,"source"),c(s,1,"target"),this.repaint(n)},this.setDebugLog=function(t){m=t},this.setSuspendDrawing=function(t,n){var e=S;return S=t,D=t?(new Date).getTime():null,n&&this.repaintEverything(),e},this.isSuspendDrawing=function(){return S},this.getSuspendedAt=function(){return D},this.batch=function(t,n){var r=this.isSuspendDrawing();r||this.setSuspendDrawing(!0);try{t()}catch(i){e.log("Function run while suspended failed",i)}r||this.setSuspendDrawing(!1,!n)},this.doWhileSuspended=this.batch,this.getCachedData=H,this.timestamp=r,this.show=function(t,n){return z(t,"block",n),i},this.toggleVisible=W,this.addListener=this.bind;var Ct=[];this.registerFloatingConnection=function(t,n,r){Ct[t.id]=n,e.addToList(_,t.id,r)},this.getFloatingConnectionFor=function(t){return Ct[t]},this.listManager=new t.jsPlumbListManager(this)};e.extend(t.jsPlumbInstance,e.EventGenerator,{setAttribute:function(t,n,e){this.setAttribute(t,n,e)},getAttribute:function(n,e){return this.getAttribute(t.jsPlumb.getElement(n),e)},convertToFullOverlaySpec:function(t){return e.isString(t)&&(t=[t,{}]),t[1].id=t[1].id||e.uuid(),t},registerConnectionType:function(n,e){if(this._connectionTypes[n]=t.jsPlumb.extend({},e),e.overlays){for(var r={},i=0;i<e.overlays.length;i++){var o=this.convertToFullOverlaySpec(e.overlays[i]);r[o[1].id]=o}this._connectionTypes[n].overlays=r}},registerConnectionTypes:function(t){for(var n in t)this.registerConnectionType(n,t[n])},registerEndpointType:function(n,e){if(this._endpointTypes[n]=t.jsPlumb.extend({},e),e.overlays){for(var r={},i=0;i<e.overlays.length;i++){var o=this.convertToFullOverlaySpec(e.overlays[i]);r[o[1].id]=o}this._endpointTypes[n].overlays=r}},registerEndpointTypes:function(t){for(var n in t)this.registerEndpointType(n,t[n])},getType:function(t,n){return"connection"===n?this._connectionTypes[t]:this._endpointTypes[t]},setIdChanged:function(t,n){this.setId(t,n,!0)},setParent:function(t,n){var e=this.getElement(t),r=this.getId(e),i=this.getElement(n),o=this.getId(i),s=this.getDragManager();e.parentNode.removeChild(e),i.appendChild(e),s&&s.setParent(e,r,i,o)},extend:function(t,n,e){var r;if(e)for(r=0;r<e.length;r++)t[e[r]]=n[e[r]];else for(r in n)t[r]=n[r];return t},floatingConnections:{},getFloatingAnchorIndex:function(t){return t.endpoints[0].isFloating()?0:t.endpoints[1].isFloating()?1:-1},proxyConnection:function(t,n,e,r,i,o){var s,a=t.endpoints[n].elementId,u=t.endpoints[n];t.proxies=t.proxies||[],s=t.proxies[n]?t.proxies[n].ep:this.addEndpoint(e,{endpoint:i(t,n),anchor:o(t,n),parameters:{isProxyEndpoint:!0}}),s.setDeleteOnEmpty(!0),t.proxies[n]={ep:s,originalEp:u},0===n?this.anchorManager.sourceChanged(a,r,t,e):(this.anchorManager.updateOtherEndpoint(t.endpoints[0].elementId,a,r,t),t.target=e,t.targetId=r),u.detachFromConnection(t,null,!0),s.connections=[t],t.endpoints[n]=s,u.setVisible(!1),t.setVisible(!0),this.revalidate(e)},unproxyConnection:function(t,n,e){if(null!=t._jsPlumb&&null!=t.proxies&&null!=t.proxies[n]){var r=t.proxies[n].originalEp.element,i=t.proxies[n].originalEp.elementId;t.endpoints[n]=t.proxies[n].originalEp,0===n?this.anchorManager.sourceChanged(e,i,t,r):(this.anchorManager.updateOtherEndpoint(t.endpoints[0].elementId,e,i,t),t.target=r,t.targetId=i),t.proxies[n].ep.detachFromConnection(t,null),t.proxies[n].originalEp.addConnection(t),t.isVisible()&&t.proxies[n].originalEp.setVisible(!0),delete t.proxies[n]}}});var v=new d;t.jsPlumb=v,v.getInstance=function(t,n){var e=new d(t);if(n)for(var r in n)e[r]=n[r];return e.init(),e},v.each=function(t,n){if(null!=t)if("string"===typeof t)n(v.getElement(t));else if(null!=t.length)for(var e=0;e<t.length;e++)n(v.getElement(t[e]));else n(t)},n.jsPlumb=v}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,r="__label",i=function(t,e){var i={cssClass:e.cssClass,labelStyle:t.labelStyle,id:r,component:t,_jsPlumb:t._jsPlumb.instance},o=n.extend(i,e);return new(n.Overlays[t._jsPlumb.instance.getRenderMode()].Label)(o)},o=function(t,r){var i=null;if(e.isArray(r)){var o=r[0],s=n.extend({component:t,_jsPlumb:t._jsPlumb.instance},r[1]);3===r.length&&n.extend(s,r[2]),i=new(n.Overlays[t._jsPlumb.instance.getRenderMode()][o])(s)}else i=r.constructor===String?new(n.Overlays[t._jsPlumb.instance.getRenderMode()][r])({component:t,_jsPlumb:t._jsPlumb.instance}):r;return i.id=i.id||e.uuid(),t.cacheTypeItem("overlay",i,i.id),t._jsPlumb.overlays[i.id]=i,i};n.OverlayCapableJsPlumbUIComponent=function(n){t.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},n.label&&(this.getDefaultType().overlays[r]=["Label",{label:n.label,location:n.labelLocation||this.defaultLabelLocation||.5,labelStyle:n.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:r}]),this.setListenerComponent=function(t){if(this._jsPlumb)for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].setListenerComponent(t)}},n.OverlayCapableJsPlumbUIComponent.applyType=function(t,n){if(n.overlays){var e,r={};for(e in n.overlays){var i=t._jsPlumb.overlays[n.overlays[e][1].id];if(i)i.updateFrom(n.overlays[e][1]),r[n.overlays[e][1].id]=!0,i.reattach(t._jsPlumb.instance,t);else{var o=t.getCachedTypeItem("overlay",n.overlays[e][1].id);null!=o?(o.reattach(t._jsPlumb.instance,t),o.setVisible(!0),o.updateFrom(n.overlays[e][1]),t._jsPlumb.overlays[o.id]=o):o=t.addOverlay(n.overlays[e],!0),r[o.id]=!0}}for(e in t._jsPlumb.overlays)null==r[t._jsPlumb.overlays[e].id]&&t.removeOverlay(t._jsPlumb.overlays[e].id,!0)}},e.extend(n.OverlayCapableJsPlumbUIComponent,t.jsPlumbUIComponent,{setHover:function(t,n){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e][t?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(t,n){var r=o(this,t);if(this.getData&&"Label"===r.type&&e.isArray(t)){var i=this.getData(),s=t[1];if(i){var a=s.labelLocationAttribute||"labelLocation",u=i?i[a]:null;u&&(r.loc=u)}}return n||this.repaint(),r},getOverlay:function(t){return this._jsPlumb.overlays[t]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(t){var n=this.getOverlay(t);n&&n.hide()},hideOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].hide()},showOverlay:function(t){var n=this.getOverlay(t);n&&n.show()},showOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].show()},removeAllOverlays:function(t){for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].cleanup&&this._jsPlumb.overlays[n].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,this._jsPlumb.overlayPlacements={},t||this.repaint()},removeOverlay:function(t,n){var e=this._jsPlumb.overlays[t];e&&(e.setVisible(!1),!n&&e.cleanup&&e.cleanup(),delete this._jsPlumb.overlays[t],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[t],this._jsPlumb.overlayPlacements&&delete this._jsPlumb.overlayPlacements[t])},removeOverlays:function(){for(var t=0,n=arguments.length;t<n;t++)this.removeOverlay(arguments[t])},moveParent:function(t){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),t.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode)for(var n in this.canvas.parentNode.removeChild(this.canvas),t.appendChild(this.canvas),this._jsPlumb.overlays)if(this._jsPlumb.overlays[n].isAppendedAtTopLevel){var e=this._jsPlumb.overlays[n].getElement();e.parentNode.removeChild(e),t.appendChild(e)}},getLabel:function(){var t=this.getOverlay(r);return null!=t?t.getLabel():null},getLabelOverlay:function(){return this.getOverlay(r)},setLabel:function(t){var n=this.getOverlay(r);if(n)t.constructor===String||t.constructor===Function?n.setLabel(t):(t.label&&n.setLabel(t.label),t.location&&n.setLocation(t.location));else{var e=t.constructor===String||t.constructor===Function?{label:t}:t;n=i(this,e),this._jsPlumb.overlays[r]=n}this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(t){for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].cleanup(t),this._jsPlumb.overlays[n].destroy(t);t&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(t){this[t?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(t,n){this._jsPlumb.overlayPositions[t.id]=n},getAbsoluteOverlayPosition:function(t){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[t.id]:null},_clazzManip:function(t,n,e){if(!e)for(var r in this._jsPlumb.overlays)this._jsPlumb.overlays[r][t+"Class"](n)},addClass:function(t,n){this._clazzManip("add",t,n)},removeClass:function(t,n){this._clazzManip("remove",t,n)}})}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,r=function(t,n,e){var r=!1;return{drag:function(){if(r)return r=!1,!0;if(n.element){var i=e.getUIPosition(arguments,e.getZoom());null!=i&&e.setPosition(n.element,i),e.repaint(n.element,i),t.paint({anchorPoint:t.anchor.getCurrentLocation({element:t})})}},stopDrag:function(){r=!0}}},i=function(t,n,e,r){var i=n.createElement("div",{position:"absolute"});n.appendElement(i);var o=n.getId(i);n.setPosition(i,e),i.style.width=r[0]+"px",i.style.height=r[1]+"px",n.manage(o,i,!0),t.id=o,t.element=i},o=function(t,e,r,i,o,s,a,u){var l=new n.FloatingAnchor({reference:e,referenceCanvas:i,jsPlumbInstance:s});return a({paintStyle:t,endpoint:r,anchor:l,source:o,scope:u})},s=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"],a=function(t,n){var e=0;if(null!=n)for(var r=0;r<t.connections.length;r++)if(t.connections[r].sourceId===n||t.connections[r].targetId===n){e=r;break}return t.connections[e]};n.Endpoint=function(t){var u=t._jsPlumb,l=t.newConnection,c=t.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],n.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:t.connectionType,maxConnections:null==t.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:t.maxConnections,paintStyle:t.endpointStyle||t.paintStyle||t.style||this._jsPlumb.instance.Defaults.EndpointStyle||n.Defaults.EndpointStyle,hoverPaintStyle:t.endpointHoverStyle||t.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||n.Defaults.EndpointHoverStyle,connectorStyle:t.connectorStyle,connectorHoverStyle:t.connectorHoverStyle,connectorClass:t.connectorClass,connectorHoverClass:t.connectorHoverClass,connectorOverlays:t.connectorOverlays,connector:t.connector,connectorTooltip:t.connectorTooltip}),this._jsPlumb.enabled=!(!1===t.enabled),this._jsPlumb.visible=!0,this.element=n.getElement(t.source),this._jsPlumb.uuid=t.uuid,this._jsPlumb.floatingEndpoint=null;var h=null;this._jsPlumb.uuid&&(t.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=t.elementId,this.dragProxy=t.dragProxy,this._jsPlumb.connectionCost=t.connectionCost,this._jsPlumb.connectionsDirected=t.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var f=!0===t.deleteOnEmpty;this.setDeleteOnEmpty=function(t){f=t};var p=function(){var t=u.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var e=u.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(t),this.addClass(e),n.updateClasses(this.element,e,t)}.bind(this);this.prepareAnchor=function(t){var n=this._jsPlumb.instance.makeAnchor(t,this.elementId,u);return n.bind("anchorChanged",function(t){this.fire("anchorChanged",{endpoint:this,anchor:t}),p()}.bind(this)),n},this.setPreparedAnchor=function(t,n){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=t,p(),n||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(t,n){var e=this.prepareAnchor(t);return this.setPreparedAnchor(e,n),this};var d=function(t){if(this.connections.length>0)for(var n=0;n<this.connections.length;n++)this.connections[n].setHover(t,!1);else this.setHover(t)}.bind(this);this.bind("mouseover",(function(){d(!0)})),this.bind("mouseout",(function(){d(!1)})),t._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(r,i){var o,s=function(t,e){var r=u.getRenderMode();if(n.Endpoints[r][t])return new n.Endpoints[r][t](e);if(!u.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+t+"'"}},a={_jsPlumb:this._jsPlumb.instance,cssClass:t.cssClass,container:t.container,tooltip:t.tooltip,connectorTooltip:t.connectorTooltip,endpoint:this};return e.isString(r)?o=s(r,a):e.isArray(r)?(a=e.merge(r[1],a),o=s(r[0],a)):o=r.clone(),o.clone=function(){return e.isString(r)?s(r,a):e.isArray(r)?(a=e.merge(r[1],a),s(r[0],a)):void 0}.bind(this),o.typeId=i,o},this.setEndpoint=function(t,n){var e=this.prepareEndpoint(t);this.setPreparedEndpoint(e,!0)},this.setPreparedEndpoint=function(t,n){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=t,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},n.extend(this,t,s),this.isSource=t.isSource||!1,this.isTemporarySource=t.isTemporarySource||!1,this.isTarget=t.isTarget||!1,this.connections=t.connections||[],this.connectorPointerEvents=t["connector-pointer-events"],this.scope=t.scope||u.getDefaultScope(),this.timestamp=null,this.reattachConnections=t.reattach||u.Defaults.ReattachConnections,this.connectionsDetachable=u.Defaults.ConnectionsDetachable,!1!==t.connectionsDetachable&&!1!==t.detachable||(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==t.dragAllowedWhenFull,t.onMaxConnections&&this.bind("maxConnections",t.onMaxConnections),this.addConnection=function(t){this.connections.push(t),this[(this.connections.length>0?"add":"remove")+"Class"](u.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](u.endpointFullClass)},this.detachFromConnection=function(t,n,e){n=null==n?this.connections.indexOf(t):n,n>=0&&(this.connections.splice(n,1),this[(this.connections.length>0?"add":"remove")+"Class"](u.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](u.endpointFullClass)),!e&&f&&0===this.connections.length&&u.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!0!==e})},this.deleteEveryConnection=function(t){for(var n=this.connections.length,e=0;e<n;e++)u.deleteConnection(this.connections[0],t)},this.detachFrom=function(t,n,e){for(var r=[],i=0;i<this.connections.length;i++)this.connections[i].endpoints[1]!==t&&this.connections[i].endpoints[0]!==t||r.push(this.connections[i]);for(var o=0,s=r.length;o<s;o++)u.deleteConnection(r[0]);return this},this.getElement=function(){return this.element},this.setElement=function(r){var i=this._jsPlumb.instance.getId(r),o=this.elementId;return e.removeWithFunction(t.endpointsByElement[this.elementId],function(t){return t.id===this.id}.bind(this)),this.element=n.getElement(r),this.elementId=u.getId(this.element),u.anchorManager.rehomeEndpoint(this,o,this.element),u.dragManager.endpointAdded(this.element),e.addToList(t.endpointsByElement,i,this),this},this.makeInPlaceCopy=function(){var n=this.anchor.getCurrentLocation({element:this}),e=this.anchor.getOrientation(this),r=this.anchor.getCssClass(),i={bind:function(){},compute:function(){return[n[0],n[1]]},getCurrentLocation:function(){return[n[0],n[1]]},getOrientation:function(){return e},getCssClass:function(){return r}};return c({dropOptions:t.dropOptions,anchor:i,source:this.element,paintStyle:this.getPaintStyle(),endpoint:t.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){return this.connections[0]},this.setStyle=this.setPaintStyle,this.paint=function(t){t=t||{};var n=t.timestamp,e=!(!1===t.recalc);if(!n||this.timestamp!==n){var r=u.updateOffset({elId:this.elementId,timestamp:n}),i=t.offset?t.offset.o:r.o;if(null!=i){var o=t.anchorPoint,s=t.connectorPaintStyle;if(null==o){var l=t.dimensions||r.s,c={xy:[i.left,i.top],wh:l,element:this,timestamp:n};if(e&&this.anchor.isDynamic&&this.connections.length>0){var h=a(this,t.elementWithPrecedence),f=h.endpoints[0]===this?1:0,p=0===f?h.sourceId:h.targetId,d=u.getCachedData(p),v=d.o,g=d.s;c.index=0===f?1:0,c.connection=h,c.txy=[v.left,v.top],c.twh=g,c.tElement=h.endpoints[f]}else this.connections.length>0&&(c.connection=this.connections[0]);o=this.anchor.compute(c)}for(var m in this.endpoint.compute(o,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,s||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=n,this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(m)){var y=this._jsPlumb.overlays[m];y.isVisible()&&(this._jsPlumb.overlayPlacements[m]=y.draw(this.endpoint,this._jsPlumb.paintStyleInUse),y.paint(this._jsPlumb.overlayPlacements[m]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var v=!1;this.initDraggable=function(){if(!v&&n.isDragSupported(this.element)){var s,a={id:null,element:null},f=null,p=!1,d=null,g=r(this,a,u),m=t.dragOptions||{},y={},b=n.dragEvents.start,_=n.dragEvents.stop,x=n.dragEvents.drag,P=n.dragEvents.beforeStart,w=function(t){s=t.e.payload||{}},C=function(e){f=this.connectorSelector();var r=!0;this.isEnabled()||(r=!1),null!=f||this.isSource||this.isTemporarySource||(r=!1),!this.isSource||!this.isFull()||null!=f&&this.dragAllowedWhenFull||(r=!1),null==f||f.isDetachable(this)||(this.isFull()?r=!1:f=null);var h=u.checkCondition(null==f?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:f});if(!1===h?r=!1:"object"===typeof h?n.extend(h,s||{}):h=s||{},!1===r)return u.stopDrag&&u.stopDrag(this.canvas),g.stopDrag(),!1;for(var v=0;v<this.connections.length;v++)this.connections[v].setHover(!1);this.addClass("endpointDrag"),u.setConnectionBeingDragged(!0),f&&!this.isFull()&&this.isSource&&(f=null),u.updateOffset({elId:this.elementId});var m=this._jsPlumb.instance.getOffset(this.canvas),y=this.canvas,b=this._jsPlumb.instance.getSize(this.canvas);i(a,u,m,b),u.setAttributes(this.canvas,{dragId:a.id,elId:this.elementId});var _=this.dragProxy||this.endpoint;if(null==this.dragProxy&&null!=this.connectionType){var x=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);x.endpoints[1]&&(_=x.endpoints[1])}var P=this._jsPlumb.instance.makeAnchor("Center");P.isFloating=!0,this._jsPlumb.floatingEndpoint=o(this.getPaintStyle(),P,_,this.canvas,a.element,u,c,this.scope);var w=this._jsPlumb.floatingEndpoint.anchor;if(null==f)this.setHover(!1,!1),f=l({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:a.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:t.connectorStyle,hoverPaintStyle:t.connectorHoverStyle,connector:t.connector,overlays:t.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:t.scope,data:h}),f.pending=!0,f.addClass(u.draggingClass),this._jsPlumb.floatingEndpoint.addClass(u.draggingClass),this._jsPlumb.floatingEndpoint.anchor=w,u.fire("connectionDrag",f),u.anchorManager.newConnection(f);else{p=!0,f.setHover(!1);var C=f.endpoints[0].id===this.id?0:1;this.detachFromConnection(f,null,!0);var E=u.getDragScope(y);u.setAttribute(this.canvas,"originalScope",E),u.fire("connectionDrag",f),0===C?(d=[f.source,f.sourceId,y,E],u.anchorManager.sourceChanged(f.endpoints[C].elementId,a.id,f,a.element)):(d=[f.target,f.targetId,y,E],f.target=a.element,f.targetId=a.id,u.anchorManager.updateOtherEndpoint(f.sourceId,f.endpoints[C].elementId,f.targetId,f)),f.suspendedEndpoint=f.endpoints[C],f.suspendedElement=f.endpoints[C].getElement(),f.suspendedElementId=f.endpoints[C].elementId,f.suspendedElementType=0===C?"source":"target",f.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=f.suspendedEndpoint,f.endpoints[C]=this._jsPlumb.floatingEndpoint,f.addClass(u.draggingClass),this._jsPlumb.floatingEndpoint.addClass(u.draggingClass)}u.registerFloatingConnection(a,f,this._jsPlumb.floatingEndpoint),u.currentlyDragging=!0}.bind(this),E=function(){if(u.setConnectionBeingDragged(!1),f&&null!=f.endpoints){var t=u.getDropEvent(arguments),n=u.getFloatingAnchorIndex(f);if(f.endpoints[0===n?1:0].anchor.unlock(),f.removeClass(u.draggingClass),this._jsPlumb&&(f.deleteConnectionNow||f.endpoints[n]===this._jsPlumb.floatingEndpoint)&&p&&f.suspendedEndpoint){0===n?(f.floatingElement=f.source,f.floatingId=f.sourceId,f.floatingEndpoint=f.endpoints[0],f.floatingIndex=0,f.source=d[0],f.sourceId=d[1]):(f.floatingElement=f.target,f.floatingId=f.targetId,f.floatingEndpoint=f.endpoints[1],f.floatingIndex=1,f.target=d[0],f.targetId=d[1]);var e=this._jsPlumb.floatingEndpoint;u.setDragScope(d[2],d[3]),f.endpoints[n]=f.suspendedEndpoint,f.isReattach()||f._forceReattach||f._forceDetach||!u.deleteConnection(f,{originalEvent:t})?(f.setHover(!1),f._forceDetach=null,f._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(f),f.suspendedEndpoint.addConnection(f),1===n?u.anchorManager.updateOtherEndpoint(f.sourceId,f.floatingId,f.targetId,f):u.anchorManager.sourceChanged(f.floatingId,f.sourceId,f,f.source),u.repaint(d[1])):u.deleteObject({endpoint:e})}this.deleteAfterDragStop?u.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),u.fire("connectionDragStop",f,t),f.pending&&u.fire("connectionAborted",f,t),u.currentlyDragging=!1,f.suspendedElement=null,f.suspendedEndpoint=null,f=null}a&&a.element&&u.remove(a.element,!1,!1),h&&u.deleteObject({endpoint:h}),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.unlock(),this._jsPlumb.floatingEndpoint=null)}.bind(this);m=n.extend(y,m),m.scope=this.scope||m.scope,m[P]=e.wrap(m[P],w,!1),m[b]=e.wrap(m[b],C,!1),m[x]=e.wrap(m[x],g.drag),m[_]=e.wrap(m[_],E),m.multipleDrop=!1,m.canDrag=function(){return this.isSource||this.isTemporarySource||this.connections.length>0&&!1!==this.connectionsDetachable}.bind(this),u.initDraggable(this.canvas,m,"internal"),this.canvas._jsPlumbRelatedElement=this.element,v=!0}};var g=t.endpoint||this._jsPlumb.instance.Defaults.Endpoint||n.Defaults.Endpoint;this.setEndpoint(g,!0);var m=t.anchor?t.anchor:t.anchors?t.anchors:u.Defaults.Anchor||"Top";this.setAnchor(m,!0);var y=["default",t.type||""].join(" ");this.addType(y,t.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable();var b=function(r,i,o,s){if(n.isDropSupported(this.element)){var a=t.dropOptions||u.Defaults.DropOptions||n.Defaults.DropOptions;a=n.extend({},a),a.scope=a.scope||this.scope;var l=n.dragEvents.drop,c=n.dragEvents.over,h=n.dragEvents.out,f=this,p=u.EndpointDropHandler({getEndpoint:function(){return f},jsPlumb:u,enabled:function(){return null==o||o.isEnabled()},isFull:function(){return o.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(t){f.addClass(t)},removeClass:function(t){f.removeClass(t)},isDropAllowed:function(){return f.isDropAllowed.apply(f,arguments)},reference:s,isRedrop:function(t,n){return t.suspendedEndpoint&&n.reference&&t.suspendedEndpoint.id===n.reference.id}});a[l]=e.wrap(a[l],p,!0),a[c]=e.wrap(a[c],function(){var t=n.getDragObject(arguments),e=u.getAttribute(n.getElement(t),"dragId"),r=u.getFloatingConnectionFor(e);if(null!=r){var i=u.getFloatingAnchorIndex(r),o=this.isTarget&&0!==i||r.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===r.suspendedEndpoint.id;if(o){var s=u.checkCondition("checkDropAllowed",{sourceEndpoint:r.endpoints[i],targetEndpoint:this,connection:r});this[(s?"add":"remove")+"Class"](u.endpointDropAllowedClass),this[(s?"remove":"add")+"Class"](u.endpointDropForbiddenClass),r.endpoints[i].anchor.over(this.anchor,this)}}}.bind(this)),a[h]=e.wrap(a[h],function(){var t=n.getDragObject(arguments),e=null==t?null:u.getAttribute(n.getElement(t),"dragId"),r=e?u.getFloatingConnectionFor(e):null;if(null!=r){var i=u.getFloatingAnchorIndex(r),o=this.isTarget&&0!==i||r.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===r.suspendedEndpoint.id;o&&(this.removeClass(u.endpointDropAllowedClass),this.removeClass(u.endpointDropForbiddenClass),r.endpoints[i].anchor.out())}}.bind(this)),u.initDroppable(r,a,"internal",i)}}.bind(this);return this.anchor.isFloating||b(this.canvas,!(t._transient||this.anchor.isFloating),this,t.reference),this},e.extend(n.Endpoint,n.OverlayCapableJsPlumbUIComponent,{setVisible:function(t,n,e){if(this._jsPlumb.visible=t,this.canvas&&(this.canvas.style.display=t?"block":"none"),this[t?"showOverlays":"hideOverlays"](),!n)for(var r=0;r<this.connections.length;r++)if(this.connections[r].setVisible(t),!e){var i=this===this.connections[r].endpoints[0]?1:0;1===this.connections[r].endpoints[i].connections.length&&this.connections[r].endpoints[i].setVisible(t,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(t,e){this.setPaintStyle(t.endpointStyle||t.paintStyle,e),this.setHoverPaintStyle(t.endpointHoverStyle||t.hoverPaintStyle,e),null!=t.maxConnections&&(this._jsPlumb.maxConnections=t.maxConnections),t.scope&&(this.scope=t.scope),n.extend(this,t,s),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass),n.OverlayCapableJsPlumbUIComponent.applyType(this,t)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(t){this._jsPlumb.enabled=t},cleanup:function(){var t=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");n.removeClass(this.element,t),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(t){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(t)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(t){var n=!1;if(t)for(var e=0;e<this.connections.length;e++)if(this.connections[e].endpoints[1]===t||this.connections[e].endpoints[0]===t){n=!0;break}return n},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(t){this._jsPlumb.connectionCost=t},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(t){this._jsPlumb.connectionsDirected=t},setElementId:function(t){this.elementId=t,this.anchor.elementId=t},setReferenceElement:function(t){this.element=n.getElement(t)},setDragAllowedWhenFull:function(t){this.dragAllowedWhenFull=t},equals:function(t){return this.anchor.equals(t.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(t){return this.anchor.compute(t)}}),t.jsPlumbInstance.prototype.EndpointDropHandler=function(t){return function(n){var r=t.jsPlumb;t.removeClass(r.endpointDropAllowedClass),t.removeClass(r.endpointDropForbiddenClass);var i=r.getDropEvent(arguments),o=r.getDragObject(arguments),s=r.getAttribute(o,"dragId"),a=(r.getAttribute(o,"elId"),r.getAttribute(o,"originalScope")),u=r.getFloatingConnectionFor(s);if(null!=u){var l=null!=u.suspendedEndpoint;if(!l||null!=u.suspendedEndpoint._jsPlumb){var c=t.getEndpoint(u);if(null!=c){if(t.isRedrop(u,t))return u._forceReattach=!0,u.setHover(!1),void(t.maybeCleanup&&t.maybeCleanup(c));var h=r.getFloatingAnchorIndex(u);if(0===h&&!t.isSource||1===h&&!t.isTarget)t.maybeCleanup&&t.maybeCleanup(c);else{t.onDrop&&t.onDrop(u),a&&r.setDragScope(o,a);var f=t.isFull(n);if(f&&c.fire("maxConnections",{endpoint:this,connection:u,maxConnections:c._jsPlumb.maxConnections},i),!f&&t.enabled()){var p=!0;0===h?(u.floatingElement=u.source,u.floatingId=u.sourceId,u.floatingEndpoint=u.endpoints[0],u.floatingIndex=0,u.source=t.element,u.sourceId=t.elementId):(u.floatingElement=u.target,u.floatingId=u.targetId,u.floatingEndpoint=u.endpoints[1],u.floatingIndex=1,u.target=t.element,u.targetId=t.elementId),l&&u.suspendedEndpoint.id!==c.id&&(u.isDetachAllowed(u)&&u.endpoints[h].isDetachAllowed(u)&&u.suspendedEndpoint.isDetachAllowed(u)&&r.checkCondition("beforeDetach",u)||(p=!1));var d=function(n){u.endpoints[h].detachFromConnection(u),u.suspendedEndpoint&&u.suspendedEndpoint.detachFromConnection(u),u.endpoints[h]=c,c.addConnection(u);var o=c.getParameters();for(var s in o)u.setParameter(s,o[s]);if(l){var a=u.suspendedEndpoint.elementId;r.fireMoveEvent({index:h,originalSourceId:0===h?a:u.sourceId,newSourceId:0===h?c.elementId:u.sourceId,originalTargetId:1===h?a:u.targetId,newTargetId:1===h?c.elementId:u.targetId,originalSourceEndpoint:0===h?u.suspendedEndpoint:u.endpoints[0],newSourceEndpoint:0===h?c:u.endpoints[0],originalTargetEndpoint:1===h?u.suspendedEndpoint:u.endpoints[1],newTargetEndpoint:1===h?c:u.endpoints[1],connection:u},i)}else o.draggable&&r.initDraggable(this.element,t.dragOptions,"internal",r);if(1===h?r.anchorManager.updateOtherEndpoint(u.sourceId,u.floatingId,u.targetId,u):r.anchorManager.sourceChanged(u.floatingId,u.sourceId,u,u.source),u.endpoints[0].finalEndpoint){var f=u.endpoints[0];f.detachFromConnection(u),u.endpoints[0]=u.endpoints[0].finalEndpoint,u.endpoints[0].addConnection(u)}e.isObject(n)&&u.mergeData(n),r.finaliseConnection(u,null,i,!1),u.setHover(!1),r.revalidate(u.endpoints[0].element)}.bind(this),v=function(){u.suspendedEndpoint&&(u.endpoints[h]=u.suspendedEndpoint,u.setHover(!1),u._forceDetach=!0,0===h?(u.source=u.suspendedEndpoint.element,u.sourceId=u.suspendedEndpoint.elementId):(u.target=u.suspendedEndpoint.element,u.targetId=u.suspendedEndpoint.elementId),u.suspendedEndpoint.addConnection(u),1===h?r.anchorManager.updateOtherEndpoint(u.sourceId,u.floatingId,u.targetId,u):r.anchorManager.sourceChanged(u.floatingId,u.sourceId,u,u.source),r.repaint(u.sourceId),u._forceDetach=!1)};if(p=p&&t.isDropAllowed(u.sourceId,u.targetId,u.scope,u,c),p)return d(p),!0;v()}t.maybeCleanup&&t.maybeCleanup(c),r.currentlyDragging=!1}}}}}}}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,r=function(t,r,i,o,s){if(n.Connectors[r]=n.Connectors[r]||{},null==n.Connectors[r][i]){if(null==n.Connectors[i]){if(t.Defaults.DoNotThrowErrors)return null;throw new TypeError("jsPlumb: unknown connector type '"+i+"'")}n.Connectors[r][i]=function(){n.Connectors[i].apply(this,arguments),n.ConnectorRenderers[r].apply(this,arguments)},e.extend(n.Connectors[r][i],[n.Connectors[i],n.ConnectorRenderers[r]])}return new n.Connectors[r][i](o,s)},i=function(t,n,e){return t?e.makeAnchor(t,n,e):null},o=function(t,n,r,i){null!=n&&(n._jsPlumbConnections=n._jsPlumbConnections||{},i?delete n._jsPlumbConnections[t.id]:n._jsPlumbConnections[t.id]=!0,e.isEmpty(n._jsPlumbConnections)?r.removeClass(n,r.connectedClass):r.addClass(n,r.connectedClass))};n.Connection=function(t){var r=t.newEndpoint;this.id=t.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=t.previousConnection,this.source=n.getElement(t.source),this.target=n.getElement(t.target),n.OverlayCapableJsPlumbUIComponent.apply(this,arguments),t.sourceEndpoint?(this.source=t.sourceEndpoint.getElement(),this.sourceId=t.sourceEndpoint.elementId):this.sourceId=this._jsPlumb.instance.getId(this.source),t.targetEndpoint?(this.target=t.targetEndpoint.getElement(),this.targetId=t.targetEndpoint.elementId):this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=t.scope,this.endpoints=[],this.endpointStyles=[];var i=this._jsPlumb.instance;i.manage(this.sourceId,this.source),i.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.params={cssClass:t.cssClass,container:t.container,"pointer-events":t["pointer-events"],editorParams:t.editorParams,overlays:t.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.makeEndpoint=function(n,e,o,s,a){return o=o||this._jsPlumb.instance.getId(e),this.prepareEndpoint(i,r,this,s,n?0:1,t,e,o,a)},t.type&&(t.endpoints=t.endpoints||this._jsPlumb.instance.deriveEndpointAndAnchorSpec(t.type).endpoints);var o=this.makeEndpoint(!0,this.source,this.sourceId,t.sourceEndpoint),s=this.makeEndpoint(!1,this.target,this.targetId,t.targetEndpoint);o&&e.addToList(t.endpointsByElement,this.sourceId,o),s&&e.addToList(t.endpointsByElement,this.targetId,s),this.scope||(this.scope=this.endpoints[0].scope),null!=t.deleteEndpointsOnEmpty&&(this.endpoints[0].setDeleteOnEmpty(t.deleteEndpointsOnEmpty),this.endpoints[1].setDeleteOnEmpty(t.deleteEndpointsOnEmpty));var a=i.Defaults.ConnectionsDetachable;!1===t.detachable&&(a=!1),!1===this.endpoints[0].connectionsDetachable&&(a=!1),!1===this.endpoints[1].connectionsDetachable&&(a=!1);var u=t.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||i.Defaults.ReattachConnections;this.appendToDefaultType({detachable:a,reattach:u,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||t.paintStyle||i.Defaults.PaintStyle||n.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||t.hoverPaintStyle||i.Defaults.HoverPaintStyle||n.Defaults.HoverPaintStyle});var l=i.getSuspendedAt();if(!i.isSuspendDrawing()){var c=i.getCachedData(this.sourceId),h=c.o,f=c.s,p=i.getCachedData(this.targetId),d=p.o,v=p.s,g=l||i.timestamp(),m=this.endpoints[0].anchor.compute({xy:[h.left,h.top],wh:f,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[d.left,d.top],twh:v,tElement:this.endpoints[1],timestamp:g});this.endpoints[0].paint({anchorLoc:m,timestamp:g}),m=this.endpoints[1].anchor.compute({xy:[d.left,d.top],wh:v,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[h.left,h.top],twh:f,tElement:this.endpoints[0],timestamp:g}),this.endpoints[1].paint({anchorLoc:m,timestamp:g})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(t){return!1!==this._jsPlumb.detachable&&(null!=t?!0===t.connectionsDetachable:!0===this._jsPlumb.detachable)},this.setDetachable=function(t){this._jsPlumb.detachable=!0===t},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(t){this._jsPlumb.reattach=!0===t},this._jsPlumb.cost=t.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=t.directed,null==t.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var y=n.extend({},this.endpoints[1].getParameters());n.extend(y,this.endpoints[0].getParameters()),n.extend(y,this.getParameters()),this.setParameters(y),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||t.connector||i.Defaults.Connector||n.Defaults.Connector,!0);var b=null!=t.data&&e.isObject(t.data)?t.data:{};this.getData=function(){return b},this.setData=function(t){b=t||{}},this.mergeData=function(t){b=n.extend(b,t)};var _=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,t.type].join(" ");/[^\s]/.test(_)&&this.addType(_,t.data,!0),this.updateConnectedClass()},e.extend(n.Connection,n.OverlayCapableJsPlumbUIComponent,{applyType:function(t,e,r){var i=null;null!=t.connector&&(i=this.getCachedTypeItem("connector",r.connector),null==i&&(i=this.prepareConnector(t.connector,r.connector),this.cacheTypeItem("connector",i,r.connector)),this.setPreparedConnector(i)),null!=t.detachable&&this.setDetachable(t.detachable),null!=t.reattach&&this.setReattach(t.reattach),t.scope&&(this.scope=t.scope),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass);var o=null;t.anchor?(o=this.getCachedTypeItem("anchors",r.anchor),null==o&&(o=[this._jsPlumb.instance.makeAnchor(t.anchor),this._jsPlumb.instance.makeAnchor(t.anchor)],this.cacheTypeItem("anchors",o,r.anchor))):t.anchors&&(o=this.getCachedTypeItem("anchors",r.anchors),null==o&&(o=[this._jsPlumb.instance.makeAnchor(t.anchors[0]),this._jsPlumb.instance.makeAnchor(t.anchors[1])],this.cacheTypeItem("anchors",o,r.anchors))),null!=o&&(this.endpoints[0].anchor=o[0],this.endpoints[1].anchor=o[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),n.OverlayCapableJsPlumbUIComponent.applyType(this,t)},addClass:function(t,n){n&&(this.endpoints[0].addClass(t),this.endpoints[1].addClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(t)),this.connector&&this.connector.addClass(t)},removeClass:function(t,n){n&&(this.endpoints[0].removeClass(t),this.endpoints[1].removeClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(t)),this.connector&&this.connector.removeClass(t)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(t){this._jsPlumb.visible=t,this.connector&&this.connector.setVisible(t),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,this.target=null,null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(t){this._jsPlumb&&(o(this,this.source,this._jsPlumb.instance,t),o(this,this.target,this._jsPlumb.instance,t))},setHover:function(n){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(n),t.jsPlumb[n?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),t.jsPlumb[n?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(t){this._jsPlumb.cost=t},isDirected:function(){return this._jsPlumb.directed},getConnector:function(){return this.connector},prepareConnector:function(t,n){var i,o={_jsPlumb:this._jsPlumb.instance,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},s=this._jsPlumb.instance.getRenderMode();return e.isString(t)?i=r(this._jsPlumb.instance,s,t,o,this):e.isArray(t)&&(i=1===t.length?r(this._jsPlumb.instance,s,t[0],o,this):r(this._jsPlumb.instance,s,t[0],e.merge(t[1],o),this)),null!=n&&(i.typeId=n),i},setPreparedConnector:function(t,n,e,r){if(this.connector!==t){var i,o="";if(null!=this.connector&&(i=this.connector,o=i.getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=t,r&&this.cacheTypeItem("connector",t,r),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.connector.reattach(this._jsPlumb.instance),this.addClass(o),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=i)for(var s=this.getOverlays(),a=0;a<s.length;a++)s[a].transfer&&s[a].transfer(this.connector);e||this.setListenerComponent(this.connector),n||this.repaint()}},setConnector:function(t,n,e,r){var i=this.prepareConnector(t,r);this.setPreparedConnector(i,n,e,r)},paint:function(t){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){t=t||{};var n=t.timestamp,e=!1,r=e?this.sourceId:this.targetId,i=e?this.targetId:this.sourceId,o=e?0:1,s=e?1:0;if(null==n||n!==this._jsPlumb.lastPaintedAt){var a=this._jsPlumb.instance.updateOffset({elId:i}).o,u=this._jsPlumb.instance.updateOffset({elId:r}).o,l=this.endpoints[s],c=this.endpoints[o],h=l.anchor.getCurrentLocation({xy:[a.left,a.top],wh:[a.width,a.height],element:l,timestamp:n}),f=c.anchor.getCurrentLocation({xy:[u.left,u.top],wh:[u.width,u.height],element:c,timestamp:n});this.connector.resetBounds(),this.connector.compute({sourcePos:h,targetPos:f,sourceOrientation:l.anchor.getOrientation(l),targetOrientation:c.anchor.getOrientation(c),sourceEndpoint:this.endpoints[s],targetEndpoint:this.endpoints[o],"stroke-width":this._jsPlumb.paintStyleInUse.strokeWidth,sourceInfo:a,targetInfo:u});var p={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var d in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(d)){var v=this._jsPlumb.overlays[d];v.isVisible()&&(this._jsPlumb.overlayPlacements[d]=v.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(v)),p.minX=Math.min(p.minX,this._jsPlumb.overlayPlacements[d].minX),p.maxX=Math.max(p.maxX,this._jsPlumb.overlayPlacements[d].maxX),p.minY=Math.min(p.minY,this._jsPlumb.overlayPlacements[d].minY),p.maxY=Math.max(p.maxY,this._jsPlumb.overlayPlacements[d].maxY))}var g=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||1)/2,m=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||0),y={xmin:Math.min(this.connector.bounds.minX-(g+m),p.minX),ymin:Math.min(this.connector.bounds.minY-(g+m),p.minY),xmax:Math.max(this.connector.bounds.maxX+(g+m),p.maxX),ymax:Math.max(this.connector.bounds.maxY+(g+m),p.maxY)};for(var b in this.connector.paintExtents=y,this.connector.paint(this._jsPlumb.paintStyleInUse,null,y),this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(b)){var _=this._jsPlumb.overlays[b];_.isVisible()&&_.paint(this._jsPlumb.overlayPlacements[b],y)}}this._jsPlumb.lastPaintedAt=n}},repaint:function(t){var n=jsPlumb.extend(t||{},{});n.elId=this.sourceId,this.paint(n)},prepareEndpoint:function(t,e,r,o,s,a,u,l,c){var h;if(o)r.endpoints[s]=o,o.addConnection(r);else{a.endpoints||(a.endpoints=[null,null]);var f=c||a.endpoints[s]||a.endpoint||t.Defaults.Endpoints[s]||n.Defaults.Endpoints[s]||t.Defaults.Endpoint||n.Defaults.Endpoint;a.endpointStyles||(a.endpointStyles=[null,null]),a.endpointHoverStyles||(a.endpointHoverStyles=[null,null]);var p=a.endpointStyles[s]||a.endpointStyle||t.Defaults.EndpointStyles[s]||n.Defaults.EndpointStyles[s]||t.Defaults.EndpointStyle||n.Defaults.EndpointStyle;null==p.fill&&null!=a.paintStyle&&(p.fill=a.paintStyle.stroke),null==p.outlineStroke&&null!=a.paintStyle&&(p.outlineStroke=a.paintStyle.outlineStroke),null==p.outlineWidth&&null!=a.paintStyle&&(p.outlineWidth=a.paintStyle.outlineWidth);var d=a.endpointHoverStyles[s]||a.endpointHoverStyle||t.Defaults.EndpointHoverStyles[s]||n.Defaults.EndpointHoverStyles[s]||t.Defaults.EndpointHoverStyle||n.Defaults.EndpointHoverStyle;null!=a.hoverPaintStyle&&(null==d&&(d={}),null==d.fill&&(d.fill=a.hoverPaintStyle.stroke));var v=a.anchors?a.anchors[s]:a.anchor?a.anchor:i(t.Defaults.Anchors[s],l,t)||i(n.Defaults.Anchors[s],l,t)||i(t.Defaults.Anchor,l,t)||i(n.Defaults.Anchor,l,t),g=a.uuids?a.uuids[s]:null;h=e({paintStyle:p,hoverPaintStyle:d,endpoint:f,connections:[r],uuid:g,anchor:v,source:u,scope:a.scope,reattach:a.reattach||t.Defaults.ReattachConnections,detachable:a.detachable||t.Defaults.ConnectionsDetachable}),null==o&&h.setDeleteOnEmpty(!0),r.endpoints[s]=h,!1===a.drawEndpoints&&h.setVisible(!1,!0,!0)}return h},replaceEndpoint:function(t,n){var e=this.endpoints[t],r=e.elementId,i=this._jsPlumb.instance.getEndpoints(r),o=i.indexOf(e),s=this.makeEndpoint(0===t,e.element,r,null,n);this.endpoints[t]=s,i.splice(o,1,s),this._jsPlumb.instance.deleteObject({endpoint:e,deleteAttachedObjects:!1}),this._jsPlumb.instance.fire("endpointReplaced",{previous:e,current:s}),this._jsPlumb.instance.anchorManager.updateOtherEndpoint(this.endpoints[0].elementId,this.endpoints[1].elementId,this.endpoints[1].elementId,this)}})}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumbUtil,e=t.jsPlumb;e.AnchorManager=function(t){var r={},i={},o={},s={},a=this,u={},l=t.jsPlumbInstance,c={},h=function(t,n,e,r,i,o,s){for(var a=[],u=n[i?0:1]/(r.length+1),l=0;l<r.length;l++){var c=(l+1)*u,h=o*n[i?1:0];s&&(c=n[i?0:1]-c);var f=i?c:h,p=e[0]+f,d=f/n[0],v=i?h:c,g=e[1]+v,m=v/n[1];a.push([p,g,d,m,r[l][1],r[l][2]])}return a},f=function(t,n){return n[0][0]-t[0][0]},p=function(t,n){var e=t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0],r=n[0][0]<0?-Math.PI-n[0][0]:Math.PI-n[0][0];return e-r},d={top:p,right:f,bottom:f,left:p},v=function(t,n){return t.sort(n)},g=function(t,n){var e=l.getCachedData(t),r=e.s,s=e.o,a=function(n,e,r,s,a,u,l){if(s.length>0)for(var c=v(s,d[n]),f="right"===n||"top"===n,p=h(n,e,r,c,a,u,f),g=function(t,n){i[t.id]=[n[0],n[1],n[2],n[3]],o[t.id]=l},m=0;m<p.length;m++){var y=p[m][4],b=y.endpoints[0].elementId===t,_=y.endpoints[1].elementId===t;b&&g(y.endpoints[0],p[m]),_&&g(y.endpoints[1],p[m])}};a("bottom",r,[s.left,s.top],n.bottom,!0,1,[0,1]),a("top",r,[s.left,s.top],n.top,!0,0,[0,-1]),a("left",r,[s.left,s.top],n.left,!1,0,[-1,0]),a("right",r,[s.left,s.top],n.right,!1,1,[1,0])};this.reset=function(){r={},s={},u={}},this.addFloatingConnection=function(t,n){c[t]=n},this.removeFloatingConnection=function(t){delete c[t]},this.newConnection=function(t){var r=t.sourceId,i=t.targetId,o=t.endpoints,a=!0,u=function(u,l,c,h,f){r===i&&c.isContinuous&&(t._jsPlumb.instance.removeElement(o[1].canvas),a=!1),n.addToList(s,h,[f,l,c.constructor===e.DynamicAnchor])};u(0,o[0],o[0].anchor,i,t),a&&u(1,o[1],o[1].anchor,r,t)};var m=function(t){(function(t,e){if(t){var r=function(t){return t[4]===e};n.removeWithFunction(t.top,r),n.removeWithFunction(t.left,r),n.removeWithFunction(t.bottom,r),n.removeWithFunction(t.right,r)}})(u[t.elementId],t.id)};this.connectionDetached=function(t,e){var r=t.connection||t,i=t.sourceId,o=t.targetId,u=r.endpoints,l=function(t,e,r,i,o){n.removeWithFunction(s[i],(function(t){return t[0].id===o.id}))};l(1,u[1],u[1].anchor,i,r),l(0,u[0],u[0].anchor,o,r),r.floatingId&&(l(r.floatingIndex,r.floatingEndpoint,r.floatingEndpoint.anchor,r.floatingId,r),m(r.floatingEndpoint)),m(r.endpoints[0]),m(r.endpoints[1]),e||(a.redraw(r.sourceId),r.targetId!==r.sourceId&&a.redraw(r.targetId))},this.add=function(t,e){n.addToList(r,e,t)},this.changeId=function(t,n){s[n]=s[t],r[n]=r[t],delete s[t],delete r[t]},this.getConnectionsFor=function(t){return s[t]||[]},this.getEndpointsFor=function(t){return r[t]||[]},this.deleteEndpoint=function(t){n.removeWithFunction(r[t.elementId],(function(n){return n.id===t.id})),m(t)},this.clearFor=function(t){delete r[t],r[t]=[]};var y=function(e,r,i,o,s,a,u,l,c,h,f,p){var d,v,g=-1,m=-1,y=o.endpoints[u],b=y.id,_=[1,0][u],x=[[r,i],o,s,a,b],P=e[c],w=y._continuousAnchorEdge?e[y._continuousAnchorEdge]:null;if(w){var C=n.findWithFunction(w,(function(t){return t[4]===b}));if(-1!==C)for(w.splice(C,1),d=0;d<w.length;d++)v=w[d][1],n.addWithFunction(f,v,(function(t){return t.id===v.id})),n.addWithFunction(p,w[d][1].endpoints[u],(function(t){return t.id===v.endpoints[u].id})),n.addWithFunction(p,w[d][1].endpoints[_],(function(t){return t.id===v.endpoints[_].id}))}for(d=0;d<P.length;d++)v=P[d][1],1===t.idx&&P[d][3]===a&&-1===m&&(m=d),n.addWithFunction(f,v,(function(t){return t.id===v.id})),n.addWithFunction(p,P[d][1].endpoints[u],(function(t){return t.id===v.endpoints[u].id})),n.addWithFunction(p,P[d][1].endpoints[_],(function(t){return t.id===v.endpoints[_].id}));if(-1!==g)P[g]=x;else{var E=l?-1!==m?m:0:P.length;P.splice(E,0,x)}y._continuousAnchorEdge=c};this.updateOtherEndpoint=function(t,r,i,o){var a=n.findWithFunction(s[t],(function(t){return t[0].id===o.id})),u=n.findWithFunction(s[r],(function(t){return t[0].id===o.id}));-1!==a&&(s[t][a][0]=o,s[t][a][1]=o.endpoints[1],s[t][a][2]=o.endpoints[1].anchor.constructor===e.DynamicAnchor),u>-1&&(s[r].splice(u,1),n.addToList(s,i,[o,o.endpoints[0],o.endpoints[0].anchor.constructor===e.DynamicAnchor])),o.updateConnectedClass()},this.sourceChanged=function(t,r,i,o){if(t!==r){i.sourceId=r,i.source=o,n.removeWithFunction(s[t],(function(t){return t[0].id===i.id}));var a=n.findWithFunction(s[i.targetId],(function(t){return t[0].id===i.id}));a>-1&&(s[i.targetId][a][0]=i,s[i.targetId][a][1]=i.endpoints[0],s[i.targetId][a][2]=i.endpoints[0].anchor.constructor===e.DynamicAnchor),n.addToList(s,r,[i,i.endpoints[1],i.endpoints[1].anchor.constructor===e.DynamicAnchor]),i.endpoints[1].anchor.isContinuous&&(i.source===i.target?i._jsPlumb.instance.removeElement(i.endpoints[1].canvas):null==i.endpoints[1].canvas.parentNode&&i._jsPlumb.instance.appendElement(i.endpoints[1].canvas)),i.updateConnectedClass()}},this.rehomeEndpoint=function(t,n,e){var i=r[n]||[],o=l.getId(e);if(o!==n){var s=i.indexOf(t);if(s>-1){var u=i.splice(s,1)[0];a.add(u,o)}}for(var c=0;c<t.connections.length;c++)t.connections[c].sourceId===n?a.sourceChanged(n,t.elementId,t.connections[c],t.element):t.connections[c].targetId===n&&(t.connections[c].targetId=t.elementId,t.connections[c].target=t.element,a.updateOtherEndpoint(t.connections[c].sourceId,n,t.elementId,t.connections[c]))},this.redraw=function(t,i,o,a,h,f){if(!l.isSuspendDrawing()){var p=r[t]||[],d=s[t]||[],v=[],m=[],b=[];o=o||l.timestamp(),a=a||{left:0,top:0},i&&(i={left:i.left+a.left,top:i.top+a.top});for(var _=l.updateOffset({elId:t,offset:i,recalc:!1,timestamp:o}),x={},P=0;P<d.length;P++){var w=d[P][0],C=w.sourceId,E=w.targetId,j=w.endpoints[0].anchor.isContinuous,S=w.endpoints[1].anchor.isContinuous;if(j||S){var D=C+"_"+E,I=x[D],A=w.sourceId===t?1:0;j&&!u[C]&&(u[C]={top:[],right:[],bottom:[],left:[]}),S&&!u[E]&&(u[E]={top:[],right:[],bottom:[],left:[]}),t!==E&&l.updateOffset({elId:E,timestamp:o}),t!==C&&l.updateOffset({elId:C,timestamp:o});var k=l.getCachedData(E),O=l.getCachedData(C);E===C&&(j||S)?(y(u[C],-Math.PI/2,0,w,!1,E,0,!1,"top",C,v,m),y(u[E],-Math.PI/2,0,w,!1,C,1,!1,"top",E,v,m)):(I||(I=this.calculateOrientation(C,E,O.o,k.o,w.endpoints[0].anchor,w.endpoints[1].anchor,w),x[D]=I),j&&y(u[C],I.theta,0,w,!1,E,0,!1,I.a[0],C,v,m),S&&y(u[E],I.theta2,-1,w,!0,C,1,!0,I.a[1],E,v,m)),j&&n.addWithFunction(b,C,(function(t){return t===C})),S&&n.addWithFunction(b,E,(function(t){return t===E})),n.addWithFunction(v,w,(function(t){return t.id===w.id})),(j&&0===A||S&&1===A)&&n.addWithFunction(m,w.endpoints[A],(function(t){return t.id===w.endpoints[A].id}))}}for(P=0;P<p.length;P++)0===p[P].connections.length&&p[P].anchor.isContinuous&&(u[t]||(u[t]={top:[],right:[],bottom:[],left:[]}),y(u[t],-Math.PI/2,0,{endpoints:[p[P],p[P]],paint:function(){}},!1,t,0,!1,p[P].anchor.getDefaultFace(),t,v,m),n.addWithFunction(b,t,(function(n){return n===t})));for(P=0;P<b.length;P++)g(b[P],u[b[P]]);for(P=0;P<p.length;P++)p[P].paint({timestamp:o,offset:_,dimensions:_.s,recalc:!0!==f});for(P=0;P<m.length;P++){var T=l.getCachedData(m[P].elementId);m[P].paint({timestamp:null,offset:T,dimensions:T.s})}for(P=0;P<d.length;P++){var M=d[P][1];if(M.anchor.constructor===e.DynamicAnchor){M.paint({elementWithPrecedence:t,timestamp:o}),n.addWithFunction(v,d[P][0],(function(t){return t.id===d[P][0].id}));for(var L=0;L<M.connections.length;L++)M.connections[L]!==d[P][0]&&n.addWithFunction(v,M.connections[L],(function(t){return t.id===M.connections[L].id}))}else n.addWithFunction(v,d[P][0],(function(t){return t.id===d[P][0].id}))}var F=c[t];for(F&&F.paint({timestamp:o,recalc:!1,elId:t}),P=0;P<v.length;P++)v[P].paint({elId:t,timestamp:null,recalc:!1,clearEdits:h})}};var b=function(t){n.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var e=t.faces||["top","right","bottom","left"],r=!(!1===t.clockwise),s={},a={top:"bottom",right:"left",left:"right",bottom:"top"},u={top:"right",right:"bottom",left:"top",bottom:"left"},l={top:"left",right:"top",left:"bottom",bottom:"right"},c=r?u:l,h=r?l:u,f=t.cssClass||"",p=null,d=null,v=["left","right"],g=["top","bottom"],m=null,y=0;y<e.length;y++)s[e[y]]=!0;this.getDefaultFace=function(){return 0===e.length?"top":e[0]},this.isRelocatable=function(){return!0},this.isSnapOnRelocate=function(){return!0},this.verifyEdge=function(t){return s[t]?t:s[a[t]]?a[t]:s[c[t]]?c[t]:s[h[t]]?h[t]:t},this.isEdgeSupported=function(t){return null==m?null==d?!0===s[t]:d===t:-1!==m.indexOf(t)},this.setCurrentFace=function(t,n){p=t,n&&null!=d&&(d=p)},this.getCurrentFace=function(){return p},this.getSupportedFaces=function(){var t=[];for(var n in s)s[n]&&t.push(n);return t},this.lock=function(){d=p},this.unlock=function(){d=null},this.isLocked=function(){return null!=d},this.lockCurrentAxis=function(){null!=p&&(m="left"===p||"right"===p?v:g)},this.unlockCurrentAxis=function(){m=null},this.compute=function(t){return i[t.element.id]||[0,0]},this.getCurrentLocation=function(t){return i[t.element.id]||[0,0]},this.getOrientation=function(t){return o[t.id]||[0,0]},this.getCssClass=function(){return f}};l.continuousAnchorFactory={get:function(t){return new b(t)},clear:function(t){delete i[t]}}},e.AnchorManager.prototype.calculateOrientation=function(t,n,e,r,i,o){var s={HORIZONTAL:"horizontal",VERTICAL:"vertical",DIAGONAL:"diagonal",IDENTITY:"identity"},a=["left","top","right","bottom"];if(t===n)return{orientation:s.IDENTITY,a:["top","top"]};var u=Math.atan2(r.centery-e.centery,r.centerx-e.centerx),l=Math.atan2(e.centery-r.centery,e.centerx-r.centerx),c=[],h={};(function(t,n){for(var e=0;e<t.length;e++)h[t[e]]={left:[n[e].left,n[e].centery],right:[n[e].right,n[e].centery],top:[n[e].centerx,n[e].top],bottom:[n[e].centerx,n[e].bottom]}})(["source","target"],[e,r]);for(var f=0;f<a.length;f++)for(var p=0;p<a.length;p++)c.push({source:a[f],target:a[p],dist:Biltong.lineLength(h.source[a[f]],h.target[a[p]])});c.sort((function(t,n){return t.dist<n.dist?-1:t.dist>n.dist?1:0}));for(var d=c[0].source,v=c[0].target,g=0;g<c.length;g++)if(d=!i.isContinuous||i.isEdgeSupported(c[g].source)?c[g].source:null,v=!o.isContinuous||o.isEdgeSupported(c[g].target)?c[g].target:null,null!=d&&null!=v)break;return i.isContinuous&&i.setCurrentFace(d),o.isContinuous&&o.setCurrentFace(v),{a:[d,v],theta:u,theta2:l}},e.Anchor=function(t){this.x=t.x||0,this.y=t.y||0,this.elementId=t.elementId,this.cssClass=t.cssClass||"",this.userDefinedLocation=null,this.orientation=t.orientation||[0,0],this.lastReturnValue=null,this.offsets=t.offsets||[0,0],this.timestamp=null;var e=!1!==t.relocatable;this.isRelocatable=function(){return e},this.setRelocatable=function(t){e=t};var r=!1!==t.snapOnRelocate;this.isSnapOnRelocate=function(){return r};var i=!1;this.lock=function(){i=!0},this.unlock=function(){i=!1},this.isLocked=function(){return i},n.EventGenerator.apply(this),this.compute=function(t){var n=t.xy,e=t.wh,r=t.timestamp;return t.clearUserDefinedLocation&&(this.userDefinedLocation=null),r&&r===this.timestamp||(null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:this.lastReturnValue=[n[0]+this.x*e[0]+this.offsets[0],n[1]+this.y*e[1]+this.offsets[1],this.x,this.y],this.timestamp=r),this.lastReturnValue},this.getCurrentLocation=function(t){return t=t||{},null==this.lastReturnValue||null!=t.timestamp&&this.timestamp!==t.timestamp?this.compute(t):this.lastReturnValue},this.setPosition=function(t,n,e,r,o){i&&!o||(this.x=t,this.y=n,this.orientation=[e,r],this.lastReturnValue=null)}},n.extend(e.Anchor,n.EventGenerator,{equals:function(t){if(!t)return!1;var n=t.getOrientation(),e=this.getOrientation();return this.x===t.x&&this.y===t.y&&this.offsets[0]===t.offsets[0]&&this.offsets[1]===t.offsets[1]&&e[0]===n[0]&&e[1]===n[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(t){this.userDefinedLocation=t},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),e.FloatingAnchor=function(t){e.Anchor.apply(this,arguments);var n=t.reference,r=t.referenceCanvas,i=e.getSize(r),o=0,s=0,a=null,u=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(t){var n=t.xy,e=[n[0]+i[0]/2,n[1]+i[1]/2];return u=e,e},this.getOrientation=function(t){if(a)return a;var e=n.getOrientation(t);return[Math.abs(e[0])*o*-1,Math.abs(e[1])*s*-1]},this.over=function(t,n){a=t.getOrientation(n)},this.out=function(){a=null},this.getCurrentLocation=function(t){return null==u?this.compute(t):u}},n.extend(e.FloatingAnchor,e.Anchor);var r=function(t,n,r){return t.constructor===e.Anchor?t:n.makeAnchor(t,r,n)};e.DynamicAnchor=function(t){e.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=t.elementId,this.jsPlumbInstance=t.jsPlumbInstance;for(var n=0;n<t.anchors.length;n++)this.anchors[n]=r(t.anchors[n],this.jsPlumbInstance,this.elementId);this.getAnchors=function(){return this.anchors};var i=this.anchors.length>0?this.anchors[0]:null,o=i,s=this,a=function(t,n,e,r,i){var o=r[0]+t.x*i[0],s=r[1]+t.y*i[1],a=r[0]+i[0]/2,u=r[1]+i[1]/2;return Math.sqrt(Math.pow(n-o,2)+Math.pow(e-s,2))+Math.sqrt(Math.pow(a-o,2)+Math.pow(u-s,2))},u=t.selector||function(t,n,e,r,i){for(var o=e[0]+r[0]/2,s=e[1]+r[1]/2,u=-1,l=1/0,c=0;c<i.length;c++){var h=a(i[c],o,s,t,n);h<l&&(u=c+0,l=h)}return i[u]};this.compute=function(t){var n=t.xy,e=t.wh,r=t.txy,a=t.twh;this.timestamp=t.timestamp;var l=s.getUserDefinedLocation();return null!=l?l:(this.isLocked()||null==r||null==a||(t.timestamp=null,i=u(n,e,r,a,this.anchors),this.x=i.x,this.y=i.y,i!==o&&this.fire("anchorChanged",i),o=i),i.compute(t))},this.getCurrentLocation=function(t){return this.getUserDefinedLocation()||(null!=i?i.getCurrentLocation(t):null)},this.getOrientation=function(t){return null!=i?i.getOrientation(t):[0,0]},this.over=function(t,n){null!=i&&i.over(t,n)},this.out=function(){null!=i&&i.out()},this.setAnchor=function(t){i=t},this.getCssClass=function(){return i&&i.getCssClass()||""},this.setAnchorCoordinates=function(t){var n=jsPlumbUtil.findWithFunction(this.anchors,(function(n){return n.x===t[0]&&n.y===t[1]}));return-1!==n&&(this.setAnchor(this.anchors[n]),!0)}},n.extend(e.DynamicAnchor,e.Anchor);var i=function(t,n,r,i,o,s){e.Anchors[o]=function(e){var a=e.jsPlumbInstance.makeAnchor([t,n,r,i,0,0],e.elementId,e.jsPlumbInstance);return a.type=o,s&&s(a,e),a}};i(.5,0,0,-1,"TopCenter"),i(.5,1,0,1,"BottomCenter"),i(0,.5,-1,0,"LeftMiddle"),i(1,.5,1,0,"RightMiddle"),i(.5,0,0,-1,"Top"),i(.5,1,0,1,"Bottom"),i(0,.5,-1,0,"Left"),i(1,.5,1,0,"Right"),i(.5,.5,0,0,"Center"),i(1,0,0,-1,"TopRight"),i(1,1,0,1,"BottomRight"),i(0,0,0,-1,"TopLeft"),i(0,1,0,1,"BottomLeft"),e.Defaults.DynamicAnchors=function(t){return t.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],t.elementId,t.jsPlumbInstance)},e.Anchors.AutoDefault=function(t){var n=t.jsPlumbInstance.makeDynamicAnchor(e.Defaults.DynamicAnchors(t));return n.type="AutoDefault",n};var o=function(t,n){e.Anchors[t]=function(e){var r=e.jsPlumbInstance.makeAnchor(["Continuous",{faces:n}],e.elementId,e.jsPlumbInstance);return r.type=t,r}};e.Anchors.Continuous=function(t){return t.jsPlumbInstance.continuousAnchorFactory.get(t)},o("ContinuousLeft",["left"]),o("ContinuousTop",["top"]),o("ContinuousBottom",["bottom"]),o("ContinuousRight",["right"]),i(0,0,0,0,"Assign",(function(t,n){var e=n.position||"Fixed";t.positionFinder=e.constructor===String?n.jsPlumbInstance.AnchorPositionFinders[e]:e,t.constructorParams=n})),t.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(t,n,e){return[(t.left-n.left)/e[0],(t.top-n.top)/e[1]]},Grid:function(t,n,e,r){var i=t.left-n.left,o=t.top-n.top,s=e[0]/r.grid[0],a=e[1]/r.grid[1],u=Math.floor(i/s),l=Math.floor(o/a);return[(u*s+s/2)/e[0],(l*a+a/2)/e[1]]}},e.Anchors.Perimeter=function(t){t=t||{};var n=t.anchorCount||60,e=t.shape;if(!e)throw new Error("no shape supplied to Perimeter Anchor type");var r=function(){for(var t=.5,e=2*Math.PI/n,r=0,i=[],o=0;o<n;o++){var s=t+t*Math.sin(r),a=t+t*Math.cos(r);i.push([s,a,0,0]),r+=e}return i},i=function(t){for(var e=n/t.length,r=[],i=function(t,i,o,s,a,u,l){e=n*a;for(var c=(o-t)/e,h=(s-i)/e,f=0;f<e;f++)r.push([t+c*f,i+h*f,null==u?0:u,null==l?0:l])},o=0;o<t.length;o++)i.apply(null,t[o]);return r},o=function(t){for(var n=[],e=0;e<t.length;e++)n.push([t[e][0],t[e][1],t[e][2],t[e][3],1/t.length,t[e][4],t[e][5]]);return i(n)},s=function(){return o([[0,0,1,0,0,-1],[1,0,1,1,1,0],[1,1,0,1,0,1],[0,1,0,0,-1,0]])},a={Circle:r,Ellipse:r,Diamond:function(){return o([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:s,Square:s,Triangle:function(){return o([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(t){for(var n=t.points,e=[],r=0,o=0;o<n.length-1;o++){var s=Math.sqrt(Math.pow(n[o][2]-n[o][0])+Math.pow(n[o][3]-n[o][1]));r+=s,e.push([n[o][0],n[o][1],n[o+1][0],n[o+1][1],s])}for(var a=0;a<e.length;a++)e[a][4]=e[a][4]/r;return i(e)}},u=function(t,n){for(var e=[],r=n/180*Math.PI,i=0;i<t.length;i++){var o=t[i][0]-.5,s=t[i][1]-.5;e.push([o*Math.cos(r)-s*Math.sin(r)+.5,o*Math.sin(r)+s*Math.cos(r)+.5,t[i][2],t[i][3]])}return e};if(!a[e])throw new Error("Shape ["+e+"] is unknown by Perimeter Anchor type");var l=a[e](t);t.rotation&&(l=u(l,t.rotation));var c=t.jsPlumbInstance.makeDynamicAnchor(l);return c.type="Perimeter",c}}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,r=t.Biltong;n.Segments={AbstractSegment:function(t){this.params=t,this.findClosestPointOnPath=function(t,n){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(t.x1,t.x2),minY:Math.min(t.y1,t.y2),maxX:Math.max(t.x1,t.x2),maxY:Math.max(t.y1,t.y2)}},this.lineIntersection=function(t,n,e,r){return[]},this.boxIntersection=function(t,n,e,r){var i=[];return i.push.apply(i,this.lineIntersection(t,n,t+e,n)),i.push.apply(i,this.lineIntersection(t+e,n,t+e,n+r)),i.push.apply(i,this.lineIntersection(t+e,n+r,t,n+r)),i.push.apply(i,this.lineIntersection(t,n+r,t,n)),i},this.boundingBoxIntersection=function(t){return this.boxIntersection(t.x,t.y,t.w,t.y)}},Straight:function(t){n.Segments.AbstractSegment.apply(this,arguments);var e,i,o,s,a,u,l,c=function(){e=Math.sqrt(Math.pow(a-s,2)+Math.pow(l-u,2)),i=r.gradient({x:s,y:u},{x:a,y:l}),o=-1/i};this.type="Straight",this.getLength=function(){return e},this.getGradient=function(){return i},this.getCoordinates=function(){return{x1:s,y1:u,x2:a,y2:l}},this.setCoordinates=function(t){s=t.x1,u=t.y1,a=t.x2,l=t.y2,c()},this.setCoordinates({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),this.getBounds=function(){return{minX:Math.min(s,a),minY:Math.min(u,l),maxX:Math.max(s,a),maxY:Math.max(u,l)}},this.pointOnPath=function(t,n){if(0!==t||n){if(1!==t||n){var i=n?t>0?t:e+t:t*e;return r.pointOnLine({x:s,y:u},{x:a,y:l},i)}return{x:a,y:l}}return{x:s,y:u}},this.gradientAtPoint=function(t){return i},this.pointAlongPathFrom=function(t,n,e){var i=this.pointOnPath(t,e),o=n<=0?{x:s,y:u}:{x:a,y:l};return n<=0&&Math.abs(n)>1&&(n*=-1),r.pointOnLine(i,o,n)};var h=function(t,n,e){return e>=Math.min(t,n)&&e<=Math.max(t,n)},f=function(t,n,e){return Math.abs(e-t)<Math.abs(e-n)?t:n};this.findClosestPointOnPath=function(t,n){var c={d:1/0,x:null,y:null,l:null,x1:s,x2:a,y1:u,y2:l};if(0===i)c.y=u,c.x=h(s,a,t)?t:f(s,a,t);else if(i===1/0||i===-1/0)c.x=s,c.y=h(u,l,n)?n:f(u,l,n);else{var p=u-i*s,d=n-o*t,v=(d-p)/(i-o),g=i*v+p;c.x=h(s,a,v)?v:f(s,a,v),c.y=h(u,l,g)?g:f(u,l,g)}var m=r.lineLength([c.x,c.y],[s,u]);return c.d=r.lineLength([t,n],[c.x,c.y]),c.l=m/e,c};var p=function(t,n,e){return e>n?n<=t&&t<=e:n>=t&&t>=e},d=p;this.lineIntersection=function(t,n,e,o){var c=Math.abs(r.gradient({x:t,y:n},{x:e,y:o})),h=Math.abs(i),f=h===1/0?s:u-h*s,p=[],v=c===1/0?t:n-c*t;if(c!==h)if(c===1/0&&0===h)d(t,s,a)&&d(u,n,o)&&(p=[t,u]);else if(0===c&&h===1/0)d(n,u,l)&&d(s,t,e)&&(p=[s,n]);else{var g,m;c===1/0?(g=t,d(g,s,a)&&(m=h*t+f,d(m,n,o)&&(p=[g,m]))):0===c?(m=n,d(m,u,l)&&(g=(n-f)/h,d(g,t,e)&&(p=[g,m]))):(g=(v-f)/(h-c),m=h*g+f,d(g,s,a)&&d(m,u,l)&&(p=[g,m]))}return p},this.boxIntersection=function(t,n,e,r){var i=[];return i.push.apply(i,this.lineIntersection(t,n,t+e,n)),i.push.apply(i,this.lineIntersection(t+e,n,t+e,n+r)),i.push.apply(i,this.lineIntersection(t+e,n+r,t,n+r)),i.push.apply(i,this.lineIntersection(t,n+r,t,n)),i},this.boundingBoxIntersection=function(t){return this.boxIntersection(t.x,t.y,t.w,t.h)}},Arc:function(t){n.Segments.AbstractSegment.apply(this,arguments);var e=function(n,e){return r.theta([t.cx,t.cy],[n,e])},i=function(t,n){if(t.anticlockwise){var e=t.startAngle<t.endAngle?t.startAngle+o:t.startAngle,r=Math.abs(e-t.endAngle);return e-r*n}var i=t.endAngle<t.startAngle?t.endAngle+o:t.endAngle,s=Math.abs(i-t.startAngle);return t.startAngle+s*n},o=2*Math.PI;this.radius=t.r,this.anticlockwise=t.ac,this.type="Arc",t.startAngle&&t.endAngle?(this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.x1=t.cx+this.radius*Math.cos(t.startAngle),this.y1=t.cy+this.radius*Math.sin(t.startAngle),this.x2=t.cx+this.radius*Math.cos(t.endAngle),this.y2=t.cy+this.radius*Math.sin(t.endAngle)):(this.startAngle=e(t.x1,t.y1),this.endAngle=e(t.x2,t.y2),this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2),this.endAngle<0&&(this.endAngle+=o),this.startAngle<0&&(this.startAngle+=o);var s=this.endAngle<this.startAngle?this.endAngle+o:this.endAngle;this.sweep=Math.abs(s-this.startAngle),this.anticlockwise&&(this.sweep=o-this.sweep);var a=2*Math.PI*this.radius,u=this.sweep/o,l=a*u;this.getLength=function(){return l},this.getBounds=function(){return{minX:t.cx-t.r,maxX:t.cx+t.r,minY:t.cy-t.r,maxY:t.cy+t.r}};var c=1e-10,h=function(t){var n=Math.floor(t),e=Math.ceil(t);return t-n<c?n:e-t<c?e:t};this.pointOnPath=function(n,e){if(0===n)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1===n)return{x:this.x2,y:this.y2,theta:this.endAngle};e&&(n/=l);var r=i(this,n),o=t.cx+t.r*Math.cos(r),s=t.cy+t.r*Math.sin(r);return{x:h(o),y:h(s),theta:r}},this.gradientAtPoint=function(n,e){var i=this.pointOnPath(n,e),o=r.normal([t.cx,t.cy],[i.x,i.y]);return this.anticlockwise||o!==1/0&&o!==-1/0||(o*=-1),o},this.pointAlongPathFrom=function(n,e,r){var i=this.pointOnPath(n,r),o=e/a*2*Math.PI,s=this.anticlockwise?-1:1,u=i.theta+s*o,l=t.cx+this.radius*Math.cos(u),c=t.cy+this.radius*Math.sin(u);return{x:l,y:c}}},Bezier:function(e){this.curve=[{x:e.x1,y:e.y1},{x:e.cp1x,y:e.cp1y},{x:e.cp2x,y:e.cp2y},{x:e.x2,y:e.y2}];var r=function(t){return t[0].x===t[1].x&&t[0].y===t[1].y},i=function(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))},o=function(t){var n={x:0,y:0};if(0===t)return this.curve[0];var e=this.curve.length-1;if(1===t)return this.curve[e];var r=this.curve,i=1-t;if(0===e)return this.curve[0];if(1===e)return{x:i*r[0].x+t*r[1].x,y:i*r[0].y+t*r[1].y};if(e<4){var o,s,a,u=i*i,l=t*t,c=0;return 2===e?(r=[r[0],r[1],r[2],n],o=u,s=i*t*2,a=l):3===e&&(o=u*i,s=u*t*3,a=i*l*3,c=t*l),{x:o*r[0].x+s*r[1].x+a*r[2].x+c*r[3].x,y:o*r[0].y+s*r[1].y+a*r[2].y+c*r[3].y}}return n}.bind(this),s=function(t){var n=[];t--;for(var e=0;e<=t;e++)n.push(o(e/t));return n},a=function(){r(this.curve)&&(this.length=0);var t=16,n=s(t);this.length=0;for(var e=0;e<t-1;e++){var o=n[e],a=n[e+1];this.length+=i(o,a)}}.bind(this);n.Segments.AbstractSegment.apply(this,arguments);this.bounds={minX:Math.min(e.x1,e.x2,e.cp1x,e.cp2x),minY:Math.min(e.y1,e.y2,e.cp1y,e.cp2y),maxX:Math.max(e.x1,e.x2,e.cp1x,e.cp2x),maxY:Math.max(e.y1,e.y2,e.cp1y,e.cp2y)},this.type="Bezier",a();var u=function(n,e,r){return r&&(e=t.jsBezier.locationAlongCurveFrom(n,e>0?0:1,e)),e};this.pointOnPath=function(n,e){return n=u(this.curve,n,e),t.jsBezier.pointOnCurve(this.curve,n)},this.gradientAtPoint=function(n,e){return n=u(this.curve,n,e),t.jsBezier.gradientAtPoint(this.curve,n)},this.pointAlongPathFrom=function(n,e,r){return n=u(this.curve,n,r),t.jsBezier.pointAlongCurveFrom(this.curve,n,e)},this.getLength=function(){return this.length},this.getBounds=function(){return this.bounds},this.findClosestPointOnPath=function(n,e){var r=t.jsBezier.nearestPointOnCurve({x:n,y:e},this.curve);return{d:Math.sqrt(Math.pow(r.point.x-n,2)+Math.pow(r.point.y-e,2)),x:r.point.x,y:r.point.y,l:1-r.location,s:this}},this.lineIntersection=function(n,e,r,i){return t.jsBezier.lineIntersection(n,e,r,i,this.curve)}}},n.SegmentRenderer={getPath:function(t,n){return{Straight:function(n){var e=t.getCoordinates();return(n?"M "+e.x1+" "+e.y1+" ":"")+"L "+e.x2+" "+e.y2},Bezier:function(n){var e=t.params;return(n?"M "+e.x2+" "+e.y2+" ":"")+"C "+e.cp2x+" "+e.cp2y+" "+e.cp1x+" "+e.cp1y+" "+e.x1+" "+e.y1},Arc:function(n){var e=t.params,r=t.sweep>Math.PI?1:0,i=t.anticlockwise?0:1;return(n?"M"+t.x1+" "+t.y1+" ":"")+"A "+t.radius+" "+e.r+" 0 "+r+","+i+" "+t.x2+" "+t.y2}}[t.type](n)}};var i=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};n.Connectors.AbstractConnector=function(t){i.apply(this,arguments);var o=[],s=0,a=[],u=[],l=t.stub||0,c=e.isArray(l)?l[0]:l,h=e.isArray(l)?l[1]:l,f=t.gap||0,p=e.isArray(f)?f[0]:f,d=e.isArray(f)?f[1]:f,v=null,g=null;this.getPathData=function(){for(var t="",e=0;e<o.length;e++)t+=n.SegmentRenderer.getPath(o[e],0===e),t+=" ";return t},this.findSegmentForPoint=function(t,n){for(var e={d:1/0,s:null,x:null,y:null,l:null},r=0;r<o.length;r++){var i=o[r].findClosestPointOnPath(t,n);i.d<e.d&&(e.d=i.d,e.l=i.l,e.x=i.x,e.y=i.y,e.s=o[r],e.x1=i.x1,e.x2=i.x2,e.y1=i.y1,e.y2=i.y2,e.index=r,e.connectorLocation=a[r][0]+i.l*(a[r][1]-a[r][0]))}return e},this.lineIntersection=function(t,n,e,r){for(var i=[],s=0;s<o.length;s++)i.push.apply(i,o[s].lineIntersection(t,n,e,r));return i},this.boxIntersection=function(t,n,e,r){for(var i=[],s=0;s<o.length;s++)i.push.apply(i,o[s].boxIntersection(t,n,e,r));return i},this.boundingBoxIntersection=function(t){for(var n=[],e=0;e<o.length;e++)n.push.apply(n,o[e].boundingBoxIntersection(t));return n};var m=function(){for(var t=0,n=0;n<o.length;n++){var e=o[n].getLength();u[n]=e/s,a[n]=[t,t+=e/s]}},y=function(t,n){n&&(t=t>0?t/s:(s+t)/s);for(var e=a.length-1,r=1,i=0;i<a.length;i++)if(a[i][1]>=t){e=i,r=1===t?1:0===t?0:(t-a[i][0])/u[i];break}return{segment:o[e],proportion:r,index:e}},b=function(t,e,r){if(r.x1!==r.x2||r.y1!==r.y2){var i=new n.Segments[e](r);o.push(i),s+=i.getLength(),t.updateBounds(i)}},_=function(){s=o.length=a.length=u.length=0};this.setSegments=function(t){v=[],s=0;for(var n=0;n<t.length;n++)v.push(t[n]),s+=t[n].getLength()},this.getLength=function(){return s};var x=function(t){this.strokeWidth=t.strokeWidth;var n=r.quadrant(t.sourcePos,t.targetPos),e=t.targetPos[0]<t.sourcePos[0],i=t.targetPos[1]<t.sourcePos[1],o=t.strokeWidth||1,s=t.sourceEndpoint.anchor.getOrientation(t.sourceEndpoint),a=t.targetEndpoint.anchor.getOrientation(t.targetEndpoint),u=e?t.targetPos[0]:t.sourcePos[0],l=i?t.targetPos[1]:t.sourcePos[1],f=Math.abs(t.targetPos[0]-t.sourcePos[0]),v=Math.abs(t.targetPos[1]-t.sourcePos[1]);if(0===s[0]&&0===s[1]||0===a[0]&&0===a[1]){var g=f>v?0:1,m=[1,0][g];s=[],a=[],s[g]=t.sourcePos[g]>t.targetPos[g]?-1:1,a[g]=t.sourcePos[g]>t.targetPos[g]?1:-1,s[m]=0,a[m]=0}var y=e?f+p*s[0]:p*s[0],b=i?v+p*s[1]:p*s[1],_=e?d*a[0]:f+d*a[0],x=i?d*a[1]:v+d*a[1],P=s[0]*a[0]+s[1]*a[1],w={sx:y,sy:b,tx:_,ty:x,lw:o,xSpan:Math.abs(_-y),ySpan:Math.abs(x-b),mx:(y+_)/2,my:(b+x)/2,so:s,to:a,x:u,y:l,w:f,h:v,segment:n,startStubX:y+s[0]*c,startStubY:b+s[1]*c,endStubX:_+a[0]*h,endStubY:x+a[1]*h,isXGreaterThanStubTimes2:Math.abs(y-_)>c+h,isYGreaterThanStubTimes2:Math.abs(b-x)>c+h,opposite:-1===P,perpendicular:0===P,orthogonal:1===P,sourceAxis:0===s[0]?"y":"x",points:[u,l,f,v,y,b,_,x],stubs:[c,h]};return w.anchorOrientation=w.opposite?"opposite":w.orthogonal?"orthogonal":"perpendicular",w};this.getSegments=function(){return o},this.updateBounds=function(t){var n=t.getBounds();this.bounds.minX=Math.min(this.bounds.minX,n.minX),this.bounds.maxX=Math.max(this.bounds.maxX,n.maxX),this.bounds.minY=Math.min(this.bounds.minY,n.minY),this.bounds.maxY=Math.max(this.bounds.maxY,n.maxY)};return this.pointOnPath=function(t,n){var e=y(t,n);return e.segment&&e.segment.pointOnPath(e.proportion,!1)||[0,0]},this.gradientAtPoint=function(t,n){var e=y(t,n);return e.segment&&e.segment.gradientAtPoint(e.proportion,!1)||0},this.pointAlongPathFrom=function(t,n,e){var r=y(t,e);return r.segment&&r.segment.pointAlongPathFrom(r.proportion,n,!1)||[0,0]},this.compute=function(t){g=x.call(this,t),_(),this._compute(g,t),this.x=g.points[0],this.y=g.points[1],this.w=g.points[2],this.h=g.points[3],this.segment=g.segment,m()},{addSegment:b,prepareCompute:x,sourceStub:c,targetStub:h,maxStub:Math.max(c,h),sourceGap:p,targetGap:d,maxGap:Math.max(p,d)}},e.extend(n.Connectors.AbstractConnector,i),n.Endpoints.AbstractEndpoint=function(t){i.apply(this,arguments);var n=this.compute=function(t,n,e,r){var i=this._compute.apply(this,arguments);return this.x=i[0],this.y=i[1],this.w=i[2],this.h=i[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,i};return{compute:n,cssClass:t.cssClass}},e.extend(n.Endpoints.AbstractEndpoint,i),n.Endpoints.Dot=function(t){this.type="Dot";n.Endpoints.AbstractEndpoint.apply(this,arguments);t=t||{},this.radius=t.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(t,n,e,r){this.radius=e.radius||this.radius;var i=t[0]-this.radius,o=t[1]-this.radius,s=2*this.radius,a=2*this.radius;if(e.stroke){var u=e.strokeWidth||1;i-=u,o-=u,s+=2*u,a+=2*u}return[i,o,s,a,this.radius]}},e.extend(n.Endpoints.Dot,n.Endpoints.AbstractEndpoint),n.Endpoints.Rectangle=function(t){this.type="Rectangle";n.Endpoints.AbstractEndpoint.apply(this,arguments);t=t||{},this.width=t.width||20,this.height=t.height||20,this._compute=function(t,n,e,r){var i=e.width||this.width,o=e.height||this.height,s=t[0]-i/2,a=t[1]-o/2;return[s,a,i,o]}},e.extend(n.Endpoints.Rectangle,n.Endpoints.AbstractEndpoint);var o=function(t){n.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};e.extend(o,n.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(t){this._jsPlumb.displayElements.push(t)}}),n.Endpoints.Image=function(r){this.type="Image",o.apply(this,arguments),n.Endpoints.AbstractEndpoint.apply(this,arguments);var i=r.onload,s=r.src||r.url,a=r.cssClass?" "+r.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=r.width,this._jsPlumb.heightToUse=r.height,this._jsPlumb.endpoint=r.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,i&&i(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(t,n){var e=t.constructor===String?t:t.src;i=n,this._jsPlumb.img.src=e,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(s,i),this._compute=function(t,n,e,r){return this.anchorPoint=t,this._jsPlumb.ready?[t[0]-this._jsPlumb.widthToUse/2,t[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=n.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+a),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(t,n,r){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var i=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,o=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;e.sizeElement(this.canvas,i,o,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(n,e){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(n,e):t.setTimeout(function(){this.paint(n,e)}.bind(this),200))}},e.extend(n.Endpoints.Image,[o,n.Endpoints.AbstractEndpoint],{cleanup:function(t){t&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),n.Endpoints.Blank=function(t){n.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank",o.apply(this,arguments),this._compute=function(t,n,e,r){return[t[0],t[1],10,0]};var r=t.cssClass?" "+t.cssClass:"";this.canvas=n.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+r),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(t,n){e.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},e.extend(n.Endpoints.Blank,[n.Endpoints.AbstractEndpoint,o],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),n.Endpoints.Triangle=function(t){this.type="Triangle",n.Endpoints.AbstractEndpoint.apply(this,arguments);var e=this;t=t||{},t.width=t.width||55,t.height=t.height||55,this.width=t.width,this.height=t.height,this._compute=function(t,n,r,i){var o=r.width||e.width,s=r.height||e.height,a=t[0]-o/2,u=t[1]-s/2;return[a,u,o,s]}};var s=n.Overlays.AbstractOverlay=function(t){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=t.component,this.loc=null==t.location?.5:t.location,this.endpointLoc=null==t.endpointLocation?[.5,.5]:t.endpointLocation,this.visible=!1!==t.visible};s.prototype={cleanup:function(t){t&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(t,n){},setVisible:function(t){this.visible=t,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(t){this.loc+=t,this.component.repaint()},setLocation:function(t){this.loc=t,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},n.Overlays.Arrow=function(t){this.type="Arrow",s.apply(this,arguments),this.isAppendedAtTopLevel=!1,t=t||{};var i=this;this.length=t.length||20,this.width=t.width||20,this.id=t.id,this.direction=(t.direction||1)<0?-1:1;var o=t.paintStyle||{"stroke-width":1},a=t.foldback||.623;this.computeMaxSize=function(){return 1.5*i.width},this.elementCreated=function(e,r){if(this.path=e,t.events)for(var i in t.events)n.on(e,i,t.events[i])},this.draw=function(t,n){var i,s,u,l,c;if(t.pointAlongPathFrom){if(e.isString(this.loc)||this.loc>1||this.loc<0){var h=parseInt(this.loc,10),f=this.loc<0?1:0;i=t.pointAlongPathFrom(f,h,!1),s=t.pointAlongPathFrom(f,h-this.direction*this.length/2,!1),u=r.pointOnLine(i,s,this.length)}else if(1===this.loc){if(i=t.pointOnPath(this.loc),s=t.pointAlongPathFrom(this.loc,-this.length),u=r.pointOnLine(i,s,this.length),-1===this.direction){var p=u;u=i,i=p}}else if(0===this.loc){if(u=t.pointOnPath(this.loc),s=t.pointAlongPathFrom(this.loc,this.length),i=r.pointOnLine(u,s,this.length),-1===this.direction){var d=u;u=i,i=d}}else i=t.pointAlongPathFrom(this.loc,this.direction*this.length/2),s=t.pointOnPath(this.loc),u=r.pointOnLine(i,s,this.length);l=r.perpendicularLineTo(i,u,this.width),c=r.pointOnLine(i,u,a*this.length);var v={hxy:i,tail:l,cxy:c},g=o.stroke||n.stroke,m=o.fill||n.stroke,y=o.strokeWidth||n.strokeWidth;return{component:t,d:v,"stroke-width":y,stroke:g,fill:m,minX:Math.min(i.x,l[0].x,l[1].x),maxX:Math.max(i.x,l[0].x,l[1].x),minY:Math.min(i.y,l[0].y,l[1].y),maxY:Math.max(i.y,l[0].y,l[1].y)}}return{component:t,minX:0,maxX:0,minY:0,maxY:0}}},e.extend(n.Overlays.Arrow,s,{updateFrom:function(t){this.length=t.length||this.length,this.width=t.width||this.width,this.direction=null!=t.direction?t.direction:this.direction,this.foldback=t.foldback||this.foldback},cleanup:function(){this.path&&this.canvas&&this.canvas.removeChild(this.path)}}),n.Overlays.PlainArrow=function(t){t=t||{};var e=n.extend(t,{foldback:1});n.Overlays.Arrow.call(this,e),this.type="PlainArrow"},e.extend(n.Overlays.PlainArrow,n.Overlays.Arrow),n.Overlays.Diamond=function(t){t=t||{};var e=t.length||40,r=n.extend(t,{length:e/2,foldback:2});n.Overlays.Arrow.call(this,r),this.type="Diamond"},e.extend(n.Overlays.Diamond,n.Overlays.Arrow);var a=function(t,n){return(null==t._jsPlumb.cachedDimensions||n)&&(t._jsPlumb.cachedDimensions=t.getDimensions()),t._jsPlumb.cachedDimensions},u=function(t){n.jsPlumbUIComponent.apply(this,arguments),s.apply(this,arguments);var r=this.fire;this.fire=function(){r.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=t.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=t.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=t.create,this._jsPlumb.initiallyInvisible=!1===t.visible,this.getElement=function(){if(null==this._jsPlumb.div){var e=this._jsPlumb.div=n.getElement(this._jsPlumb.create(this._jsPlumb.component));e.style.position="absolute",jsPlumb.addClass(e,this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:t.cssClass?t.cssClass:"")),this._jsPlumb.instance.appendElement(e),this._jsPlumb.instance.getId(e),this.canvas=e;var r="translate(-50%, -50%)";e.style.webkitTransform=r,e.style.mozTransform=r,e.style.msTransform=r,e.style.oTransform=r,e.style.transform=r,e._jsPlumb=this,!1===t.visible&&(e.style.display="none")}return this._jsPlumb.div},this.draw=function(t,n,r){var i=a(this);if(null!=i&&2===i.length){var o={x:0,y:0};if(r)o={x:r[0],y:r[1]};else if(t.pointOnPath){var s=this.loc,u=!1;(e.isString(this.loc)||this.loc<0||this.loc>1)&&(s=parseInt(this.loc,10),u=!0),o=t.pointOnPath(s,u)}else{var l=this.loc.constructor===Array?this.loc:this.endpointLoc;o={x:l[0]*t.w,y:l[1]*t.h}}var c=o.x-i[0]/2,h=o.y-i[1]/2;return{component:t,d:{minx:c,miny:h,td:i,cxy:o},minX:c,maxX:c+i[0],minY:h,maxY:h+i[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};e.extend(u,[n.jsPlumbUIComponent,s],{getDimensions:function(){return[1,1]},setVisible:function(t){this._jsPlumb.div&&(this._jsPlumb.div.style.display=t?"block":"none",t&&this._jsPlumb.initiallyInvisible&&(a(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(t){t?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(t,n){null!=this._jsPlumb.div&&t.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var t=a(this);return Math.max(t[0],t[1])},paint:function(t,n){this._jsPlumb.initialised||(this.getElement(),t.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=t.component.x+t.d.minx+"px",this._jsPlumb.div.style.top=t.component.y+t.d.miny+"px"}}),n.Overlays.Custom=function(t){this.type="Custom",u.apply(this,arguments)},e.extend(n.Overlays.Custom,u),n.Overlays.GuideLines=function(){var t=this;t.length=50,t.strokeWidth=5,this.type="GuideLines",s.apply(this,arguments),n.jsPlumbUIComponent.apply(this,arguments),this.draw=function(n,e){var i=n.pointAlongPathFrom(t.loc,t.length/2),o=n.pointOnPath(t.loc),s=r.pointOnLine(i,o,t.length),a=r.perpendicularLineTo(i,s,40),u=r.perpendicularLineTo(s,i,20);return{connector:n,head:i,tail:s,headLine:u,tailLine:a,minX:Math.min(i.x,s.x,u[0].x,u[1].x),minY:Math.min(i.y,s.y,u[0].y,u[1].y),maxX:Math.max(i.x,s.x,u[0].x,u[1].x),maxY:Math.max(i.y,s.y,u[0].y,u[1].y)}}},n.Overlays.Label=function(t){this.labelStyle=t.labelStyle;this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var e=n.extend({create:function(){return n.createElement("div")}},t);if(n.Overlays.Custom.call(this,e),this.type="Label",this.label=t.label||"",this.labelText=null,this.labelStyle){var r=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",r.style.font=this.labelStyle.font,r.style.color=this.labelStyle.color||"black",this.labelStyle.fill&&(r.style.background=this.labelStyle.fill),this.labelStyle.borderWidth>0){var i=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";r.style.border=this.labelStyle.borderWidth+"px solid "+i}this.labelStyle.padding&&(r.style.padding=this.labelStyle.padding)}},e.extend(n.Overlays.Label,n.Overlays.Custom,{cleanup:function(t){t&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(t){this.label=t,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),u.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"===typeof this.label){var t=this.label(this);this.getElement().innerHTML=t.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(t){null!=t.label&&this.setLabel(t.label)}})}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumbUtil,e=t.jsPlumbInstance,r="jtk-group-collapsed",i="jtk-group-expanded",o="[jtk-group-content]",s="elementDraggable",a="stop",u="revert",l="_groupManager",c="_jsPlumbGroup",h="_jsPlumbGroupDrag",f="group:addMember",p="group:removeMember",d="group:add",v="group:remove",g="group:expand",m="group:collapse",y="groupDragStop",b="connectionMoved",_="internal.connectionDetached",x="removeAll",P="orphanAll",w="show",C="hide",E=function(t){var e={},o={},s={},a=this;function u(n){var e=t.getContainer(),r=!1,i=null;while(!r)null==n||n===e?r=!0:n[c]?(i=n[c],r=!0):n=n.parentNode;return i}function l(t){delete t.proxies;var e,r=o[t.id];null!=r&&(e=function(n){return n.id===t.id},n.removeWithFunction(r.connections.source,e),n.removeWithFunction(r.connections.target,e),delete o[t.id]),r=s[t.id],null!=r&&(e=function(n){return n.id===t.id},n.removeWithFunction(r.connections.source,e),n.removeWithFunction(r.connections.target,e),delete s[t.id])}function h(n,e){for(var r=n.getEl().querySelectorAll(".jtk-managed"),i=0;i<r.length;i++)t[e?w:C](r[i],!0)}t.bind("connection",(function(t){var e=u(t.source),r=u(t.target);null!=e&&null!=r&&e===r?(o[t.connection.id]=e,s[t.connection.id]=e):(null!=e&&(n.suggest(e.connections.source,t.connection),o[t.connection.id]=e),null!=r&&(n.suggest(r.connections.target,t.connection),s[t.connection.id]=r))})),t.bind(_,(function(t){l(t.connection)})),t.bind(b,(function(t){var n=0===t.index?o:s,e=n[t.connection.id];if(e){var r=e.connections[0===t.index?"source":"target"],i=r.indexOf(t.connection);-1!==i&&r.splice(i,1)}})),this.addGroup=function(n){t.addClass(n.getEl(),i),e[n.id]=n,n.manager=this,E(n),t.fire(d,{group:n})},this.addToGroup=function(n,e,r){if(n=this.getGroup(n),n){var i=n.getEl();if(e._isJsPlumbGroup)return;var o=e._jsPlumbGroup;if(o!==n){t.removeFromDragSelection(e);var s=t.getOffset(e,!0),u=n.collapsed?t.getOffset(i,!0):t.getOffset(n.getDragArea(),!0);null!=o&&(o.remove(e,!1,r,!1,n),a.updateConnectionsForGroup(o)),n.add(e,r);var l=function(t,e){var r=0===e?1:0;t.each((function(t){t.setVisible(!1),t.endpoints[r].element._jsPlumbGroup===n?(t.endpoints[r].setVisible(!1),y(t,r,n)):(t.endpoints[e].setVisible(!1),p(t,e,n))}))};n.collapsed&&(l(t.select({source:e}),0),l(t.select({target:e}),1));var c=t.getId(e);t.dragManager.setParent(e,c,i,t.getId(i),s);var h={left:s.left-u.left,top:s.top-u.top};if(t.setPosition(e,h),t.dragManager.revalidateParent(e,c,s),a.updateConnectionsForGroup(n),t.revalidate(c),!r){var d={group:n,el:e,pos:h};o&&(d.sourceGroup=o),t.fire(f,d)}}}},this.removeFromGroup=function(t,n,e){t=this.getGroup(t),t&&t.remove(n,null,e)},this.getGroup=function(t){var r=t;if(n.isString(t)&&(r=e[t],null==r))throw new TypeError("No such group ["+t+"]");return r},this.getGroups=function(){var t=[];for(var n in e)t.push(e[n]);return t},this.removeGroup=function(n,r,i,o){n=this.getGroup(n),this.expandGroup(n,!0);var s=n[r?x:P](i,o);return t.remove(n.getEl()),delete e[n.id],delete t._groups[n.id],t.fire(v,{group:n}),s},this.removeAllGroups=function(t,n,r){for(var i in e)this.removeGroup(e[i],t,n,r)};var p=function(n,e,r){var i=n.endpoints[0===e?1:0].element;if(!i[c]||i[c].shouldProxy()||!i[c].collapsed){var o=r.getEl(),s=t.getId(o);t.proxyConnection(n,e,o,s,(function(t,n){return r.getEndpoint(t,n)}),(function(t,n){return r.getAnchor(t,n)}))}};this.collapseGroup=function(n){if(n=this.getGroup(n),null!=n&&!n.collapsed){var e=n.getEl();if(h(n,!1),n.shouldProxy()){var o=function(t,e){for(var r=0;r<t.length;r++){var i=t[r];p(i,e,n)}};o(n.connections.source,0),o(n.connections.target,1)}n.collapsed=!0,t.removeClass(e,i),t.addClass(e,r),t.revalidate(e),t.fire(m,{group:n})}};var y=function(n,e,r){t.unproxyConnection(n,e,t.getId(r.getEl()))};function E(n){var e=n.getMembers(),r=t.getConnections({source:e,scope:"*"},!0),i=t.getConnections({target:e,scope:"*"},!0),a={};n.connections.source.length=0,n.connections.target.length=0;var u=function(t){for(var e=0;e<t.length;e++)a[t[e].id]||(a[t[e].id]=!0,t[e].source._jsPlumbGroup===n?(t[e].target._jsPlumbGroup!==n&&n.connections.source.push(t[e]),o[t[e].id]=n):t[e].target._jsPlumbGroup===n&&(n.connections.target.push(t[e]),s[t[e].id]=n))};u(r),u(i)}this.expandGroup=function(n,e){if(n=this.getGroup(n),null!=n&&n.collapsed){var o=n.getEl();if(h(n,!0),n.shouldProxy()){var s=function(t,e){for(var r=0;r<t.length;r++){var i=t[r];y(i,e,n)}};s(n.connections.source,0),s(n.connections.target,1)}n.collapsed=!1,t.addClass(o,i),t.removeClass(o,r),t.revalidate(o),this.repaintGroup(n),e||t.fire(g,{group:n})}},this.repaintGroup=function(n){n=this.getGroup(n);for(var e=n.getMembers(),r=0;r<e.length;r++)t.revalidate(e[r])},this.updateConnectionsForGroup=E,this.refreshAllGroups=function(){for(var n in e)E(e[n]),t.dragManager.updateOffsets(t.getId(e[n].getEl()))}},j=function(e,r){var i=this,l=r.el;this.getEl=function(){return l},this.id=r.id||n.uuid(),l._isJsPlumbGroup=!0;var f=this.getDragArea=function(){var t=e.getSelector(l,o);return t&&t.length>0?t[0]:l},d=!0===r.ghost,v=d||!0===r.constrain,g=!1!==r.revert,m=!0===r.orphan,b=!0===r.prune,_=!0===r.dropOverride,x=!1!==r.proxied,P=[];if(this.connections={source:[],target:[],internal:[]},this.getAnchor=function(t,n){return r.anchor||"Continuous"},this.getEndpoint=function(t,n){return r.endpoint||["Dot",{radius:10}]},this.collapsed=!1,!1!==r.draggable){var w={drag:function(){for(var t=0;t<P.length;t++)e.draw(P[t])},stop:function(t){e.fire(y,jsPlumb.extend(t,{group:i}))},scope:h};r.dragOptions&&t.jsPlumb.extend(w,r.dragOptions),e.draggable(r.el,w)}!1!==r.droppable&&e.droppable(r.el,{drop:function(t){var n=t.drag.el;if(!n._isJsPlumbGroup){var r=n._jsPlumbGroup;if(r!==i){if(null!=r&&r.overrideDrop(n,i))return;e.getGroupManager().addToGroup(i,n,!1)}}}});var C=function(t,n){for(var e=null==t.nodeType?t:[t],r=0;r<e.length;r++)n(e[r])};function E(t){return t.offsetParent}function j(t,n){var r=E(t),i=e.getSize(r),o=e.getSize(t),s=n[0],a=s+o[0],u=n[1],l=u+o[1];return a>0&&s<i[0]&&l>0&&u<i[1]}function S(t){var n=e.getId(t),r=e.getOffset(t);return t.parentNode.removeChild(t),e.getContainer().appendChild(t),e.setPosition(t,r),A(t),e.dragManager.clearParent(t,n),[n,r]}function D(t){var n=[];function r(t,n,r){var i=null;if(!j(t,[n,r])){var o=t._jsPlumbGroup;b?e.remove(t):i=S(t),o.remove(t)}return i}for(var i=0;i<t.selection.length;i++)n.push(r(t.selection[i][0],t.selection[i][1].left,t.selection[i][1].top));return 1===n.length?n[0]:n}function I(t){var n=e.getId(t);e.revalidate(t),e.dragManager.revalidateParent(t,n)}function A(t){t._katavorioDrag&&((b||m)&&t._katavorioDrag.off(a,D),b||m||!g||(t._katavorioDrag.off(u,I),t._katavorioDrag.setRevert(null)))}function k(t){t._katavorioDrag&&((b||m)&&t._katavorioDrag.on(a,D),v&&t._katavorioDrag.setConstrain(!0),d&&t._katavorioDrag.setUseGhostProxy(!0),b||m||!g||(t._katavorioDrag.on(u,I),t._katavorioDrag.setRevert((function(t,n){return!j(t,n)}))))}this.overrideDrop=function(t,n){return _&&(g||b||m)},this.add=function(t,n){var r=f();C(t,(function(t){if(null!=t._jsPlumbGroup){if(t._jsPlumbGroup===i)return;t._jsPlumbGroup.remove(t,!0,n,!1)}t._jsPlumbGroup=i,P.push(t),e.isAlreadyDraggable(t)&&k(t),t.parentNode!==r&&r.appendChild(t)})),e.getGroupManager().updateConnectionsForGroup(i)},this.remove=function(t,r,o,s,a){C(t,(function(t){if(t._jsPlumbGroup===i){if(delete t._jsPlumbGroup,n.removeWithFunction(P,(function(n){return n===t})),r)try{i.getDragArea().removeChild(t)}catch(u){jsPlumbUtil.log("Could not remove element from Group "+u)}if(A(t),!o){var s={group:i,el:t};a&&(s.targetGroup=a),e.fire(p,s)}}})),s||e.getGroupManager().updateConnectionsForGroup(i)},this.removeAll=function(t,n){for(var r=0,o=P.length;r<o;r++){var s=P[0];i.remove(s,t,n,!0),e.remove(s,!0)}P.length=0,e.getGroupManager().updateConnectionsForGroup(i)},this.orphanAll=function(){for(var t={},n=0;n<P.length;n++){var e=S(P[n]);t[e[0]]=e[1]}return P.length=0,t},this.getMembers=function(){return P},l[c]=this,e.bind(s,function(t){t.el._jsPlumbGroup===this&&k(t.el)}.bind(this)),this.shouldProxy=function(){return x},e.getGroupManager().addGroup(this)};e.prototype.addGroup=function(t){var n=this;if(n._groups=n._groups||{},null!=n._groups[t.id])throw new TypeError("cannot create Group ["+t.id+"]; a Group with that ID exists");if(null!=t.el[c])throw new TypeError("cannot create Group ["+t.id+"]; the given element is already a Group");var e=new j(n,t);return n._groups[e.id]=e,t.collapsed&&this.collapseGroup(e),e},e.prototype.addToGroup=function(t,n,e){var r=function(n){var r=this.getId(n);this.manage(r,n),this.getGroupManager().addToGroup(t,n,e)}.bind(this);if(Array.isArray(n))for(var i=0;i<n.length;i++)r(n[i]);else r(n)},e.prototype.removeFromGroup=function(t,n,e){this.getGroupManager().removeFromGroup(t,n,e)},e.prototype.removeGroup=function(t,n,e,r){return this.getGroupManager().removeGroup(t,n,e,r)},e.prototype.removeAllGroups=function(t,n,e){this.getGroupManager().removeAllGroups(t,n,e)},e.prototype.getGroup=function(t){return this.getGroupManager().getGroup(t)},e.prototype.getGroups=function(){return this.getGroupManager().getGroups()},e.prototype.expandGroup=function(t){this.getGroupManager().expandGroup(t)},e.prototype.collapseGroup=function(t){this.getGroupManager().collapseGroup(t)},e.prototype.repaintGroup=function(t){this.getGroupManager().repaintGroup(t)},e.prototype.toggleGroup=function(t){t=this.getGroupManager().getGroup(t),null!=t&&this.getGroupManager()[t.collapsed?"expandGroup":"collapseGroup"](t)},e.prototype.getGroupManager=function(){var t=this[l];return null==t&&(t=this[l]=new E(this)),t},e.prototype.removeGroupManager=function(){delete this[l]},e.prototype.getGroupFor=function(t){if(t=this.getElement(t),t)return t[c]}}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,r="Straight",i="Arc",o=function(t){this.type="Flowchart",t=t||{},t.stub=null==t.stub?30:t.stub;var e,o=n.Connectors.AbstractConnector.apply(this,arguments),s=null==t.midpoint?.5:t.midpoint,a=!0===t.alwaysRespectStubs,u=null,l=null,c=null!=t.cornerRadius?t.cornerRadius:0,h=(t.loopbackRadius,function(t){return t<0?-1:0===t?0:1}),f=function(t){return[h(t[2]-t[0]),h(t[3]-t[1])]},p=function(t,n,e,r){if(u!==n||l!==e){var i=null==u?r.sx:u,o=null==l?r.sy:l,s=i===n?"v":"h";u=n,l=e,t.push([i,o,n,e,s])}},d=function(t){return Math.sqrt(Math.pow(t[0]-t[2],2)+Math.pow(t[1]-t[3],2))},v=function(t){var n=[];return n.push.apply(n,t),n},g=function(t,n,e){for(var s,a,u,l=null,h=0;h<n.length-1;h++){if(l=l||v(n[h]),s=v(n[h+1]),a=f(l),u=f(s),c>0&&l[4]!==s[4]){var p=Math.min(d(l),d(s)),g=Math.min(c,p/2);l[2]-=a[0]*g,l[3]-=a[1]*g,s[0]+=u[0]*g,s[1]+=u[1]*g;var m=a[1]===u[0]&&1===u[0]||a[1]===u[0]&&0===u[0]&&a[0]!==u[1]||a[1]===u[0]&&-1===u[0],y=s[1]>l[3]?1:-1,b=s[0]>l[2]?1:-1,_=y===b,x=_&&m||!_&&!m?s[0]:l[2],P=_&&m||!_&&!m?l[3]:s[1];o.addSegment(t,r,{x1:l[0],y1:l[1],x2:l[2],y2:l[3]}),o.addSegment(t,i,{r:g,x1:l[2],y1:l[3],x2:s[0],y2:s[1],cx:x,cy:P,ac:m})}else{var w=l[2]===l[0]?0:l[2]>l[0]?e.lw/2:-e.lw/2,C=l[3]===l[1]?0:l[3]>l[1]?e.lw/2:-e.lw/2;o.addSegment(t,r,{x1:l[0]-w,y1:l[1]-C,x2:l[2]+w,y2:l[3]+C})}l=s}null!=s&&o.addSegment(t,r,{x1:s[0],y1:s[1],x2:s[2],y2:s[3]})};this._compute=function(t,n){e=[],u=null,l=null,null;var r=function(){return[t.startStubX,t.startStubY,t.endStubX,t.endStubY]},i={perpendicular:r,orthogonal:r,opposite:function(n){var e=t,r="x"===n?0:1,i={x:function(){return 1===e.so[r]&&(e.startStubX>e.endStubX&&e.tx>e.startStubX||e.sx>e.endStubX&&e.tx>e.sx)||-1===e.so[r]&&(e.startStubX<e.endStubX&&e.tx<e.startStubX||e.sx<e.endStubX&&e.tx<e.sx)},y:function(){return 1===e.so[r]&&(e.startStubY>e.endStubY&&e.ty>e.startStubY||e.sy>e.endStubY&&e.ty>e.sy)||-1===e.so[r]&&(e.startStubY<e.endStubY&&e.ty<e.startStubY||e.sy<e.endStubY&&e.ty<e.sy)}};return!a&&i[n]()?{x:[(t.sx+t.tx)/2,t.startStubY,(t.sx+t.tx)/2,t.endStubY],y:[t.startStubX,(t.sy+t.ty)/2,t.endStubX,(t.sy+t.ty)/2]}[n]:[t.startStubX,t.startStubY,t.endStubX,t.endStubY]}},c=i[t.anchorOrientation](t.sourceAxis),h="x"===t.sourceAxis?0:1,f="x"===t.sourceAxis?1:0,d=c[h],v=c[f],m=c[h+2],y=c[f+2];p(e,c[0],c[1],t);var b=t.startStubX+(t.endStubX-t.startStubX)*s,_=t.startStubY+(t.endStubY-t.startStubY)*s,x={x:[0,1],y:[1,0]},P={perpendicular:function(n){var e=t,r={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]},i={x:[[e.startStubX,e.endStubX],null,[e.endStubX,e.startStubX]],y:[[e.startStubY,e.endStubY],null,[e.endStubY,e.startStubY]]},o={x:[[b,e.startStubY],[b,e.endStubY]],y:[[e.startStubX,_],[e.endStubX,_]]},s={x:[[e.endStubX,e.startStubY]],y:[[e.startStubX,e.endStubY]]},a={x:[[e.startStubX,e.endStubY],[e.endStubX,e.endStubY]],y:[[e.endStubX,e.startStubY],[e.endStubX,e.endStubY]]},u={x:[[e.startStubX,_],[e.endStubX,_],[e.endStubX,e.endStubY]],y:[[b,e.startStubY],[b,e.endStubY],[e.endStubX,e.endStubY]]},l={x:[e.startStubY,e.endStubY],y:[e.startStubX,e.endStubX]},c=x[n][0],h=x[n][1],f=e.so[c]+1,p=e.to[h]+1,d=-1===e.to[h]&&l[n][1]<l[n][0]||1===e.to[h]&&l[n][1]>l[n][0],v=i[n][f][0],g=i[n][f][1],m=r[n][f][p];return e.segment===m[3]||e.segment===m[2]&&d?o[n]:e.segment===m[2]&&g<v?s[n]:e.segment===m[2]&&g>=v||e.segment===m[1]&&!d?u[n]:e.segment===m[0]||e.segment===m[1]&&d?a[n]:void 0},orthogonal:function(n,e,r,i,o){var s=t,a={x:-1===s.so[0]?Math.min(e,i):Math.max(e,i),y:-1===s.so[1]?Math.min(e,i):Math.max(e,i)}[n];return{x:[[a,r],[a,o],[i,o]],y:[[r,a],[o,a],[o,i]]}[n]},opposite:function(e,r,i,s){var a=t,u={x:"y",y:"x"}[e],l={x:"height",y:"width"}[e],c=a["is"+e.toUpperCase()+"GreaterThanStubTimes2"];if(n.sourceEndpoint.elementId===n.targetEndpoint.elementId){var f=i+(1-n.sourceEndpoint.anchor[u])*n.sourceInfo[l]+o.maxStub;return{x:[[r,f],[s,f]],y:[[f,r],[f,s]]}[e]}return!c||1===a.so[h]&&r>s||-1===a.so[h]&&r<s?{x:[[r,_],[s,_]],y:[[b,r],[b,s]]}[e]:1===a.so[h]&&r<s||-1===a.so[h]&&r>s?{x:[[b,a.sy],[b,a.ty]],y:[[a.sx,_],[a.tx,_]]}[e]:void 0}},w=P[t.anchorOrientation](t.sourceAxis,d,v,m,y);if(w)for(var C=0;C<w.length;C++)p(e,w[C][0],w[C][1],t);p(e,c[2],c[3],t),p(e,t.tx,t.ty,t),g(this,e,t)}};n.Connectors.Flowchart=o,e.extend(n.Connectors.Flowchart,n.Connectors.AbstractConnector)}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil;n.Connectors.AbstractBezierConnector=function(t){t=t||{};var e,r=!1!==t.showLoopback,i=(t.curviness,t.margin||5),o=(t.proximityLimit,t.orientation&&"clockwise"===t.orientation),s=t.loopbackRadius||25;return this._compute=function(t,n){var a=n.sourcePos,u=n.targetPos,l=Math.abs(a[0]-u[0]),c=Math.abs(a[1]-u[1]);if(r&&n.sourceEndpoint.elementId===n.targetEndpoint.elementId){!0;var h=n.sourcePos[0],f=n.sourcePos[1]-i,p=h,d=f-s,v=p-s,g=d-s;l=2*s,c=2*s,t.points[0]=v,t.points[1]=g,t.points[2]=l,t.points[3]=c,e.addSegment(this,"Arc",{loopback:!0,x1:h-v+4,y1:f-g,startAngle:0,endAngle:2*Math.PI,r:s,ac:!o,x2:h-v-4,y2:f-g,cx:p-v,cy:d-g})}else!1,this._computeBezier(t,n,a,u,l,c)},e=n.Connectors.AbstractConnector.apply(this,arguments),e},e.extend(n.Connectors.AbstractBezierConnector,n.Connectors.AbstractConnector);var r=function(t){t=t||{},this.type="Bezier";var e=n.Connectors.AbstractBezierConnector.apply(this,arguments),r=t.curviness||150,i=10;this.getCurviness=function(){return r},this._findControlPoint=function(t,n,e,o,s,a,u){var l=a[0]!==u[0]||a[1]===u[1],c=[];return l?(0===u[0]?c.push(e[0]<n[0]?t[0]+i:t[0]-i):c.push(t[0]+r*u[0]),0===u[1]?c.push(e[1]<n[1]?t[1]+i:t[1]-i):c.push(t[1]+r*a[1])):(0===a[0]?c.push(n[0]<e[0]?t[0]+i:t[0]-i):c.push(t[0]-r*a[0]),0===a[1]?c.push(n[1]<e[1]?t[1]+i:t[1]-i):c.push(t[1]+r*u[1])),c},this._computeBezier=function(t,n,r,i,o,s){var a,u,l=r[0]<i[0]?o:0,c=r[1]<i[1]?s:0,h=r[0]<i[0]?0:o,f=r[1]<i[1]?0:s;a=this._findControlPoint([l,c],r,i,n.sourceEndpoint,n.targetEndpoint,t.so,t.to),u=this._findControlPoint([h,f],i,r,n.targetEndpoint,n.sourceEndpoint,t.to,t.so),e.addSegment(this,"Bezier",{x1:l,y1:c,x2:h,y2:f,cp1x:a[0],cp1y:a[1],cp2x:u[0],cp2y:u[1]})}};n.Connectors.Bezier=r,e.extend(r,n.Connectors.AbstractBezierConnector)}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,r=function(t,n,e,r){return t<=e&&r<=n?1:t<=e&&n<=r?2:e<=t&&r>=n?3:4},i=function(t,n,e,r,i,o,s,a,u){return a<=u?[t,n]:1===e?r[3]<=0&&i[3]>=1?[t+(r[2]<.5?-1*o:o),n]:r[2]>=1&&i[2]<=0?[t,n+(r[3]<.5?-1*s:s)]:[t+-1*o,n+-1*s]:2===e?r[3]>=1&&i[3]<=0?[t+(r[2]<.5?-1*o:o),n]:r[2]>=1&&i[2]<=0?[t,n+(r[3]<.5?-1*s:s)]:[t+o,n+-1*s]:3===e?r[3]>=1&&i[3]<=0?[t+(r[2]<.5?-1*o:o),n]:r[2]<=0&&i[2]>=1?[t,n+(r[3]<.5?-1*s:s)]:[t+-1*o,n+-1*s]:4===e?r[3]<=0&&i[3]>=1?[t+(r[2]<.5?-1*o:o),n]:r[2]<=0&&i[2]>=1?[t,n+(r[3]<.5?-1*s:s)]:[t+o,n+-1*s]:void 0},o=function(t){t=t||{},this.type="StateMachine";var e,o=n.Connectors.AbstractBezierConnector.apply(this,arguments),s=t.curviness||10,a=t.margin||5,u=t.proximityLimit||80;t.orientation&&t.orientation;this._computeBezier=function(t,n,l,c,h,f){var p=n.sourcePos[0]<n.targetPos[0]?0:h,d=n.sourcePos[1]<n.targetPos[1]?0:f,v=n.sourcePos[0]<n.targetPos[0]?h:0,g=n.sourcePos[1]<n.targetPos[1]?f:0;0===n.sourcePos[2]&&(p-=a),1===n.sourcePos[2]&&(p+=a),0===n.sourcePos[3]&&(d-=a),1===n.sourcePos[3]&&(d+=a),0===n.targetPos[2]&&(v-=a),1===n.targetPos[2]&&(v+=a),0===n.targetPos[3]&&(g-=a),1===n.targetPos[3]&&(g+=a);var m,y,b,_,x=(p+v)/2,P=(d+g)/2,w=r(p,d,v,g),C=Math.sqrt(Math.pow(v-p,2)+Math.pow(g-d,2));e=i(x,P,w,n.sourcePos,n.targetPos,s,s,C,u),m=e[0],y=e[0],b=e[1],_=e[1],o.addSegment(this,"Bezier",{x1:v,y1:g,x2:p,y2:d,cp1x:m,cp1y:b,cp2x:y,cp2y:_})}};n.Connectors.StateMachine=o,e.extend(o,n.Connectors.AbstractBezierConnector)}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,r="Straight",i=function(t){this.type=r;var e=n.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(t,n){e.addSegment(this,r,{x1:t.sx,y1:t.sy,x2:t.startStubX,y2:t.startStubY}),e.addSegment(this,r,{x1:t.startStubX,y1:t.startStubY,x2:t.endStubX,y2:t.endStubY}),e.addSegment(this,r,{x1:t.endStubX,y1:t.endStubY,x2:t.tx,y2:t.ty})}};n.Connectors.Straight=i,e.extend(i,n.Connectors.AbstractConnector)}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,r={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},i="stroke-dasharray",o="dashstyle",s="linearGradient",a="radialGradient",u="defs",l="fill",c="stop",h="stroke",f="stroke-width",p="style",d="none",v="jsplumb_gradient_",g="strokeWidth",m={svg:"http://www.w3.org/2000/svg"},y=function(t,n){for(var e in n)t.setAttribute(e,""+n[e])},b=function(t,e){return e=e||{},e.version="1.1",e.xmlns=m.svg,n.createElementNS(m.svg,t,null,null,e)},_=function(t){return"position:absolute;left:"+t[0]+"px;top:"+t[1]+"px"},x=function(t){for(var n=t.querySelectorAll(" defs,linearGradient,radialGradient"),e=0;e<n.length;e++)n[e].parentNode.removeChild(n[e])},P=function(t,n,e,r,i){var o,f=v+i._jsPlumb.instance.idstamp();x(t),o=e.gradient.offset?b(a,{id:f}):b(s,{id:f,gradientUnits:"userSpaceOnUse"});var p=b(u);t.appendChild(p),p.appendChild(o);for(var d=0;d<e.gradient.stops.length;d++){var g=1===i.segment||2===i.segment?d:e.gradient.stops.length-1-d,m=e.gradient.stops[g][1],y=b(c,{offset:Math.floor(100*e.gradient.stops[d][0])+"%","stop-color":m});o.appendChild(y)}var _=e.stroke?h:l;n.setAttribute(_,"url(#"+f+")")},w=function(t,n,e,s,a){if(n.setAttribute(l,e.fill?e.fill:d),n.setAttribute(h,e.stroke?e.stroke:d),e.gradient?P(t,n,e,s,a):(x(t),n.setAttribute(p,"")),e.strokeWidth&&n.setAttribute(f,e.strokeWidth),e[o]&&e[g]&&!e[i]){var u=-1===e[o].indexOf(",")?" ":",",c=e[o].split(u),v="";c.forEach((function(t){v+=Math.floor(t*e.strokeWidth)+u})),n.setAttribute(i,v)}else e[i]&&n.setAttribute(i,e[i]);for(var m in r)e[m]&&n.setAttribute(r[m],e[m])},C=function(t,n,e){t.childNodes.length>e?t.insertBefore(n,t.childNodes[e]):t.appendChild(n)};e.svg={node:b,attr:y,pos:_};var E=function(t){var r=t.pointerEventsSpec||"all",i={};n.jsPlumbUIComponent.apply(this,t.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var o=t.cssClass+" "+(t.originalArgs[0].cssClass||""),s={style:"",width:0,height:0,"pointer-events":r,position:"absolute"};this.svg=b("svg",s),t.useDivWrapper?(this.canvas=n.createElement("div",{position:"absolute"}),e.sizeElement(this.canvas,0,0,1,1),this.canvas.className=o):(y(this.svg,{class:o}),this.canvas=this.svg),t._jsPlumb.appendElement(this.canvas,t.originalArgs[0].parent),t.useDivWrapper&&this.canvas.appendChild(this.svg);var a=[this.canvas];return this.getDisplayElements=function(){return a},this.appendDisplayElement=function(t){a.push(t)},this.paint=function(n,r,o){if(null!=n){var s,a=[this.x,this.y],u=[this.w,this.h];null!=o&&(o.xmin<0&&(a[0]+=o.xmin),o.ymin<0&&(a[1]+=o.ymin),u[0]=o.xmax+(o.xmin<0?-o.xmin:0),u[1]=o.ymax+(o.ymin<0?-o.ymin:0)),t.useDivWrapper?(e.sizeElement(this.canvas,a[0],a[1],u[0],u[1]),a[0]=0,a[1]=0,s=_([0,0])):s=_([a[0],a[1]]),i.paint.apply(this,arguments),y(this.svg,{style:s,width:u[0]||0,height:u[1]||0})}},{renderer:i}};e.extend(E,n.jsPlumbUIComponent,{cleanup:function(t){t||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(t){var n=t.getContainer();this.canvas&&null==this.canvas.parentNode&&n.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&n.appendChild(this.bgCanvas)},setVisible:function(t){this.canvas&&(this.canvas.style.display=t?"block":"none")}}),n.ConnectorRenderers.svg=function(t){var e=this,r=E.apply(this,[{cssClass:t._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:t._jsPlumb}]);r.renderer.paint=function(r,i,o){var s=e.getSegments(),a="",u=[0,0];if(o.xmin<0&&(u[0]=-o.xmin),o.ymin<0&&(u[1]=-o.ymin),s.length>0){a=e.getPathData();var l={d:a,transform:"translate("+u[0]+","+u[1]+")","pointer-events":t["pointer-events"]||"visibleStroke"},c=null,h=[e.x,e.y,e.w,e.h];if(r.outlineStroke){var f=r.outlineWidth||1,p=r.strokeWidth+2*f;c=n.extend({},r),delete c.gradient,c.stroke=r.outlineStroke,c.strokeWidth=p,null==e.bgPath?(e.bgPath=b("path",l),n.addClass(e.bgPath,n.connectorOutlineClass),C(e.svg,e.bgPath,0)):y(e.bgPath,l),w(e.svg,e.bgPath,c,h,e)}null==e.path?(e.path=b("path",l),C(e.svg,e.path,r.outlineStroke?1:0)):y(e.path,l),w(e.svg,e.path,r,h,e)}}},e.extend(n.ConnectorRenderers.svg,E);var j=n.SvgEndpoint=function(t){var e=E.apply(this,[{cssClass:t._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:t._jsPlumb}]);e.renderer.paint=function(t){var e=n.extend({},t);e.outlineStroke&&(e.stroke=e.outlineStroke),null==this.node?(this.node=this.makeNode(e),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),w(this.svg,this.node,e,[this.x,this.y,this.w,this.h],this),_(this.node,[this.x,this.y])}.bind(this)};e.extend(j,E),n.Endpoints.svg.Dot=function(){n.Endpoints.Dot.apply(this,arguments),j.apply(this,arguments),this.makeNode=function(t){return b("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(t){y(t,{cx:this.w/2,cy:this.h/2,r:this.radius})}},e.extend(n.Endpoints.svg.Dot,[n.Endpoints.Dot,j]),n.Endpoints.svg.Rectangle=function(){n.Endpoints.Rectangle.apply(this,arguments),j.apply(this,arguments),this.makeNode=function(t){return b("rect",{width:this.w,height:this.h})},this.updateNode=function(t){y(t,{width:this.w,height:this.h})}},e.extend(n.Endpoints.svg.Rectangle,[n.Endpoints.Rectangle,j]),n.Endpoints.svg.Image=n.Endpoints.Image,n.Endpoints.svg.Blank=n.Endpoints.Blank,n.Overlays.svg.Label=n.Overlays.Label,n.Overlays.svg.Custom=n.Overlays.Custom;var S=function(t,e){t.apply(this,e),n.jsPlumbUIComponent.apply(this,e),this.isAppendedAtTopLevel=!1;this.path=null,this.paint=function(t,n){if(t.component.svg&&n){null==this.path&&(this.path=b("path",{"pointer-events":"all"}),t.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,t.component),this.canvas=t.component.svg);var i=e&&1===e.length&&e[0].cssClass||"",o=[0,0];n.xmin<0&&(o[0]=-n.xmin),n.ymin<0&&(o[1]=-n.ymin),y(this.path,{d:r(t.d),class:i,stroke:t.stroke?t.stroke:null,fill:t.fill?t.fill:null,transform:"translate("+o[0]+","+o[1]+")"})}};var r=function(t){return isNaN(t.cxy.x)||isNaN(t.cxy.y)?"":"M"+t.hxy.x+","+t.hxy.y+" L"+t.tail[0].x+","+t.tail[0].y+" L"+t.cxy.x+","+t.cxy.y+" L"+t.tail[1].x+","+t.tail[1].y+" L"+t.hxy.x+","+t.hxy.y};this.transfer=function(t){t.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),t.canvas.appendChild(this.path))}},D={cleanup:function(t){null!=this.path&&(t?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(t,n){this.path&&n.canvas&&n.canvas.appendChild(this.path)},setVisible:function(t){null!=this.path&&(this.path.style.display=t?"block":"none")}};e.extend(S,[n.jsPlumbUIComponent,n.Overlays.AbstractOverlay]),n.Overlays.svg.Arrow=function(){S.apply(this,[n.Overlays.Arrow,arguments])},e.extend(n.Overlays.svg.Arrow,[n.Overlays.Arrow,S],D),n.Overlays.svg.PlainArrow=function(){S.apply(this,[n.Overlays.PlainArrow,arguments])},e.extend(n.Overlays.svg.PlainArrow,[n.Overlays.PlainArrow,S],D),n.Overlays.svg.Diamond=function(){S.apply(this,[n.Overlays.Diamond,arguments])},e.extend(n.Overlays.svg.Diamond,[n.Overlays.Diamond,S],D),n.Overlays.svg.GuideLines=function(){var t,e,r=null,i=this;n.Overlays.GuideLines.apply(this,arguments),this.paint=function(n,s){null==r&&(r=b("path"),n.connector.svg.appendChild(r),i.attachListeners(r,n.connector),i.attachListeners(r,i),t=b("path"),n.connector.svg.appendChild(t),i.attachListeners(t,n.connector),i.attachListeners(t,i),e=b("path"),n.connector.svg.appendChild(e),i.attachListeners(e,n.connector),i.attachListeners(e,i));var a=[0,0];s.xmin<0&&(a[0]=-s.xmin),s.ymin<0&&(a[1]=-s.ymin),y(r,{d:o(n.head,n.tail),stroke:"red",fill:null,transform:"translate("+a[0]+","+a[1]+")"}),y(t,{d:o(n.tailLine[0],n.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+a[0]+","+a[1]+")"}),y(e,{d:o(n.headLine[0],n.headLine[1]),stroke:"green",fill:null,transform:"translate("+a[0]+","+a[1]+")"})};var o=function(t,n){return"M "+t.x+","+t.y+" L"+n.x+","+n.y}},e.extend(n.Overlays.svg.GuideLines,n.Overlays.GuideLines)}.call("undefined"!==typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,r=t.Katavorio,i=t.Biltong,o=function(n){var e=n._mottle;return e||(e=n._mottle=new t.Mottle),e},s=function(t,e){e=e||"main";var o="_katavorio_"+e,s=t[o],a=t.getEventManager();return s||(s=new r({bind:a.on,unbind:a.off,getSize:n.getSize,getConstrainingRectangle:function(t){return[t.parentNode.scrollWidth,t.parentNode.scrollHeight]},getPosition:function(n,e){var r=t.getOffset(n,e,n._katavorioDrag?n.offsetParent:null);return[r.left,r.top]},setPosition:function(t,n){t.style.left=n[0]+"px",t.style.top=n[1]+"px"},addClass:n.addClass,removeClass:n.removeClass,intersects:i.intersects,indexOf:function(t,n){return t.indexOf(n)},scope:t.getDefaultScope(),css:{noSelect:t.dragSelectClass,droppable:"jtk-droppable",draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}}),s.setZoom(t.getZoom()),t[o]=s,t.bind("zoom",s.setZoom)),s},a=function(t){var n=t.el._jsPlumbDragOptions,e=!0;return n.canDrag&&(e=n.canDrag()),e&&(this.setHoverSuspended(!0),this.select({source:t.el}).addClass(this.elementDraggingClass+" "+this.sourceElementDraggingClass,!0),this.select({target:t.el}).addClass(this.elementDraggingClass+" "+this.targetElementDraggingClass,!0),this.setConnectionBeingDragged(!0)),e},u=function(t){var n=this.getUIPosition(arguments,this.getZoom());if(null!=n){var e=t.el._jsPlumbDragOptions;this.draw(t.el,n,null,!0),e._dragging&&this.addClass(t.el,"jtk-dragged"),e._dragging=!0}},l=function(t){for(var n,e=t.selection,r=function(t){null!=t[1]&&(n=this.getUIPosition([{el:t[2].el,pos:[t[1].left,t[1].top]}]),this.draw(t[2].el,n)),null!=t[0]._jsPlumbDragOptions&&delete t[0]._jsPlumbDragOptions._dragging,this.removeClass(t[0],"jtk-dragged"),this.select({source:t[2].el}).removeClass(this.elementDraggingClass+" "+this.sourceElementDraggingClass,!0),this.select({target:t[2].el}).removeClass(this.elementDraggingClass+" "+this.targetElementDraggingClass,!0),this.getDragManager().dragEnded(t[2].el)}.bind(this),i=0;i<e.length;i++)r(e[i]);this.setHoverSuspended(!1),this.setConnectionBeingDragged(!1)},c=function(t,n){var r=function(r){if(null!=n[r]){if(e.isString(n[r])){var i=n[r].match(/-=/)?-1:1,o=n[r].substring(2);return t[r]+i*o}return n[r]}return t[r]};return[r("left"),r("top")]},h=function(t,n){if(null==n)return[0,0];var e=g(n),r=v(e,0);return[r[t+"X"],r[t+"Y"]]},f=h.bind(this,"page"),p=h.bind(this,"screen"),d=h.bind(this,"client"),v=function(t,n){return t.item?t.item(n):t[n]},g=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},m=function(t){var n={},e=[],r={},i={},o={};this.register=function(s){var a,u=t.getId(s);n[u]||(n[u]=s,e.push(s),r[u]={});var l=function(n){if(n)for(var e=0;e<n.childNodes.length;e++)if(3!==n.childNodes[e].nodeType&&8!==n.childNodes[e].nodeType){var c=jsPlumb.getElement(n.childNodes[e]),h=t.getId(n.childNodes[e],null,!0);if(h&&i[h]&&i[h]>0){a||(a=t.getOffset(s));var f=t.getOffset(c);r[u][h]={id:h,offset:{left:f.left-a.left,top:f.top-a.top}},o[h]=u}l(n.childNodes[e])}};l(s)},this.updateOffsets=function(n,e){if(null!=n){e=e||{};var i,s=jsPlumb.getElement(n),a=t.getId(s),u=r[a];if(u)for(var l in u)if(u.hasOwnProperty(l)){var c=jsPlumb.getElement(l),h=e[l]||t.getOffset(c);if(null==c.offsetParent&&null!=r[a][l])continue;i||(i=t.getOffset(s)),r[a][l]={id:l,offset:{left:h.left-i.left,top:h.top-i.top}},o[l]=a}}},this.endpointAdded=function(e,s){s=s||t.getId(e);var a=document.body,u=e.parentNode;i[s]=i[s]?i[s]+1:1;while(null!=u&&u!==a){var l=t.getId(u,null,!0);if(l&&n[l]){var c=t.getOffset(u);if(null==r[l][s]){var h=t.getOffset(e);r[l][s]={id:s,offset:{left:h.left-c.left,top:h.top-c.top}},o[s]=l}break}u=u.parentNode}},this.endpointDeleted=function(t){if(i[t.elementId]&&(i[t.elementId]--,i[t.elementId]<=0))for(var n in r)r.hasOwnProperty(n)&&r[n]&&(delete r[n][t.elementId],delete o[t.elementId])},this.changeId=function(t,n){r[n]=r[t],r[t]={},o[n]=o[t],o[t]=null},this.getElementsForDraggable=function(t){return r[t]},this.elementRemoved=function(t){var n=o[t];n&&(delete r[n][t],delete o[t])},this.reset=function(){n={},e=[],r={},i={}},this.dragEnded=function(n){if(null!=n.offsetParent){var e=t.getId(n),r=o[e];r&&this.updateOffsets(r)}},this.setParent=function(n,e,i,s,a){var u=o[e];r[s]||(r[s]={});var l=t.getOffset(i),c=a||t.getOffset(n);u&&r[u]&&delete r[u][e],r[s][e]={id:e,offset:{left:c.left-l.left,top:c.top-l.top}},o[e]=s},this.clearParent=function(t,n){var e=o[n];e&&(delete r[e][n],delete o[n])},this.revalidateParent=function(n,e,r){var i=o[e];if(i){var s={};s[e]=r,this.updateOffsets(i,s),t.revalidate(i)}},this.getDragAncestor=function(n){var e=jsPlumb.getElement(n),r=t.getId(e),i=o[r];return i?jsPlumb.getElement(i):null}},y=function(t,n,r){n=e.fastTrim(n),"undefined"!==typeof t.className.baseVal?t.className.baseVal=n:t.className=n;try{var i=t.classList;if(null!=i){while(i.length>0)i.remove(i.item(0));for(var o=0;o<r.length;o++)r[o]&&i.add(r[o])}}catch(s){e.log("JSPLUMB: cannot set class list",s)}},b=function(t){return"undefined"===typeof t.className.baseVal?t.className:t.className.baseVal},_=function(t,n,r){n=null==n?[]:e.isArray(n)?n:n.split(/\s+/),r=null==r?[]:e.isArray(r)?r:r.split(/\s+/);var i=b(t),o=i.split(/\s+/),s=function(t,n){for(var e=0;e<n.length;e++)if(t)-1===o.indexOf(n[e])&&o.push(n[e]);else{var r=o.indexOf(n[e]);-1!==r&&o.splice(r,1)}};s(!0,n),s(!1,r),y(t,o.join(" "),o)};t.jsPlumb.extend(t.jsPlumbInstance.prototype,{headless:!1,pageLocation:f,screenLocation:p,clientLocation:d,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new m(this)),this.dragManager},recalculateOffsets:function(t){this.getDragManager().updateOffsets(t)},createElement:function(t,n,e,r){return this.createElementNS(null,t,n,e,r)},createElementNS:function(t,n,e,r,i){var o,s=null==t?document.createElement(n):document.createElementNS(t,n);for(o in e=e||{},e)s.style[o]=e[o];for(o in r&&(s.className=r),i=i||{},i)s.setAttribute(o,""+i[o]);return s},getAttribute:function(t,n){return null!=t.getAttribute?t.getAttribute(n):null},setAttribute:function(t,n,e){null!=t.setAttribute&&t.setAttribute(n,e)},setAttributes:function(t,n){for(var e in n)n.hasOwnProperty(e)&&t.setAttribute(e,n[e])},appendToRoot:function(t){document.body.appendChild(t)},getRenderModes:function(){return["svg"]},getClass:b,addClass:function(t,n){jsPlumb.each(t,(function(t){_(t,n)}))},hasClass:function(t,n){return t=jsPlumb.getElement(t),t.classList?t.classList.contains(n):-1!==b(t).indexOf(n)},removeClass:function(t,n){jsPlumb.each(t,(function(t){_(t,null,n)}))},toggleClass:function(t,n){jsPlumb.hasClass(t,n)?jsPlumb.removeClass(t,n):jsPlumb.addClass(t,n)},updateClasses:function(t,n,e){jsPlumb.each(t,(function(t){_(t,n,e)}))},setClass:function(t,n){null!=n&&jsPlumb.each(t,(function(t){y(t,n,n.split(/\s+/))}))},setPosition:function(t,n){t.style.left=n.left+"px",t.style.top=n.top+"px"},getPosition:function(t){var n=function(n){var e=t.style[n];return e?e.substring(0,e.length-2):0};return{left:n("left"),top:n("top")}},getStyle:function(t,n){return"undefined"!==typeof window.getComputedStyle?getComputedStyle(t,null).getPropertyValue(n):t.currentStyle[n]},getSelector:function(t,n){var e=null;return e=1===arguments.length?null!=t.nodeType?t:document.querySelectorAll(t):t.querySelectorAll(n),e},getOffset:function(t,n,e){t=jsPlumb.getElement(t),e=e||this.getContainer();var r={left:t.offsetLeft,top:t.offsetTop},i=n||null!=e&&t!==e&&t.offsetParent!==e?t.offsetParent:null,o=function(t){null!=t&&t!==document.body&&(t.scrollTop>0||t.scrollLeft>0)&&(r.left-=t.scrollLeft,r.top-=t.scrollTop)}.bind(this);while(null!=i)r.left+=i.offsetLeft,r.top+=i.offsetTop,o(i),i=n?i.offsetParent:i.offsetParent===e?null:i.offsetParent;if(null!=e&&!n&&(e.scrollTop>0||e.scrollLeft>0)){var s=null!=t.offsetParent?this.getStyle(t.offsetParent,"position"):"static",a=this.getStyle(t,"position");"absolute"!==a&&"fixed"!==a&&"absolute"!==s&&"fixed"!==s&&(r.left-=e.scrollLeft,r.top-=e.scrollTop)}return r},getPositionOnElement:function(t,n,e){var r="undefined"!==typeof n.getBoundingClientRect?n.getBoundingClientRect():{left:0,top:0,width:0,height:0},i=document.body,o=document.documentElement,s=window.pageYOffset||o.scrollTop||i.scrollTop,a=window.pageXOffset||o.scrollLeft||i.scrollLeft,u=o.clientTop||i.clientTop||0,l=o.clientLeft||i.clientLeft||0,c=0,h=0,f=r.top+s-u+c*e,p=r.left+a-l+h*e,d=jsPlumb.pageLocation(t),v=r.width||n.offsetWidth*e,g=r.height||n.offsetHeight*e,m=(d[0]-p)/v,y=(d[1]-f)/g;return[m,y]},getAbsolutePosition:function(t){var n=function(n){var e=t.style[n];if(e)return parseFloat(e.substring(0,e.length-2))};return[n("left"),n("top")]},setAbsolutePosition:function(t,n,e,r){e?this.animate(t,{left:"+="+(n[0]-e[0]),top:"+="+(n[1]-e[1])},r):(t.style.left=n[0]+"px",t.style.top=n[1]+"px")},getSize:function(t){return[t.offsetWidth,t.offsetHeight]},getWidth:function(t){return t.offsetWidth},getHeight:function(t){return t.offsetHeight},getRenderMode:function(){return"svg"},draggable:function(t,n){var r;return t=e.isArray(t)||null!=t.length&&!e.isString(t)?t:[t],Array.prototype.slice.call(t).forEach(function(t){r=this.info(t),r.el&&this._initDraggableIfNecessary(r.el,!0,n,r.id,!0)}.bind(this)),this},snapToGrid:function(t,n,e){var r=[],i=function(t){var i=this.info(t);if(null!=i.el&&i.el._katavorioDrag){var o=i.el._katavorioDrag.snap(n,e);this.revalidate(i.el),r.push([i.el,o])}}.bind(this);if(1===arguments.length||3===arguments.length)i(t,n,e);else{var o=this.getManagedElements();for(var s in o)i(s,arguments[0],arguments[1])}return r},initDraggable:function(t,n,e){s(this,e).draggable(t,n),t._jsPlumbDragOptions=n},destroyDraggable:function(t,n){s(this,n).destroyDraggable(t),delete t._jsPlumbDragOptions},unbindDraggable:function(t,n,e,r){s(this,r).destroyDraggable(t,n,e)},setDraggable:function(t,n){return jsPlumb.each(t,function(t){this.isDragSupported(t)&&(this._draggableStates[this.getAttribute(t,"id")]=n,this.setElementDraggable(t,n))}.bind(this))},_draggableStates:{},toggleDraggable:function(t){var n;return jsPlumb.each(t,function(t){var e=this.getAttribute(t,"id");return n=null!=this._draggableStates[e]&&this._draggableStates[e],n=!n,this._draggableStates[e]=n,this.setDraggable(t,n),n}.bind(this)),n},_initDraggableIfNecessary:function(t,n,r,i,o){if(!jsPlumb.headless){var s=null!=n&&n;if(s&&jsPlumb.isDragSupported(t,this)){var c=r||this.Defaults.DragOptions;if(c=jsPlumb.extend({},c),jsPlumb.isAlreadyDraggable(t,this))r.force&&this.initDraggable(t,c);else{var h=jsPlumb.dragEvents.drag,f=jsPlumb.dragEvents.stop,p=jsPlumb.dragEvents.start;this.manage(i,t),c[p]=e.wrap(c[p],a.bind(this)),c[h]=e.wrap(c[h],u.bind(this)),c[f]=e.wrap(c[f],l.bind(this));var d=this.getId(t);this._draggableStates[d]=!0;var v=this._draggableStates[d];c.disabled=null!=v&&!v,this.initDraggable(t,c),this.getDragManager().register(t),o&&this.fire("elementDraggable",{el:t,options:c})}}}},animationSupported:!0,getElement:function(t){return null==t?null:(t="string"===typeof t?t:null!=t.length&&null==t.enctype?t[0]:t,"string"===typeof t?document.getElementById(t):t)},removeElement:function(t){s(this).elementRemoved(t),this.getEventManager().remove(t)},doAnimate:function(t,e,r){r=r||{};var i=this.getOffset(t),o=c(i,e),s=o[0]-i.left,a=o[1]-i.top,u=r.duration||250,l=15,h=u/l,f=l/u*s,p=l/u*a,d=0,v=setInterval((function(){n.setPosition(t,{left:i.left+f*(d+1),top:i.top+p*(d+1)}),null!=r.step&&r.step(d,Math.ceil(h)),d++,d>=h&&(window.clearInterval(v),null!=r.complete&&r.complete())}),l)},destroyDroppable:function(t,n){s(this,n).destroyDroppable(t)},unbindDroppable:function(t,n,e,r){s(this,r).destroyDroppable(t,n,e)},droppable:function(t,n){var r;return t=e.isArray(t)||null!=t.length&&!e.isString(t)?t:[t],n=n||{},n.allowLoopback=!1,Array.prototype.slice.call(t).forEach(function(t){r=this.info(t),r.el&&this.initDroppable(r.el,n)}.bind(this)),this},initDroppable:function(t,n,e){s(this,e).droppable(t,n)},isAlreadyDraggable:function(t){return null!=t._katavorioDrag},isDragSupported:function(t,n){return!0},isDropSupported:function(t,n){return!0},isElementDraggable:function(t){return t=n.getElement(t),t._katavorioDrag&&t._katavorioDrag.isEnabled()},getDragObject:function(t){return t[0].drag.getDragElement()},getDragScope:function(t){return t._katavorioDrag&&t._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(t){return t[0].e},getUIPosition:function(t,n){var e=t[0].el;if(null==e.offsetParent)return null;var r=t[0].finalPos||t[0].pos,i={left:r[0],top:r[1]};if(e._katavorioDrag&&e.offsetParent!==this.getContainer()){var o=this.getOffset(e.offsetParent);i.left+=o.left,i.top+=o.top}return i},setDragFilter:function(t,n,e){t._katavorioDrag&&t._katavorioDrag.setFilter(n,e)},setElementDraggable:function(t,e){t=n.getElement(t),t._katavorioDrag&&t._katavorioDrag.setEnabled(e)},setDragScope:function(t,n){t._katavorioDrag&&t._katavorioDrag.k.setDragScope(t,n)},setDropScope:function(t,n){t._katavorioDrop&&t._katavorioDrop.length>0&&t._katavorioDrop[0].k.setDropScope(t,n)},addToPosse:function(t,e){var r=Array.prototype.slice.call(arguments,1),i=s(this);n.each(t,(function(t){t=[n.getElement(t)],t.push.apply(t,r),i.addToPosse.apply(i,t)}))},setPosse:function(t,e){var r=Array.prototype.slice.call(arguments,1),i=s(this);n.each(t,(function(t){t=[n.getElement(t)],t.push.apply(t,r),i.setPosse.apply(i,t)}))},removeFromPosse:function(t,e){var r=Array.prototype.slice.call(arguments,1),i=s(this);n.each(t,(function(t){t=[n.getElement(t)],t.push.apply(t,r),i.removeFromPosse.apply(i,t)}))},removeFromAllPosses:function(t){var e=s(this);n.each(t,(function(t){e.removeFromAllPosses(n.getElement(t))}))},setPosseState:function(t,e,r){var i=s(this);n.each(t,(function(t){i.setPosseState(n.getElement(t),e,r)}))},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(t){t._katavorioDrag&&t._katavorioDrag.abort()},addToDragSelection:function(t){var n=this.getElement(t);null==n||!n._isJsPlumbGroup&&null!=n._jsPlumbGroup||s(this).select(t)},removeFromDragSelection:function(t){s(this).deselect(t)},getDragSelection:function(){return s(this).getSelection()},clearDragSelection:function(){s(this).deselectAll()},trigger:function(t,n,e,r){this.getEventManager().trigger(t,n,e,r)},doReset:function(){for(var t in this)0===t.indexOf("_katavorio_")&&this[t].reset()},getEventManager:function(){return o(this)},on:function(t,n,e){return this.getEventManager().on.apply(this,arguments),this},off:function(t,n,e){return this.getEventManager().off.apply(this,arguments),this}});var x=function(t){var n=function(){/complete|loaded|interactive/.test(document.readyState)&&"undefined"!==typeof document.body&&null!=document.body?t():setTimeout(n,9)};n()};x(n.init)}.call("undefined"!==typeof window?window:this)},"79dd":function(t,n,e){var r=e("91fe"),i=e("ee6f"),o=e("16e5"),s=e("f30e"),a=s((function(){o(1)}));r({target:"Object",stat:!0,forced:a},{keys:function(t){return o(i(t))}})},"7a23":function(t,n,e){var r=e("f30e");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"7dc7":function(t,n,e){var r=e("d68d");t.exports=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"81a0":function(t,n,e){var r=e("67ea"),i=e("21d4");t.exports=function(t,n){var e=t.exec;if("function"===typeof e){var o=e.call(t,n);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,n)}},"86dd":function(t,n,e){"use strict";var r=e("91fe"),i=e("407d").filter,o=e("b1a1"),s=e("6885"),a=o("filter"),u=s("filter");r({target:"Array",proto:!0,forced:!a||!u},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"88b4":function(t,n,e){var r=e("7a23"),i=e("f30e"),o=e("032e");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"8bbf":function(n,e){n.exports=t},"8c47":function(t,n,e){var r=e("fee7"),i=e("3193");t.exports=function(t){return r(i(t))}},"91fe":function(t,n,e){var r=e("d5dc"),i=e("4aef").f,o=e("2ba5"),s=e("3d8a"),a=e("200e"),u=e("f69c"),l=e("12d9");t.exports=function(t,n){var e,c,h,f,p,d,v=t.target,g=t.global,m=t.stat;if(c=g?r:m?r[v]||a(v,{}):(r[v]||{}).prototype,c)for(h in n){if(p=n[h],t.noTargetGet?(d=i(c,h),f=d&&d.value):f=c[h],e=l(g?h:v+(m?".":"#")+h,t.forced),!e&&void 0!==f){if(typeof p===typeof f)continue;u(p,f)}(t.sham||f&&f.sham)&&o(p,"sham",!0),s(c,h,p,t)}}},"94d7":function(t,n,e){var r=e("c223").f,i=e("f28d"),o=e("57c4"),s=o("toStringTag");t.exports=function(t,n,e){t&&!i(t=e?t:t.prototype,s)&&r(t,s,{configurable:!0,value:n})}},"9a14":function(t,n,e){var r=e("d5dc"),i=e("41f6"),o=e("021b"),s=e("2ba5");for(var a in i){var u=r[a],l=u&&u.prototype;if(l&&l.forEach!==o)try{s(l,"forEach",o)}catch(c){l.forEach=o}}},"9db6":function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+r).toString(36)}},a406:function(t,n,e){var r=e("df50");t.exports=r("navigator","userAgent")||""},a8c9:function(t,n,e){var r=e("67ea");t.exports=Array.isArray||function(t){return"Array"==r(t)}},a9f2:function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},ac83:function(t,n,e){var r=e("d68d");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},aec8:function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},af82:function(t,n,e){"use strict";var r=e("91fe"),i=e("021b");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},b1a1:function(t,n,e){var r=e("f30e"),i=e("57c4"),o=e("bf98"),s=i("species");t.exports=function(t){return o>=51||!r((function(){var n=[],e=n.constructor={};return e[s]=function(){return{foo:1}},1!==n[t](Boolean).foo}))}},b3f9:function(t,n,e){"use strict";var r=e("91fe"),i=e("21d4");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},b59d:function(t,n){function e(){this.x=0,this.y=0,this.scale=1}t.exports=e},b888:function(t,n,e){(function(n){function e(t,n,e){"object"!==typeof e&&(e={});var o,s,a,u,l,c,h,f,p,d,v="number"===typeof e.minVelocity?e.minVelocity:5,g="number"===typeof e.amplitude?e.amplitude:.25,m="function"===typeof e.cancelAnimationFrame?e.cancelAnimationFrame:r(),y="function"===typeof e.requestAnimationFrame?e.requestAnimationFrame:i(),b=342;return{start:x,stop:w,cancel:_};function _(){m(a),m(d)}function x(){o=t(),c=p=u=h=0,s=new Date,m(a),m(d),a=y(P)}function P(){var n=Date.now(),e=n-s;s=n;var r=t(),i=r.x-o.x,l=r.y-o.y;o=r;var c=1e3/(1+e);u=.8*i*c+.2*u,h=.8*l*c+.2*h,a=y(P)}function w(){m(a),m(d);var n=t();l=n.x,f=n.y,s=Date.now(),(u<-v||u>v)&&(c=g*u,l+=c),(h<-v||h>v)&&(p=g*h,f+=p),d=y(C)}function C(){var t=Date.now()-s,e=!1,r=0,i=0;c&&(r=-c*Math.exp(-t/b),r>.5||r<-.5?e=!0:r=c=0),p&&(i=-p*Math.exp(-t/b),i>.5||i<-.5?e=!0:i=p=0),e&&(n(l+r,f+i),d=y(C))}}function r(){return"function"===typeof n.cancelAnimationFrame?n.cancelAnimationFrame:clearTimeout}function i(){return"function"===typeof n.requestAnimationFrame?n.requestAnimationFrame:function(t){return setTimeout(t,16)}}t.exports=e}).call(this,e("5243"))},bf98:function(t,n,e){var r,i,o=e("d5dc"),s=e("a406"),a=o.process,u=a&&a.versions,l=u&&u.v8;l?(r=l.split("."),i=r[0]+r[1]):s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=r[1]))),t.exports=i&&+i},c0aa:function(t,n,e){var r=e("2a2f"),i=e("f28d"),o=e("7287"),s=e("c223").f;t.exports=function(t){var n=r.Symbol||(r.Symbol={});i(n,t)||s(n,t,{value:o.f(t)})}},c223:function(t,n,e){var r=e("7a23"),i=e("88b4"),o=e("ac83"),s=e("7dc7"),a=Object.defineProperty;n.f=r?a:function(t,n,e){if(o(t),n=s(n,!0),o(e),i)try{return a(t,n,e)}catch(r){}if("get"in e||"set"in e)throw TypeError("Accessors not supported");return"value"in e&&(t[n]=e.value),t}},c49e:function(t,n,e){var r=e("df50");t.exports=r("document","documentElement")},c85c:function(t,n,e){var r=e("d5dc"),i=e("200e"),o="__core-js_shared__",s=r[o]||i(o,{});t.exports=s},ca57:function(t,n){var e=4,r=.001,i=1e-7,o=10,s=11,a=1/(s-1),u="function"===typeof Float32Array;function l(t,n){return 1-3*n+3*t}function c(t,n){return 3*n-6*t}function h(t){return 3*t}function f(t,n,e){return((l(n,e)*t+c(n,e))*t+h(n))*t}function p(t,n,e){return 3*l(n,e)*t*t+2*c(n,e)*t+h(n)}function d(t,n,e,r,s){var a,u,l=0;do{u=n+(e-n)/2,a=f(u,r,s)-t,a>0?e=u:n=u}while(Math.abs(a)>i&&++l<o);return u}function v(t,n,r,i){for(var o=0;o<e;++o){var s=p(n,r,i);if(0===s)return n;var a=f(n,r,i)-t;n-=a/s}return n}function g(t){return t}t.exports=function(t,n,e,i){if(!(0<=t&&t<=1&&0<=e&&e<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&e===i)return g;for(var o=u?new Float32Array(s):new Array(s),l=0;l<s;++l)o[l]=f(l*a,t,e);function c(n){for(var i=0,u=1,l=s-1;u!==l&&o[u]<=n;++u)i+=a;--u;var c=(n-o[u])/(o[u+1]-o[u]),h=i+c*a,f=p(h,t,e);return f>=r?v(n,h,t,e):0===f?h:d(n,i,i+a,t,e)}return function(t){return 0===t?0:1===t?1:f(c(t),n,i)}}},d0e2:function(t,n,e){var r,i,o,s=e("3109"),a=e("d5dc"),u=e("d68d"),l=e("2ba5"),c=e("f28d"),h=e("4d52"),f=e("4888"),p=a.WeakMap,d=function(t){return o(t)?i(t):r(t,{})},v=function(t){return function(n){var e;if(!u(n)||(e=i(n)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return e}};if(s){var g=new p,m=g.get,y=g.has,b=g.set;r=function(t,n){return b.call(g,t,n),n},i=function(t){return m.call(g,t)||{}},o=function(t){return y.call(g,t)}}else{var _=h("state");f[_]=!0,r=function(t,n){return l(t,_,n),n},i=function(t){return c(t,_)?t[_]:{}},o=function(t){return c(t,_)}}t.exports={set:r,get:i,has:o,enforce:d,getterFor:v}},d5dc:function(t,n,e){(function(n){var e=function(t){return t&&t.Math==Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof n&&n)||Function("return this")()}).call(this,e("5243"))},d68d:function(t,n){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d780:function(t,n,e){"use strict";var r=e("deaa"),i=e("ac83"),o=e("ee6f"),s=e("684e"),a=e("f240"),u=e("3193"),l=e("536c"),c=e("81a0"),h=Math.max,f=Math.min,p=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,n,e,r){var m=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,b=m?"$":"$0";return[function(e,r){var i=u(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,i,r):n.call(String(i),e,r)},function(t,r){if(!m&&y||"string"===typeof r&&-1===r.indexOf(b)){var o=e(n,t,this,r);if(o.done)return o.value}var u=i(t),p=String(this),d="function"===typeof r;d||(r=String(r));var v=u.global;if(v){var x=u.unicode;u.lastIndex=0}var P=[];while(1){var w=c(u,p);if(null===w)break;if(P.push(w),!v)break;var C=String(w[0]);""===C&&(u.lastIndex=l(p,s(u.lastIndex),x))}for(var E="",j=0,S=0;S<P.length;S++){w=P[S];for(var D=String(w[0]),I=h(f(a(w.index),p.length),0),A=[],k=1;k<w.length;k++)A.push(g(w[k]));var O=w.groups;if(d){var T=[D].concat(A,I,p);void 0!==O&&T.push(O);var M=String(r.apply(void 0,T))}else M=_(D,p,I,A,O,r);I>=j&&(E+=p.slice(j,I)+M,j=I+D.length)}return E+p.slice(j)}];function _(t,e,r,i,s,a){var u=r+t.length,l=i.length,c=v;return void 0!==s&&(s=o(s),c=d),n.call(a,c,(function(n,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":a=s[o.slice(1,-1)];break;default:var c=+o;if(0===c)return n;if(c>l){var h=p(c/10);return 0===h?n:h<=l?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):n}a=i[c-1]}return void 0===a?"":a}))}}))},dcb6:function(t,n,e){"use strict";var r=e("f30e");function i(t,n){return RegExp(t,n)}n.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),n.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},deaa:function(t,n,e){"use strict";e("b3f9");var r=e("3d8a"),i=e("f30e"),o=e("57c4"),s=e("21d4"),a=e("2ba5"),u=o("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),h=o("replace"),f=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),p=!i((function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var e="ab".split(t);return 2!==e.length||"a"!==e[0]||"b"!==e[1]}));t.exports=function(t,n,e,h){var d=o(t),v=!i((function(){var n={};return n[d]=function(){return 7},7!=""[t](n)})),g=v&&!i((function(){var n=!1,e=/a/;return"split"===t&&(e={},e.constructor={},e.constructor[u]=function(){return e},e.flags="",e[d]=/./[d]),e.exec=function(){return n=!0,null},e[d](""),!n}));if(!v||!g||"replace"===t&&(!l||!c||f)||"split"===t&&!p){var m=/./[d],y=e(d,""[t],(function(t,n,e,r,i){return n.exec===s?v&&!i?{done:!0,value:m.call(n,e,r)}:{done:!0,value:t.call(e,n,r)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=y[0],_=y[1];r(String.prototype,t,b),r(RegExp.prototype,d,2==n?function(t,n){return _.call(t,this,n)}:function(t){return _.call(t,this)})}h&&a(RegExp.prototype[d],"sham",!0)}},df50:function(t,n,e){var r=e("2a2f"),i=e("d5dc"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,n){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][n]||i[t]&&i[t][n]}},e17a:function(t,n){t.exports=!1},e1dd:function(t,n,e){var r=e("d68d"),i=e("67ea"),o=e("57c4"),s=o("match");t.exports=function(t){var n;return r(t)&&(void 0!==(n=t[s])?!!n:"RegExp"==i(t))}},e628:function(t,n,e){var r=e("df50"),i=e("65af"),o=e("1072"),s=e("ac83");t.exports=r("Reflect","ownKeys")||function(t){var n=i.f(s(t)),e=o.f;return e?n.concat(e(t)):n}},e67d:function(t,n){(function(t){var n="currentScript",e=t.getElementsByTagName("script");n in t||Object.defineProperty(t,n,{get:function(){try{throw new Error}catch(r){var t,n=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in e)if(e[t].src==n||"interactive"==e[t].readyState)return e[t];return null}}})})(document)},e887:function(t,n,e){"use strict";var r=e("31c3"),i=e.n(r);i.a},e9ce:function(t,n){function e(t,n){var e=t instanceof SVGElement;if(!e)throw new Error("svg element is required for svg.panzoom to work");var r=t.ownerSVGElement;if(!r)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");n.disableKeyboardInteraction||r.setAttribute("tabindex",0);var i={getBBox:s,getScreenCTM:a,getOwner:o,applyTransform:l,initTransform:u};return i;function o(){return r}function s(){var n=t.getBBox();return{left:n.x,top:n.y,width:n.width,height:n.height}}function a(){var t=r.getCTM();return t||r.getScreenCTM()}function u(n){var e=t.getCTM();n.x=e.e,n.y=e.f,n.scale=e.a,r.removeAttributeNS(null,"viewBox")}function l(n){t.setAttribute("transform","matrix("+n.scale+" 0 0 "+n.scale+" "+n.x+" "+n.y+")")}}t.exports=e},ee6f:function(t,n,e){var r=e("3193");t.exports=function(t){return Object(r(t))}},f240:function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},f28d:function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},f30e:function(t,n){t.exports=function(t){try{return!!t()}catch(n){return!0}}},f4dd:function(t,n,e){var r=e("91fe"),i=e("7a23"),o=e("e628"),s=e("8c47"),a=e("4aef"),u=e("01d7");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var n,e,r=s(t),i=a.f,l=o(r),c={},h=0;while(l.length>h)e=i(r,n=l[h++]),void 0!==e&&u(c,n,e);return c}})},f69c:function(t,n,e){var r=e("f28d"),i=e("e628"),o=e("4aef"),s=e("c223");t.exports=function(t,n){for(var e=i(n),a=s.f,u=o.f,l=0;l<e.length;l++){var c=e[l];r(t,c)||a(t,c,u(n,c))}}},f880:function(t,n,e){var r=e("e17a"),i=e("c85c");(t.exports=function(t,n){return i[t]||(i[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},f946:function(t,n){function e(t,n){var e=t instanceof HTMLElement;if(!e)throw new Error("svg element is required for svg.panzoom to work");var r=t.parentElement;if(!r)throw new Error("Do not apply panzoom to the detached DOM element. ");t.scrollTop=0,n.disableKeyboardInteraction||r.setAttribute("tabindex",0);var i={getBBox:s,getOwner:o,applyTransform:a};return i;function o(){return r}function s(){return{left:0,top:0,width:t.clientWidth,height:t.clientHeight}}function a(n){t.style.transformOrigin="0 0 0",t.style.transform="matrix("+n.scale+", 0, 0, "+n.scale+", "+n.x+", "+n.y+")"}}t.exports=e},fb11:function(t,n,e){"use strict";var r=e("f30e");t.exports=function(t,n){var e=[][t];return!!e&&r((function(){e.call(null,n||function(){throw 1},1)}))}},fb8e:function(t,n,e){var r=e("ac83"),i=e("a9f2"),o=e("57c4"),s=o("species");t.exports=function(t,n){var e,o=r(t).constructor;return void 0===o||void 0==(e=r(o)[s])?n:i(e)}},fd77:function(t,n,e){"use strict";var r;(e.r(n),"undefined"!==typeof window)&&(e("e67d"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(e.p=r[1]));e("af82"),e("79dd"),e("9a14");var i=e("8bbf"),o=e.n(i),s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"jsplumb-chart"},[e("div",{staticClass:"cavansClass",attrs:{id:"cavans"}},[e("flowchartNode",{directives:[{name:"show",rawName:"v-show",value:"flowchartnode"==t.nodeType,expression:"nodeType=='flowchartnode'"}],attrs:{data:{stepData:t.stepData}},on:{dblClick:t.dblClick,copyNode:t.copyNode,delNode:t.delNode}})],1)])},a=[];e("86dd"),e("1a8c"),e("b3f9"),e("3e5e"),e("4178"),e("3f36"),e("f4dd");function u(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function l(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?l(Object(e),!0).forEach((function(n){u(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var h=e("76f3"),f=e.n(h),p=function(t){var n=f.a.jsPlumb.getInstance({Container:t.container});return n.bind("click",(function(t){n.deleteConnection(t)})),n.bind("connection",(function(n){return t.completedConnect(),n})),n.bind("connectionDetached",(function(n){t.delConnections(n,(function(){}))})),n},d=e("391c"),v=e.n(d),g=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"flowchart-node",attrs:{id:"flowchartnode"}},t._l(t.stepData,(function(n,r){return e("div",{key:r,class:"designIconBig "+t.setClass(t.nodeClass(n.type)),style:"left:"+n.x+"px;top:"+n.y+"px;position:absolute;margin:0",attrs:{id:n.id,"data-sign":n.name,"data-type":n.type},on:{dblclick:function(e){return t.dblClick(n)}}},[e("i",{staticClass:"icon iconfont icon-ir-designIconBg designIconBg"}),e("i",{class:"iconTrue"==t.nodeIcon(n.type)?"icon iconfont icon-ir-d-"+n.type:"icon iconfont icon-ir-d-default",attrs:{id:"changeSte"}}),e("h4",{attrs:{title:n.name}},[t._v(t._s(n.name))]),e("h5",[t._v("ID:"+t._s(n.id))]),e("em",{staticClass:"icon iconfont icon-ir-copy",attrs:{id:"copeDes",title:"复制"},on:{click:function(e){return e.preventDefault(),t.copyNode(n)}}}),e("em",{staticClass:"fa fa-trash-o",attrs:{id:"removeDes",title:"删除"},on:{click:function(e){return t.delNode(n.id)}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:"split"==n.type,expression:"data.type=='split'"}],staticClass:"line-split",style:t.setLineSplit(n)})])})),0)},m=[];e("d780");function y(t){switch(t){case"source":case"sqlsource":case"streaming_source":case"source_dummy":case"StartEvent":return"classD_A";case"sink":case"show":return"classD_B";case"union":case"intersect":case"starjoin":return"classD_C";case"decision":case"split":case"validate":return"classD_D";case"join":case"productjoin":case"minus":return"classD_E";case"dataflow":case"hawq":case"hive":case"mapreduce":case"shell":case"spark":case"event":case"exclusive":case"parallel":return"classW_C";default:return"classO"}}var b={source:"source",sqlsource:"sqlsource",sink:"sink",decision:"decision",validate:"validate",supplement:"supplement",sql:"sql",transform:"transform",filter:"filter",sample:"sample",lookup:"lookup",join:"join",starjoin:"starjoin",productjoin:"productjoin",aggregate:"aggregate",top:"top",union:"union",intersect:"intersect",minus:"minus",split:"split",Correlation:"Correlation",Summary:"Summary",gradientboogradientbostedtrees_predict:"gradientboogradientbostedtrees_predict",MultilayerPerceptronPredict:"MultilayerPerceptronPredict",MultilayerPerceptronTrain:"MultilayerPerceptronTrain",kmeans_predict:"kmeans_predict",kmeans_train:"kmeans_train"};function _(t){return t in b&&"iconTrue"}function x(t){switch(t){case"decision":case"split":return"classD_D1";case"validate":return"classD_D2";case"join":case"productjoin":return"classD_E1";case"minus":return"classD_E2";case"dataflow":return"classW_A"}}var P={strokeWidth:2,stroke:"#4e5568",joinstyle:"round",outlineColor:"white",outlineWidth:0},w={strokeWidth:3,stroke:"#ff4e4e",outlineColor:"white",outlineWidth:0},C={endpoint:["Dot",{radius:8}],connectorStyle:P,connectorHoverStyle:w,paintStyle:{stroke:"#4e5568",fill:"transparent",radius:6,lineWidth:6},isSource:!0,connector:["Flowchart",{stub:[5,5],gap:10,cornerRadius:5,alwaysRespectStubs:!0}],isTarget:!1,maxConnections:1,connectorOverlays:[["Arrow",{width:10,length:10,location:1}]]},E={endpoint:["Dot",{radius:6}],connectorStyle:P,connectorHoverStyle:w,paintStyle:{fill:"#4e5568"},isSource:!1,connector:["Straight",{stub:[5,5],gap:10,cornerRadius:5,alwaysRespectStubs:!0}],isTarget:!0,maxConnections:1,connectorOverlays:[["Arrow",{width:10,length:10,location:1}]]},j=function(t,n,e,r,i,o){t.deleteEveryEndpoint(),n.$nextTick((function(){e.forEach((function(n,e){var s=n.type,a=n.id;if("classD_A"==y(s))t.addEndpoint(a,{anchors:"RightMiddle",maxConnections:100},c({uuid:a+"outputorigin"},C));else if("classD_B"==y(s))t.addEndpoint(a,{anchors:"LeftMiddle"},c({uuid:a+"inputdestination"},E));else if("classD_C"==y(s)||"classW_C"==y(s))t.addEndpoint(a,{anchors:"LeftMiddle",maxConnections:-1},c({uuid:a+"inputdestination"},E)),t.addEndpoint(a,{anchors:"RightMiddle",maxConnections:-1},c({uuid:a+"outputorigin"},C));else if("classD_D1"==x(s))if("flink"===r){var u=D(S(n.outputConfigurations,o));o.forEach(u,(function(n,e){t.addEndpoint(a,{anchors:n.value,maxConnections:-1,overlays:[["Label",{location:[3.5,0],label:n.key,cssClass:"endpointSourceLabelMult"}]]},c({uuid:a+n.key+"origin"},C))})),t.addEndpoint(a,{anchors:"LeftMiddle"},c({uuid:a+"inputdestination"},E))}else t.addEndpoint(a,{anchors:[1,.3,0,0],maxConnections:-1,overlays:[["Label",{location:[1.5,-.5],label:"ok",cssClass:"endpointSourceLabel"}]]},c({uuid:a+"okorigin"},C)),t.addEndpoint(a,{anchors:[1,.7,0,0],maxConnections:-1,overlays:[["Label",{location:[1.5,1.3],label:"error",cssClass:"endpointSourceLabel"}]]},c({uuid:a+"errororigin"},C)),t.addEndpoint(a,{anchors:"LeftMiddle"},c({uuid:a+"inputdestination"},E));else"classD_D2"==x(s)?(t.addEndpoint(a,{anchors:[1,.3,0,0],maxConnections:-1,overlays:[["Label",{location:[1.5,-.5],label:"ok",cssClass:"endpointSourceLabel"}]]},c({uuid:a+"okorigin"},C)),t.addEndpoint(a,{anchors:[1,.7,0,0],maxConnections:-1,overlays:[["Label",{location:[1.5,1.3],label:"error",cssClass:"endpointSourceLabel"}]]},c({uuid:a+"errororigin"},C)),t.addEndpoint(a,{anchors:"LeftMiddle"},c({uuid:a+"inputdestination"},E))):"classD_E1"==x(s)?(t.addEndpoint(a,{anchors:"RightMiddle",maxConnections:-1},c({uuid:a+"outputorigin"},C)),t.addEndpoint(a,{anchors:[0,.3,0,0],overlays:[["Label",{location:[-1,-.5],label:"left",cssClass:"endpointSourceLabel"}]]},c({uuid:a+"leftdestination"},E)),t.addEndpoint(a,{anchors:[0,.7,0,0],overlays:[["Label",{location:[-1,1.5],label:"right",cssClass:"endpointSourceLabel"}]]},c({uuid:a+"rightdestination"},E))):"classD_E2"==x(s)?(t.addEndpoint(a,{anchors:"RightMiddle",maxConnections:-1},c({uuid:a+"outputorigin"},C)),t.addEndpoint(a,{anchors:[0,.3,0,0],overlays:[["Label",{location:[-1,-.5],label:"input1",cssClass:"endpointSourceLabel"}]]},c({uuid:a+"input1destination"},E)),t.addEndpoint(a,{anchors:[0,.7,0,0],overlays:[["Label",{location:[-1,1.5],label:"input2",cssClass:"endpointSourceLabel"}]]},c({uuid:a+"input2destination"},E))):(t.addEndpoint(a,{anchors:"RightMiddle",maxConnections:-1},c({uuid:a+"outputorigin"},C)),t.addEndpoint(a,{anchors:"LeftMiddle",maxConnections:"sql"==s?-1:1},c({uuid:a+"inputdestination"},E)));t.draggable(a,{start:function(t){},drag:function(t){},stop:function(t){var n=t.el.style.top,e=t.el.style.left;i({x:parseInt(e.replace("px","")),y:parseInt(n.replace("px","")),id:t.el.attributes.id.nodeValue})}})}))}))},S=function(t,n){var e=[];return n.forEach(t,(function(t,n){e.push({key:n,value:t})})),e},D=function(t){var n=t.length,e=1,r=0;switch(n){case 21:case 20:case 19:case 18:case 17:e=4,r=-1.33;break;case 16:case 15:e=4,r=-1.25;break;case 14:case 13:case 12:e=3,r=-.73;break;case 11:e=2.5,r=-.65;break;case 10:e=2.5,r=-.6;break;case 9:case 8:e=2,r=-.45;break;case 7:e=1.8,r=-.2;break;case 5:e=2,r=-.33;break;case 6:e=2,r=-.35;break;case 4:case 3:e=1,r=.15;break;case 2:e=1,r=.25;break;case 1:e=1,r=.5;break;default:}for(var i=e/n,o=[],s=0;s<t.length;s++)o.push({key:t[s].key,value:[1,r,0,0]}),r+=i;return o},I=function(t,n,e,r){n.$nextTick((function(){e.forEach((function(n){t.connect({uuids:[n.source+n.sourceOutput+"origin",n.target+n.input+"destination"]})})),r()}))},A=function(t){var n="";return n="classD_A"==t?"t1Style":"classD_B"==t?"t3Style":"t2Style",n},k=function(t,n){return n.map(t,(function(t){return t.sourceOutput?t.sourceOutput=t.sourceOutput:t.sourceOutput="output","classD_C"==y(t.targetInput)&&(t.targetInput=t.source),t.input?t.targetInput=t.input:t.targetInput="input",t.input?t.input=t.input:t.input="input",t}))},O={watch:{data:function(t){this.stepData=t.stepData}},props:{data:{type:Object,default:{}}},components:{},data:function(){return{stepData:[],nodeClass:y,nodeIcon:_,setClass:A}},computed:{},mounted:function(){},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{delNode:function(t){this.$emit("delNode",t)},dblClick:function(t){this.$emit("dblClick",t)},copyNode:function(t){this.$emit("copyNode",t)},setLineSplit:function(t){if("split"==t.type){var n=v.a.toArray(t.outputConfigurations);switch(n.length){case 21:case 20:return"height: 280px; top: -100px;";case 19:case 18:case 17:return"height: 270px; top: -95px;";case 16:case 15:return"height: 270px; top: -90px;";case 14:case 13:case 12:return"height: 190px; top: -50px;";case 11:case 10:return"height: 155px; top: -43px;";case 9:case 8:return"height: 120px; top: -35px;";case 7:case 6:case 5:return"height: 120px; top: -25px;";default:return"height: 70px; top: 0px;"}}}}},T=O;e("7596");function M(t,n,e,r,i,o,s,a){var u,l="function"===typeof t?t.options:t;if(n&&(l.render=n,l.staticRenderFns=e,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=u):i&&(u=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,n){return u.call(n),c(t,n)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}var L=M(T,g,m,!1,null,null,null),F=L.exports,R=e("65c3");function N(t,n){var e=t.getContainer(),r=e.parentNode,i=R(e,{smoothScroll:!1,bounds:!1,autocenter:!0,zoomDoubleClickSpeed:1,minZoom:.5,maxZoom:2,beforeWheel:function(t){return n}});return t.mainContainerWrap=r,t.pan=i,i.on("zoom",(function(n){var e=n.getTransform(),r=e.scale;t.setZoom(r)})),r.style.cursor="grab",r.addEventListener("mousedown",(function(){this.style.cursor="grabbing",r.addEventListener("mouseout",(function(){this.style.cursor="grab"}))})),r.addEventListener("mouseup",(function(){this.style.cursor="grab"})),i}var B={init:N},U=B,G={watch:{data:function(t){this.stepData=this.data.steps,this.links=this.data.links,this.nodeType=this.data.nodeType,this.operationType=t.operationType,this.containerRect=t.containerRect,this.enablePanZoom=t.enablePanZoom},stepData:function(t){this.$emit("modifyChart",{stepData:t,links:this.links})},links:function(t){this.$emit("modifyChart",{stepData:this.stepData,links:t})}},props:{data:{type:Object,default:{}}},components:{flowchartNode:F},data:function(){return{jsplumbInstance:p({container:this.data.container,delConnections:this.delConnections,completedConnect:this.completedConnect,jsPlumb:this.data.jsPlumb}),stepData:[],links:[],nodeClass:y,nodeIcon:_,setClass:A,instanceZoom:"",nodeType:"",isPanZoomInit:!0,cssText:"",containerRect:""}},computed:{},mounted:function(){},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){var t=this;this.$nextTick((function(){if(t.enablePanZoom&&t.containerRect){var n=v.a.last(t.stepData),e=t.modifyNodePositon({x:n.x,y:n.y});t.stepData=v.a.map(v.a.cloneDeep(t.stepData),(function(t){return n.id==t.id?c({},t,{x:e.x,y:e.y}):t})),t.$emit("modifyJsplumbchartOption",c({},t.data,{steps:t.stepData,links:t.links,containerRect:""}))}t.drawJsplumbChart(c({},t.data,{jsplumbInstance:t.jsplumbInstance,self:t,flowData:t.stepData,links:t.links}),(function(){if(t.getLinksData(),t.enablePanZoom&&t.isPanZoomInit){if(U.init(t.jsplumbInstance,!1),t.isPanZoomInit=!1,!t.data.matrix)return;t.canvasMoveTo(t.data.matrix,(function(n){t.jsplumbInstance.pan.moveTo(n.x,n.y),t.jsplumbInstance.pan.zoomAbs(n.x,n.y,n.scale)}))}}))}))},beforeDestroy:function(){},destroyed:function(){},methods:{getScale:function(t){var n,e=t.getContainer();if(t.pan){var r=t.pan.getTransform(),i=r.scale;n=i}else{var o=window.getComputedStyle(e).transform;n=o&&1*o.split(", ")[3]}return t.setZoom(n),n},modifyNodePositon:function(t){this.jsplumbInstance;var n=this.containerRect,e=this.getScale(this.jsplumbInstance),r=(t.x-n.left)/e,i=(t.y-n.top)/e;return r-=20,i-=25,{x:r,y:i}},canvasMoveTo:function(t,n){n(t)},setCavansMatrix:function(t){var n=v.a.filter(t,(function(t){return"source"==t.type}));return n[0].stepSettings&&n[0].stepSettings.matrix},setNodeTemplate:function(t){switch(t){case"flowchartnode":return F;case"cepNode":return cepNode;default:}},drawJsplumbChart:function(t,n){var e=this;j(t.jsplumbInstance,t.self,t.flowData,t.flowType,(function(t){e.stepData=v.a.map(e.stepData,(function(n){return n.id==t.id?c({},n,{x:t.x,y:t.y}):n}))}),v.a),I(t.jsplumbInstance,t.self,t.links,n)},completedConnect:function(){this.getLinksData()},delConnections:function(t,n){n(),this.getLinksData()},delNode:function(t){this.stepData=v.a.filter(v.a.cloneDeep(this.stepData),(function(n){return n.id!=t}))},dblClick:function(t){this.$emit("nodedblClick",t)},getLinksData:function(){this.links=k(v.a.map(this.jsplumbInstance.getAllConnections(),(function(t){return{name:t.id,source:t.sourceId,sourceOutput:t.endpoints[0].canvas.nextSibling.textContent,target:t.targetId,targetInput:t.target.dataset.type,input:t.endpoints[1].canvas.nextSibling.textContent}})),v.a)},reset:function(){this.stepData=[],this.links=[],this.jsplumbInstance.deleteEveryEndpoint("workplace")},copyNode:function(t){var n=c({},t,{x:t.x+50,y:t.y+50,id:t.type+"_"+(this.stepData.length+1)+"_copy"});this.$emit("handleDrop",n)},setLineSplit:function(t){if("split"==t.type){var n=v.a.toArray(t.outputConfigurations);switch(n.length){case 21:case 20:return"height: 280px; top: -100px;";case 19:case 18:case 17:return"height: 270px; top: -95px;";case 16:case 15:return"height: 270px; top: -90px;";case 14:case 13:case 12:return"height: 190px; top: -50px;";case 11:case 10:return"height: 155px; top: -43px;";case 9:case 8:return"height: 120px; top: -35px;";case 7:case 6:case 5:return"height: 120px; top: -25px;";default:return"height: 70px; top: 0px;"}}}}},z=G,W=(e("e887"),M(z,s,a,!1,null,null,null)),H=W.exports,Y={Jsplumbchart:H};Object.keys(Y).forEach((function(t){o.a.component(t,Y[t])}));var X=Y;n["default"]=X},fee7:function(t,n,e){var r=e("f30e"),i=e("67ea"),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object}})}));
//# sourceMappingURL=jsplumbchart.umd.min.js.map